import{c as pn,r as et,j as o,F as Y,a as e,d as Na,b as Ia,e as ba,f as xi,g as Ri,h as ki,i as xo,k as Ro,l as ko,m as $i,H as Ut,T as E,n as ne,o as wn,B as R,p as $o,q as Ui,s as Vi,t as Bi,u as $,C as v,M as zi,v as Yi,P as ea,S as ae,w as Uo,A as qt,x as Fi,y as Gi,z as Wi,D as Hi,E as qi,G as Ki,I as ji,J as Ji,K as V,L as He,O as Xi,N as Kt,Q as Ye,U as Qi,V as pe,W as Vo,X as Sa,Y as In,Z as Zi,_ as Wn,$ as Re,a0 as es,a1 as _a,a2 as wa,a3 as Da,a4 as Qt,a5 as ia,a6 as ts,a7 as ns,a8 as as,a9 as sa,aa as oe,ab as Hn,ac as Bo,ad as Oa,ae as zo,af as Yo,ag as os,ah as is,ai as ss,aj as Dn,ak as _e,al as Fo,am as Go,an as Ma,ao as bn,ap as Vt,aq as ta,ar as za,as as Ta,at as tt,au as va,av as $t,aw as jt,ax as Jt,ay as rs,az as na,aA as Ya,aB as Pa,aC as Fa,aD as ls,aE as Wo,aF as La,aG as cs,aH as ds,aI as Te,aJ as us,aK as hs,aL as ps,aM as ms,aN as gs,aO as gn,aP as Ho,aQ as fs,aR as ys,aS as Es,aT as qo,aU as Ts,aV as Ga,aW as vs,aX as qn,aY as As,aZ as Gt,a_ as aa,a$ as Cs,b0 as Kn,b1 as Ko,b2 as jo,b3 as Jo,b4 as Ns,b5 as Is,b6 as On,b7 as Mn,b8 as bs,b9 as Ss,ba as Sn,bb as _s,bc as ws,bd as Ds,be as Os,bf as Ms,bg as Xo,bh as Ps,bi as Qo,bj as ra,bk as Ls,bl as xs,bm as Rs,bn as ks,bo as Wa,bp as Ha,bq as Aa,br as $s,bs as jn,bt as Gn,bu as xa,bv as Us,bw as Jn,bx as Vs,by as Nn,bz as qa,bA as Bs,bB as Ka,bC as Zo,bD as zs,bE as Ys,bF as Fs,bG as Gs,bH as ja,bI as Ja,bJ as Xa,bK as Qa,bL as Ws,bM as Hs,bN as qs,bO as Ks,bP as js,bQ as Js,bR as Xs,bS as Za,bT as eo,bU as to,bV as no,bW as la,bX as Zt,bY as Qs,bZ as Zs,b_ as er,b$ as tr,c0 as nr,c1 as ar,c2 as or,c3 as ir,c4 as sr,c5 as rr,c6 as lr,c7 as cr,c8 as dr,c9 as ur,ca as hr,cb as pr}from"./vendor-d883ba47.js";import{u as we,a as nt,b as mr,R as ei,c as ti,B as gr}from"./@react-router-e4bb08f7.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function a(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=a(i);fetch(i.href,l)}})();const fr=pn(n=>({user:{},isAuthorized:null,isContactToken:null,walletTransaction:[],isVerificationOpen:!1,activePlan:void 0,setIsVerificationOpen:t=>{n(a=>({isVerificationOpen:t}))},setUser:t=>{n(a=>({user:t}))},setIsAuthorized:t=>{n(a=>({isAuthorized:t}))},setIsContactToken:t=>{n(a=>({isContactToken:t}))},sessions:[],setSession:t=>{n(a=>({sessions:t}))},setWalletTransaction:t=>{n(a=>({walletTransaction:t}))},setActivePlan:t=>{n(a=>({activePlan:t}))}})),yr=pn(n=>({isLoading:!1,isError:!1,screen:"",currentPage:"",alerts:[],collapsed:!1,snackbar:void 0,moduleAccess:[],setModuleAccess:t=>{n(a=>({moduleAccess:t}))},setSnackbar:t=>{n(a=>({snackbar:t}))},setCollapsed:t=>{n(a=>({collapsed:t}))},setAlerts:t=>{n(a=>({alerts:t}))},setCurrentPage:t=>{n(a=>({currentPage:t}))},setScreen:t=>{n(a=>({screen:t}))},setError:t=>{n(a=>({isError:t}))},setLoading:t=>{n(a=>({isLoading:t}))}})),ao={createdAt:"",id:"",name:"",updatedAt:"",noOfContacts:0,contacts:[]},Er=pn(n=>({directoryList:[],contactList:[],selectedDirectory:ao,action:"",isListView:!1,setAction:t=>{n(a=>{const s={action:t};return t||(s.selectedDirectory=ao),{...s}})},setIsListView:t=>{n(a=>({isListView:t}))},setDirectoryList:t=>{n(a=>({directoryList:t}))},setContactList:t=>{n(a=>({contactList:t}))},setSelectedDirectory:t=>{n(a=>({selectedDirectory:t}))}})),oo={createdAt:"",id:"",name:"",updatedAt:"",type:"",message:""},Tr=pn(n=>({templates:[],selectedTemplate:oo,action:"",isListView:!1,setAction:t=>{n(a=>{const s={action:t};return t||(s.selectedDirectory=oo),{...s}})},setIsListView:t=>{n(a=>({isListView:t}))},setTemplates:t=>{n(a=>({templates:t}))},setSelectedTemplate:t=>{n(a=>({selectedTemplate:t}))}})),vr=pn(n=>({recentEvent:{id:"",contactDirectory:[],endDateTime:"",messageTemplate:"",name:"",startDateTime:"",type:"",userId:""},selectedEvent:{id:"",contactDirectory:[],endDateTime:"",messageTemplate:"",name:"",startDateTime:"",type:"",userId:""},upcomingEvents:[],todaysInvitations:[],transactionalEvents:[],statistics:{},chartSelectionEventId:"",selectedEventNotification:{contactDirectory:[],messageTemplate:"",name:""},eventNotifications:[],setTodaysInvitations:t=>{n(a=>({todaysInvitations:t}))},setEventNotifications:t=>{n(a=>({eventNotifications:t}))},setSelectedEventNotification:t=>{n(a=>({selectedEventNotification:t}))},setStatistics:t=>{n(a=>({statistics:t}))},setChartSelectionEventId:t=>{n(a=>({chartSelectionEventId:t}))},setSelectedEvent:t=>{n(a=>({selectedEvent:t}))},setRecentEvent:t=>{n(a=>({recentEvent:t}))},calendarEvents:[],setCalendarEvents:t=>{n(a=>({calendarEvents:t}))},setTransactionalEvents(t){n(a=>({transactionalEvents:t}))},setUpcomingEvents(t){n(a=>({upcomingEvents:t}))}})),Ca={id:"",userId:"",contactDirectory:[],endDateTime:"",name:"",startDateTime:"",type:""},Ar=pn(n=>({action:"",events:[],eventType:"",filters:{type:void 0,status:void 0},selectedEvents:Ca,myInvitations:[],selectedInvitation:{...Ca,invitedByInfo:{}},eventTypes:[],isListView:!1,isEdit:!1,eventAlbums:[],setEventAlbums:t=>{n(a=>({eventAlbums:t}))},setEventTypes:t=>{n(a=>({eventTypes:t}))},setIsEdit:t=>{n(a=>({isEdit:t}))},setIsListView:t=>{n(a=>({isListView:t}))},setSelectedInvitation:t=>{n(a=>({selectedInvitation:t}))},setMyInvitations:t=>{n(a=>({myInvitations:t}))},setAction:t=>{n(a=>({action:t}))},setEvents:t=>{n(a=>({events:t}))},setEventType:t=>{n(a=>({eventType:t}))},setFilters:t=>{n(a=>({filters:t}))},setSelectedEvents:t=>{n(a=>({selectedEvents:t}))}})),M={userStore:fr,appStore:yr,contactStore:Er,templateStore:Tr,dashboardStore:vr,eventStore:Ar},qe=()=>{const[n,t]=et.useState({width:0,height:0});return et.useLayoutEffect(()=>{const a=()=>{t({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",a),a(),()=>{window.removeEventListener("resize",a)}},[]),n},T={DASHBOARD:"dashboard",SERVICE:"service",EE:"/console",CONTACT_MANAGEMENT:"contact-management",TEMPLATE_MANAGEMENT:"template-management",EVENT_MANAGEMENT:"event-management",GIFT_MANAGEMENT:"gift-management",FEEDBACK:"feedback",REPORT_BUG:"report-bug",MY_PROFILE:"my-profile",LOGIN:"/account/login",AUTHORIZER:"/account/auth-verify",PRIVACY_POLICY:"/privacy-policy",TERMS_OF_SERVICE:"/terms-of-service",FORBIDDEN:"forbidden",TOO_MANY_REQUEST:"too-many-request",CONTACT_AUTH_COMPLETED:"contact-auth-completed",PRICING:"pricing",HOME:"/",CONTACT_MANAGEMENT_GOOGLE_DOC:"/guide/contact-management/google-contact",REVIEW_TEMPLATES:"review-templates",MY_INVITATION:"my-invitation",CONTACT_US:"contact-us",WALLET:"wallet",MY_PLAN:"my-plan",MY_PLAN_DETAILS:"my-plan-details",MY_PLAN_TRANSACTION_HISTORY:"my-plan-transaction-history",MY_PLAN_INVOICE:"my-plan-invoice",ADD_CREDIT:"add-credit",SERVICE_TRANSACTION_LOGS:"service-transaction-logs",BUY_PLAN:"buy-plan",NOT_FOUND:"not-found"},te={DASHBOARD:"Dashboard",SERVICE:"Service",MANAGEMENT:"Management",CONTACT_MANAGEMENT:"Contact",EVENT_MANAGEMENT:"Event",GIFT_MANAGEMENT:"Gift Management",TEMPLATE_MANAGEMENT:"Template",FEEDBACK:"Feedback",REPORT_BUG:"Report Bug",MY_PROFILE:"My Profile",MY_ACCOUNT:"My Account",ADMIN:"Admin",SUPPORT_HELP:"Support & help",REVIEW_TEMPLATES:"Review Templates",MY_INVITATION:"My Invitation",WALLET:"wallet",MY_PLAN:"My Plan",MY_PLAN_DETAILS:"My Plan Details",ADD_CREDIT:"Add Credit",SERVICE_TRANSACTION_LOGS:"Transaction Logs",FORBIDDEN:"Forbidden",BUY_PLAN:"Buy Plan",MY_PLAN_TRANSACTION_HISTORY:"My Plan Transaction History",MY_PLAN_INVOICE:"My Plan Invoice",TOO_MANY_REQUEST:"Too Many Request",CONTACT_AUTH_COMPLETED:"Contact Auth Completed",PRIVACY_POLICY:"Privacy Policy",TERMS_OF_SERVICE:"Terms of Service",NOT_FOUND:"*",CONTACT_US:"Contact Us",PRICING:"Pricing"},io=[te.DASHBOARD,te.SERVICE,te.CONTACT_MANAGEMENT,te.EVENT_MANAGEMENT,te.GIFT_MANAGEMENT,te.TEMPLATE_MANAGEMENT,te.FEEDBACK,te.REPORT_BUG,te.MY_PROFILE,te.REVIEW_TEMPLATES,te.MY_INVITATION,te.WALLET,te.ADD_CREDIT,te.MY_PLAN,te.MY_PLAN_DETAILS,te.SERVICE_TRANSACTION_LOGS,te.FORBIDDEN,te.NOT_FOUND,te.MY_PLAN_TRANSACTION_HISTORY,te.MY_PLAN_INVOICE,te.CONTACT_AUTH_COMPLETED],Cr=[T.SERVICE],ge={APPROVED:"APPROVED",PENDING_APPROVAL:"PENDING_APPROVAL",REJECTED:"REJECTED",NOT_STARTED:"NOT_STARTED",ON_HOLD:"ON_HOLD",COMPLETED:"COMPLETED",IN_PROGRESS:"IN_PROGRESS",APPEAL:"APPEAL",NO_CREDITS:"NO_CREDITS",FREE_CREDITS:"FREE_CREDITS"},Nr=[ge.PENDING_APPROVAL,ge.NOT_STARTED,ge.ON_HOLD,ge.IN_PROGRESS],Ne={IN_PROGRESS:"In progress",PENDING_APPROVAL:"Pending approval",REJECTED:"Rejected",APPROVED:"Approved",ON_HOLD:"On-hold/More info needed",COMPLETED:"Completed",NOT_STARTED:"Not started",NO_CREDITS:"No Credits",FREE_CREDITS:"Free plan"},xe={[Ne.IN_PROGRESS]:"processing",[Ne.PENDING_APPROVAL]:"processing",[Ne.REJECTED]:"error",[Ne.APPROVED]:"success",[Ne.COMPLETED]:"success",[Ne.NO_CREDITS]:"error",[Ne.FREE_CREDITS]:"error"},dn={[ge.APPROVED]:"Review Passed",[ge.REJECTED]:"Review failed",[ge.PENDING_APPROVAL]:"Pending for Review",[ge.APPEAL]:"Re Review"},Ze={[ge.APPROVED]:"success",[ge.REJECTED]:"error",[ge.PENDING_APPROVAL]:"processing",[ge.APPEAL]:"processing"},Ir=[{label:"Reject",key:ge.REJECTED,props:{danger:!0}},{label:"On-Hold/More info",key:ge.ON_HOLD,props:{type:"default"}},{label:"Approve",key:ge.APPROVED,props:{type:"primary"}}],un="YYYY/MM/DD",ni=[T.CONTACT_MANAGEMENT_GOOGLE_DOC,`/${T.FORBIDDEN}`,`${T.EE}/${T.FORBIDDEN}`,T.BUY_PLAN],ai={SMS:" SMS",VOICE_CALL:" Voice call",WHATSAPP:" Whatsapp"},Ra=[{label:o(Y,{children:[e(Na,{fontSize:"inherit"})," SMS"]}),value:"SMS"},{label:o(Y,{children:[e(Ia,{fontSize:"inherit"})," Whatsapp"]}),value:"WHATSAPP"},{label:o(Y,{children:[e(ba,{fontSize:"inherit"})," Voice call"]}),value:"VOICE_CALL"}],kn=[{label:o(Y,{children:[e(Na,{fontSize:"inherit"})," SMS"]}),value:"SMS"},{label:o(Y,{children:[e(Ia,{fontSize:"inherit"})," Whatsapp"]}),value:"WHATSAPP"},{label:o(Y,{children:[e(ba,{fontSize:"inherit"})," Voice call"]}),value:"VOICE_CALL"}],oi={VOICE_CALL:e(ba,{fontSize:"inherit"}),WHATSAPP:e(Ia,{fontSize:"inherit"}),SMS:e(Na,{fontSize:"inherit"})},Xn={1:"Progress",2:"Success",3:"Failed",4:"Not started"},Wt={1:"#609af8",2:"#4cd07d",3:"#ff6259",4:"#BDBDBD"},bt="DD MMM, YYYY",Pn="DD MMM, YYYY hh:mm a",Cn={marriage:9,birthday:16,others:10,forbidden:5},Ie={VIEW:"VIEW",EDIT:"EDIT",DELETE:"DELETE",ADD:"ADD"},br=[Ie.ADD,Ie.VIEW,Ie.EDIT],Sr={ADMIN:"ADMIN",CUSTOMER:"CUSTOMER"},_r=[{label:"Add Text",key:"TEXT",icon:e(xi,{fontSize:"small"})},{label:"Upload Audio",key:"UPLOAD_AUDIO",icon:e(Ri,{fontSize:"small"})},{label:"Record Audio",key:"RECORD_AUDIO",icon:e(ki,{fontSize:"small"})}],je={TEMPLATE:"templateViewType",CONTACT_DIRECTORY:"contactDirectoryViewType",CONTACT_LIST:"contactListViewType",EVENT:"eventViewType",EVENT_REVIEW:"eventReviewViewType",MY_INVITATION:"myInvitationViewType"},en={INPUT_TEXT:"INPUT_TEXT",INPUT_URL:"INPUT_URL",INPUT_DATETIME_LOCAL:"INPUT_DATETIME_LOCAL",RANGE_PICKER:"RANGE_PICKER",RADIO_GROUP:"RADIO_GROUP",SWITCH:"SWITCH"},cn={VOICE_CALL:"voiceCallPrice",SMS:"smsPrice",WHATSAPP:"whatsAppPrice"},wr={TEMPLATE:"Template",CONTACT_DIRECTORY:"Contact Directory",EVENT:"Event"},Dr={TEMPLATE:e(xo,{style:{fontSize:"20px",fontWeight:"bolder"}}),CONTACT_DIRECTORY:e(Ro,{style:{fontSize:"20px",fontWeight:"bolder"}}),EVENT:e(ko,{style:{fontSize:"20px",fontWeight:"bolder"}})},Or={TEMPLATE:T.TEMPLATE_MANAGEMENT,CONTACT_DIRECTORY:T.CONTACT_MANAGEMENT,EVENT:T.EVENT_MANAGEMENT},At={USER:"user",ALL:"all",STANDARD:"standard"},Mr=[{label:"Yours",value:At.USER},{label:"Standard",value:At.STANDARD}],ka=n=>o(Y,{children:[o("p",{children:["There are currently no active plans assigned to your account. To create"," ",n,", unlock more features and enhance your experience, consider purchasing a plan. Explore our range of plans to find the one that best suits your needs."]}),e("p",{children:"Need assistance or have questions? Our support team is here to help. Buy a plan today and take your experience to the next level!"})]}),ca={UPI:"UPI",CARD:"CARD",NETBANKING:"NETBANKING"},Ct={BAD_REQUEST:"Bad request",AUTHORIZATION_FAILED:"Authorization failed",INTERNAL_SERVER_ERROR:"Internal server error",TRANSACTION_NOT_FOUND:"Transaction not found",PAYMENT_ERROR:"Payment error",PAYMENT_PENDING:"Payment pending",PAYMENT_DECLINED:"Payment declined",TIMED_OUT:"Timed out",PAYMENT_SUCCESS:"Payment success"},Nt={BAD_REQUEST:"error",AUTHORIZATION_FAILED:"error",INTERNAL_SERVER_ERROR:"error",TRANSACTION_NOT_FOUND:"error",PAYMENT_ERROR:"error",PAYMENT_PENDING:"processing",PAYMENT_DECLINED:"error",TIMED_OUT:"error",PAYMENT_SUCCESS:"success"},Pr=18,K=$i.create(),so=["post","put","delete"],Lr=(n,t)=>{K.interceptors.request.use(function(a){const{method:s,url:i}=a;return so.includes(s)&&t.open({key:`${s}-${i}`,type:"loading",content:"Loading..."}),a},function(a){return Promise.reject(a)}),K.interceptors.response.use(a=>{const{data:s,config:i,status:l}=a,{url:c,method:r}=i;return so.includes(r)&&t.open({key:`${r}-${c}`,type:"success",content:(s==null?void 0:s.message)||"Operation completed successfully",duration:5}),a},a=>{var r,d,h,u,y,g,C;const{config:s,response:i}=a,l=s==null?void 0:s.method,c=s==null?void 0:s.url;if(((r=a==null?void 0:a.response)==null?void 0:r.status)===Ut.Unauthorized)console.log("window.location.search",window.location.search),n(window.location.search?`${T.LOGIN}${window.location.search}`:T.LOGIN);else if(((d=a==null?void 0:a.response)==null?void 0:d.status)===Ut.Forbidden){const p=i==null?void 0:i.data;t.open({key:`${l}-${c}`,type:"error",content:(p==null?void 0:p.message)||"Unauthorized user!",duration:5}),n(`/${T.FORBIDDEN}`)}else if(((h=a==null?void 0:a.response)==null?void 0:h.status)===Ut.NotFound)n("/404");else if(((u=a==null?void 0:a.response)==null?void 0:u.status)===Ut.TooManyRequests){const p=i==null?void 0:i.data;t.open({key:`${l}-${c}`,type:"error",content:(p==null?void 0:p.message)||"Too many requests!",duration:5}),n(`/${T.TOO_MANY_REQUEST}`)}else if(((y=a==null?void 0:a.response)==null?void 0:y.status)===Ut.BadRequest){const p=i==null?void 0:i.data;t.open({key:`${l}-${c}`,type:"error",content:(p==null?void 0:p.message)||"Something went wrong!",duration:5})}else if(((g=a==null?void 0:a.response)==null?void 0:g.status)===Ut.ExpectationFailed||((C=a==null?void 0:a.response)==null?void 0:C.status)===Ut.NotAcceptable){const p=i==null?void 0:i.data;t.open({key:`${l}-${c}`,type:"warning",content:(p==null?void 0:p.message)||"Something went wrong!",duration:10})}})},tn={createContactDirectory:"/api/v1/app/contact/directory",getContactDirectory:"/api/v1/app/contact/directory",updateContactDirectory:"/api/v1/app/contact/directory",deleteContactDirectory:"/api/v1/app/contact/directory/",getContactList:"/api/v1/app/contact/",getGoogleContactList:"/api/v1/app/contact/google/contact"},nn={createTemplate:"/api/v1/app/message/template",reAppealTemplate:"/api/v1/app/message/template/re-appeal",getTemplate:"/api/v1/app/message",getTemplateById:"/api/v1/app/message/template/",updateTemplate:"/api/v1/app/message/template",deleteTemplate:"/api/v1/app/message/template/"},$e={loginEmailUser:"/api/v1/app/auth/login-email",loginGoogleUser:"/api/v1/app/auth/google",verifyEmailOTP:"/api/v1/app/auth/verify-email-otp",verifyOTP:"/api/v1/app/user/verify-otp",getUserSession:"/api/v1/app/user/session",deleteUserSession:"/api/v1/app/user/session",verifyAuth:"/api/v1/app/auth/verify-auth",getUserInfo:"/api/v1/app/user/info",getWalletTransaction:"/api/v1/app/user/wallet-transaction",generatePaymentLink:"/api/v1/app/user/generate-payment-link",getActiveUserPricingPlan:"/api/v1/app/plan/active",requestOtp:"/api/v1/app/user/request-otp",updateUserInfo:"/api/v1/app/user/info",logout:"/api/v1/app/auth/logout",getServiceTransactionLogs:"/api/v1/app/service-transaction/logs",getPlanPaymentTransactions:"/api/v1/app/plan/transactions",getPlanPaymentTransactionById:"/api/v1/app/plan/transaction"},Pe={createEvent:"/api/v1/app/event/my-events",getEvent:"/api/v1/app/event/my-events",updateEvent:"/api/v1/app/event/my-events",deleteEvent:"/api/v1/app/event/my-events/",getEventContact:"/api/v1/app/event",updateEventContact:"/api/v1/app/event",getEventNotificationContact:"/api/v1/app/event",getEventNotificationTemplate:"/api/v1/app/event",exportNotificationContacts:"/api/v1/app/event",exportContact:"/api/v1/app/contact/export/",getMyInvitation:"/api/v1/app/event/my-invitation",addEventAlbum:"/api/v1/app/event/media/album",updateEventAlbum:"/api/v1/app/event/media/album",deleteEventAlbum:"/api/v1/app/event/media/album",getEventAlbum:"/api/v1/app/event/media/album",getEventInvitationAlbum:"/api/v1/app/event/media/album",getEventForm:"/api/v1/app/event/form",getEventType:"/api/v1/app/event/event-type",sendNotificationToOrganiser:"/api/v1/service/user/send-notification-me"},ro={getRecentEventNotification:"/api/v1/app/event/recent-event-notification",getEventStatistics:"/api/v1/app/event/statistic"},Mt={getAlerts:"/api/v1/app/common/alerts",createBug:"/api/v1/app/common/report-bug",contactUs:"/api/v1/app/common/contact-us",submitFeedback:"/api/v1/app/common/feedback",uploadFile:"/api/v1/app/file/upload-single",getDataByPinCode:"/api/v1/pincode/",getPricingPlans:"/api/v1/app/common/pricing-plans",getAppModuleAccess:"/api/v1/app/module/access"},Pt={getTemplates:"/api/v1/app/admin/templates",getUser:"/api/v1/app/admin/user",getAllUsers:"/api/v1/app/admin/users",getContacts:"/api/v1/app/admin/event",getTemplate:"/api/v1/app/admin/event",adminTemplateAction:"/api/v1/app/admin/template/action",updateWallet:"/api/v1/app/admin/wallet-transaction",getWalletTransaction:"/api/v1/app/admin/wallet-transaction"},lo={buyPlanPayment:"/api/v1/payment/buy-plan/pay",checkPlanPaymentAndAssignPlan:"/api/v1/payment/buy-plan/status"},xr={adminTemplateAction:async n=>await K.put(Pt.adminTemplateAction,n).then(t=>!0).catch(t=>{throw t}),getTemplates:async(n={})=>await K.get(Pt.getTemplates,{params:n}).then(t=>t.data.result).catch(t=>{throw t}),getEventContacts:async n=>await K.get(`${Pt.getContacts}/${n}/contacts`).then(t=>t.data.result).catch(t=>{throw t}),getEventTemplate:async n=>await K.get(`${Pt.getTemplate}/${n}/template`).then(t=>t.data.result).catch(t=>{throw t}),getUser:async n=>await K.get(`${Pt.getUser}/${n}`).then(t=>t.data.result).catch(t=>{throw t}),getAllUsers:async n=>await K.get(Pt.getAllUsers,{params:{search:n}}).then(t=>t.data.result).catch(t=>{throw t}),updateWallet:async n=>await K.post(Pt.updateWallet,n).then(t=>t.data.status).catch(t=>{throw t}),getWalletTransaction:async(n,t,a)=>await K.get(Pt.getWalletTransaction,{params:{...n,offset:t,limit:a}}).then(s=>s.data.result).catch(s=>{throw s})},Rr={getAlerts:async()=>await K.get(Mt.getAlerts).then(n=>n.data.result).catch(n=>{throw n}),createBug:async n=>await K.post(Mt.createBug,n).then(t=>t.data).catch(t=>{throw t}),contactUs:async n=>await K.post(Mt.contactUs,n).then(t=>t.data).catch(t=>{throw t}),submitFeedback:async n=>await K.post(Mt.submitFeedback,n).then(t=>t.data).catch(t=>{throw t}),uploadFile:async(n,t)=>{const a=new FormData;return a.append("file",n),a.append("name",n.name),a.append("format",n.type),await K.post(`${Mt.uploadFile}/${t}`,a).then(s=>s.data.url).catch(s=>{throw s})},getDataByPinCode:async n=>await K.get(`${Mt.getDataByPinCode}${n}`).then(t=>t.data.records).catch(t=>{throw t}),getPricingPlans:async()=>await K.get(Mt.getPricingPlans).then(n=>n.data.result).catch(n=>{throw n}),getAppModuleAccess:async()=>await K.get(Mt.getAppModuleAccess).then(n=>n.data.result).catch(n=>{throw n})},kr={createContactDirectory:async n=>await K.post(tn.createContactDirectory,n).then(t=>!0).catch(t=>{throw t}),updateContactDirectory:async n=>await K.put(tn.updateContactDirectory,n).then(t=>!0).catch(t=>{throw t}),deleteContactDirectory:async n=>await K.delete(`${tn.deleteContactDirectory}${n}`).then(t=>!0).catch(t=>{throw t}),getContactDirectory:async(n={})=>await K.get(tn.getContactDirectory,{params:n}).then(t=>t.data.result).catch(t=>{throw t}),getGoogleContactList:async()=>await K.get(tn.getGoogleContactList).then(n=>n.data.result).catch(n=>{throw n}),getContactList:async n=>await K.get(`${tn.getContactList}${n}`).then(t=>t.data.result).catch(t=>{throw t})},$r={getRecentEventNotification:async n=>await K.get(ro.getRecentEventNotification,{params:{id:n}}).then(t=>t.data.result).catch(t=>{throw t}),getEventStatistics:async()=>await K.get(ro.getEventStatistics).then(n=>n.data.result).catch(n=>{throw n})},Ur={createEvent:async n=>await K.post(Pe.createEvent,n).then(t=>!0).catch(t=>{throw t}),updateEvent:async n=>await K.put(Pe.updateEvent,n).then(t=>!0).catch(t=>{throw t}),deleteEvent:async n=>await K.delete(`${Pe.deleteEvent}${n}`).then(t=>!0).catch(t=>{throw t}),getEvent:async(n={})=>await K.get(Pe.getEvent,{params:n}).then(t=>t.data.result).catch(t=>{throw t}),getEventContact:async n=>await K.get(`${Pe.getEventContact}/${n}/contacts`).then(t=>t.data.result).catch(t=>{throw t}),updateEventContact:async(n,t)=>await K.put(`${Pe.updateEventContact}/${n}/contacts`,{contacts:t}).then(a=>a.data.status).catch(a=>{throw a}),updateEventNotificationContact:async(n,t,a)=>await K.put(`${Pe.getEventNotificationContact}/${n}/notification/${t}/contacts`,{contacts:a}).then(s=>s.data.result).catch(s=>{throw s}),getEventNotificationContact:async(n,t)=>await K.get(`${Pe.getEventNotificationContact}/${n}/notification/${t}/contacts`).then(a=>a.data.result).catch(a=>{throw a}),getEventNotificationTemplate:async(n,t)=>await K.get(`${Pe.getEventNotificationTemplate}/${n}/notification/${t}/template`).then(a=>a.data.result).catch(a=>{throw a}),getMyInvitation:async(n={})=>await K.get(Pe.getMyInvitation,{params:n}).then(t=>{const a=t.data.result;return n.id?(a==null?void 0:a[0])||{}:a}).catch(t=>{throw t}),addEventAlbum:async(n,t)=>await K.post(Pe.addEventAlbum,{attachments:t,eventId:n}).then(a=>{var s;return(s=a.data)==null?void 0:s.status}).catch(a=>{throw a}),getEventAlbum:async(n,t)=>await K.get(Pe.getEventAlbum,{params:{...t,eventId:n}}).then(a=>a.data.result).catch(a=>{throw a}),deleteEventAlbum:async(n,t)=>await K.delete(Pe.deleteEventAlbum,{data:{id:t},params:{eventId:n}}).then(a=>a.data.status).catch(a=>{throw a}),getEventInvitationAlbum:async(n,t)=>await K.get(Pe.getEventInvitationAlbum,{params:{...t,eventId:n}}).then(a=>a.data.result).catch(a=>{throw a}),sendNotificationToOrganiser:async n=>await K.post(`${Pe.sendNotificationToOrganiser}/${n}`).then(t=>{var a;return(a=t.data)==null?void 0:a.status}).catch(t=>{throw t}),getEventForm:async(n,t)=>await K.get(`${Pe.getEventForm}/${t}/${n}`).then(a=>a.data.result).catch(a=>{throw a}),getEventType:async()=>await K.get(Pe.getEventType).then(n=>n.data.result).catch(n=>{throw n}),exportNotificationContacts:async(n,t)=>await K.get(`${Pe.exportNotificationContacts}/${n}/notification/${t}/export`,{responseType:"blob"}).then(a=>a.data).catch(a=>{throw a})},Vr={buyPlanPayment:async(n,t)=>await K.post(lo.buyPlanPayment,{planId:n,transactionId:t}).then(a=>a.data).catch(a=>{throw a}),checkPlanPaymentAndAssignPlan:async n=>await K.post(lo.checkPlanPaymentAndAssignPlan,{paymentToken:n}).then(t=>t.data).catch(t=>{throw t})},Br={createTemplate:async n=>await K.post(nn.createTemplate,n).then(t=>!0).catch(t=>{throw t}),updateTemplate:async n=>{const{message:t,name:a,type:s,channel:i,id:l,blob:c}=n,r={message:t,name:a,type:s,channel:i,id:l,blob:c};return await K.put(nn.updateTemplate,r).then(d=>!0).catch(d=>{throw d})},deleteTemplate:async n=>await K.delete(`${nn.deleteTemplate}${n}`).then(t=>!0).catch(t=>{throw t}),getTemplate:async(n,t={})=>await K.get(`${nn.getTemplate}/${n}/template`,{params:t}).then(a=>a.data.result).catch(a=>{throw a}),reAppealTemplate:async n=>{const{comment:t,id:a}=n,s={id:a,comment:t};return await K.put(nn.reAppealTemplate,s).then(i=>!0).catch(i=>{throw i})},getTemplateById:async n=>await K.get(`${nn.getTemplateById}${n}`).then(t=>t.data.result).catch(t=>{throw t})},zr={requestOtp:async()=>await K.get($e.requestOtp).then(n=>!0).catch(n=>{throw n}),loginEmailUser:async n=>await K.post($e.loginEmailUser,{email:n}).then(t=>!0).catch(t=>{throw t}),verifyOTP:async n=>await K.post($e.verifyOTP,{otp:n}).then(t=>{var a;return(a=t.data)==null?void 0:a.status}).catch(t=>{throw t}),verifyEmailOTP:async n=>await K.post($e.verifyEmailOTP,{otp:n}).then(t=>t.data.status).catch(t=>{throw t}),getUserInfo:async()=>await K.get($e.getUserInfo).then(n=>n.data.userInfo).catch(n=>{throw n}),updateUserInfo:async n=>await K.put($e.updateUserInfo,n).then(t=>!0).catch(t=>{throw t}),verifyAuth:async()=>await K.get($e.verifyAuth).then(n=>{const t=n.data.status,a=n.data.isContactToken;return{isAuthenticated:t,isContactToken:a}}).catch(n=>{throw n}),logout:async()=>await K.post($e.logout).then(n=>(console.log(n.data),n.data.status)).catch(n=>{throw n}),getUserSession:async()=>await K.get($e.getUserSession).then(n=>n.data.result).catch(n=>{throw n}),deleteUserSession:async n=>await K.post($e.deleteUserSession,{sessionId:n}).then(t=>!0).catch(t=>{throw t}),getWalletTransaction:async n=>await K.get($e.getWalletTransaction,{params:n}).then(t=>t.data.result).catch(t=>{throw t}),generatePaymentLink:async n=>await K.get(`${$e.generatePaymentLink}/amount`).then(t=>t.data.result).catch(t=>{throw t}),getActiveUserPricingPlan:async()=>await K.get($e.getActiveUserPricingPlan).then(n=>n.data.result).catch(n=>{throw n}),getServiceTransactionLogs:async()=>await K.get($e.getServiceTransactionLogs).then(n=>n.data.result).catch(n=>{throw n}),getPlanPaymentTransactions:async()=>await K.get($e.getPlanPaymentTransactions).then(n=>n.data.result).catch(n=>{throw n}),getPlanPaymentTransactionById:async n=>await K.get(`${$e.getPlanPaymentTransactionById}/${n}`).then(t=>t.data.result).catch(t=>{throw t})},Yr={contactManagement:kr,userManagement:zr,templateManagement:Br,eventManagement:Ur,dashboardAPI:$r,commonAPI:Rr,adminAPI:xr,paymentAPI:Vr},q=Yr,Fr=""+new URL("authenticating-animate-f8e50e89.svg",import.meta.url).href;const{Text:co}=ne,Gr=()=>{const{setLoading:n,screen:t}=M.appStore(),{setIsAuthorized:a,setIsContactToken:s}=M.userStore(),i=we(),[l,c]=nt();E.useEffect(()=>{ni.includes(window.location.pathname)||r()},[]);const r=()=>{n(!0),q.userManagement.verifyAuth().then(d=>{n(!1);const{isAuthenticated:h,isContactToken:u}=d;if(a(h),s(u),h){const y=l.get("returnTo")?atob(l.get("returnTo")):`${T.EE}/${T.DASHBOARD}`;console.log({url:y}),i(y)}else i(T.LOGIN)}).catch(d=>{n(!1),console.log({location:"verifyAuth",error:d})})};return o("div",{className:"authorizer__container",children:[e(co,{className:"loading-text",children:e("p",{children:"Loading, please wait..."})}),e(co,{className:"other-text",children:"Bringing people together, one event at a time!"}),e("div",{children:e("img",{loading:"lazy",src:Fr,alt:"",width:t==="MOBILE"?"80%":"35%"})})]})},Wr=""+new URL("403-1-fbd56e86.svg",import.meta.url).href,Hr=""+new URL("403-2-97374b69.svg",import.meta.url).href,qr=""+new URL("403-3-3dda8c34.svg",import.meta.url).href,Kr=""+new URL("403-4-861b8c99.svg",import.meta.url).href,jr=""+new URL("403-5-b7ef6800.svg",import.meta.url).href,ii=()=>{const{screen:n}=M.appStore(),t=Math.ceil(Math.random()*(Cn.forbidden-1)),a=E.useMemo(()=>new URL(Object.assign({"../../assets/svg/403/403-1.svg":Wr,"../../assets/svg/403/403-2.svg":Hr,"../../assets/svg/403/403-3.svg":qr,"../../assets/svg/403/403-4.svg":Kr,"../../assets/svg/403/403-5.svg":jr})[`../../assets/svg/403/403-${t}.svg`],self.location),[]);return e(wn,{icon:e("img",{loading:"lazy",src:a,alt:"",width:n==="MOBILE"?"100%":"30%"}),subTitle:"Sorry, you are not authorized to access this page.",title:"Unauthorized",extra:e(R,{type:"default",onClick:()=>{window.location.replace("/")},children:"Back Home"})})},Jr=""+new URL("404-8d7aeb2d.svg",import.meta.url).href,{Title:Xr,Paragraph:uo}=ne,si=()=>{const{screen:n}=M.appStore();return e(wn,{subTitle:o("div",{children:[e(uo,{children:"The page you are trying to access does not exist or has been moved."}),e(uo,{children:"Try going back to our homepage."})]}),title:e(Xr,{level:3,children:"Oops! Page not found"}),icon:e("img",{loading:"lazy",src:Jr,alt:"",width:n==="MOBILE"?"100%":"30%"}),extra:e(R,{type:"primary",onClick:()=>{window.location.replace("/")},children:"Back to home"})})};const{Title:an,Paragraph:on}=ne,Qr=()=>{const{screen:n}=M.appStore();return o("div",{style:{padding:n==="MOBILE"?"0px 2rem":"0px 20rem"},className:"google-contact-doc__container",children:[e(an,{level:1,children:"Exporting Contacts from Google Contacts"}),e(an,{level:3,children:"Step 1: Open Google Contacts"}),o(on,{className:"doc-paragraph",children:["Visit"," ",o("i",{children:[e("a",{href:"https://contacts.google.com/",target:"_blank",children:"Google Contacts"})," "]}),"and log in with your Google account."]}),e(an,{level:3,children:"Step 2: Select Contacts"}),e(on,{className:"doc-paragraph",children:"On the left side, select the contacts you want to export. You can select all contacts or specific ones."}),e(an,{level:3,children:"Step 3: Export Contacts"}),o(on,{className:"doc-paragraph",children:["Click on ",e("b",{children:'"More"'})," and choose ",e("b",{children:'"Export"'})," from the dropdown menu."]}),e(an,{level:3,children:"Step 4: Choose Export Format"}),o(on,{className:"doc-paragraph",children:["You can export in various formats in ",e("b",{children:"Google CSV"})," or"," ",e("b",{children:"vCard (for iOS Contacts)"}),"."]}),e(an,{level:3,children:"Step 5: Download"}),o(on,{className:"doc-paragraph",children:["Click on the ",e("b",{children:'"Export"'})," button, and your contacts will be downloaded in the chosen format."]}),e(on,{className:"doc-paragraph",children:"This is the recommended and legitimate way to export contacts from Google Contacts. Always ensure you comply with the terms of service and privacy policies of the services you are using. Unauthorized scraping or exporting of data may lead to account suspension or other consequences."})]})};const Zr=[{key:T.MY_PROFILE,name:te.MY_PROFILE,href:`${T.EE}/${T.MY_PROFILE}`,icon:e($o,{fontSize:"inherit"})},{key:T.MY_PLAN,name:te.MY_PLAN,href:`${T.EE}/${T.MY_PLAN}`,icon:e(Ui,{fontSize:"inherit"})},{key:T.MY_PLAN_TRANSACTION_HISTORY,name:te.MY_PLAN_TRANSACTION_HISTORY,href:`${T.EE}/${T.MY_PLAN_TRANSACTION_HISTORY}`,icon:e(Vi,{fontSize:"inherit"})},{key:T.SERVICE_TRANSACTION_LOGS,name:te.SERVICE_TRANSACTION_LOGS,href:`${T.EE}/${T.SERVICE_TRANSACTION_LOGS}`,icon:e(Bi,{fontSize:"inherit"})}],{Text:ho}=ne,el=n=>{var f;const{setCollapsed:t,collapsed:a}=n,{user:s,setIsAuthorized:i,activePlan:l}=M.userStore(),{setLoading:c,setCurrentPage:r,screen:d,moduleAccess:h}=M.appStore(),[u,y]=E.useState(!1),g=we(),C=()=>{!a&&d==="MOBILE"&&t(!0),y(!1)},p=A=>{y(A)},m=()=>{c(!0),C(),q.userManagement.logout().then(A=>{c(!1),i(!1),r(""),g(T.HOME)}).catch(A=>{c(!1),console.log({location:"logout",error:A})})},_=E.useMemo(()=>h.map(A=>A.key),[h]),D=E.useMemo(()=>Zr.filter(A=>_.includes(A.key)),[_]);return e("div",{className:"header__container",children:o($,{children:[o(v,{flex:24,children:[E.createElement(a?zi:Yi,{className:"layout__trigger-sidebar",onClick:()=>{t(!a)}}),e(ho,{className:"app__name",children:"Eazy Event"})]}),e(v,{span:12,children:e(ea,{placement:"bottomRight",content:o(ae,{direction:"vertical",children:[D.map(A=>e(R,{type:"text",icon:A.icon,onClick:()=>{C(),g(A.href)},style:{width:"100%",textAlign:"start"},children:A.name})),e(R,{type:"text",icon:e(Uo,{fontSize:"inherit"}),onClick:m,style:{width:"100%",textAlign:"start"},children:"Logout"})]}),trigger:"click",open:u,onOpenChange:p,children:o(ae,{className:"float-right",children:[e(qt,{src:s.picture}),e("div",{className:"user__button",children:o(ho,{children:[o("div",{style:{fontSize:"16px"},children:[s.firstName," ",e(Fi,{fontSize:"inherit"})]}),e("div",{style:{fontSize:"12px"},children:e("span",{children:((f=l==null?void 0:l.pricingPlan)==null?void 0:f.name)||"No active plan"})})]})})]})})})]})})};const tl=(n,t)=>[{type:"divider"},{type:"group",label:te.ADMIN,key:te.ADMIN,children:[{key:T.REVIEW_TEMPLATES,label:te.REVIEW_TEMPLATES,icon:e(Ki,{style:{fontSize:"20px",fontWeight:"bolder"}}),onClick:()=>{t==null||t(),n(`${T.EE}/${T.REVIEW_TEMPLATES}`)}}]}],nl=(n,t,a)=>{const s=a?tl(n,t):[];return[{key:T.DASHBOARD,icon:e(Gi,{style:{fontSize:"20px",fontWeight:"bolder"}}),label:te.DASHBOARD,onClick:()=>{t==null||t(),n(`${T.EE}/${T.DASHBOARD}`)}},{type:"divider"},{label:te.MANAGEMENT,key:te.MANAGEMENT,type:"group",children:[{key:T.CONTACT_MANAGEMENT,label:te.CONTACT_MANAGEMENT,icon:e(xo,{style:{fontSize:"20px",fontWeight:"bolder"}}),onClick:()=>{t==null||t(),n(`${T.EE}/${T.CONTACT_MANAGEMENT}`)}},{key:T.TEMPLATE_MANAGEMENT,label:te.TEMPLATE_MANAGEMENT,icon:e(Ro,{style:{fontSize:"20px",fontWeight:"bolder"}}),onClick:()=>{t==null||t(),n(`${T.EE}/${T.TEMPLATE_MANAGEMENT}`)}}]},{type:"divider"},{type:"group",label:te.SERVICE,key:te.SERVICE,children:[{key:T.MY_INVITATION,label:te.MY_INVITATION,icon:e(Wi,{style:{fontSize:"20px",fontWeight:"bolder"}}),onClick:()=>{t==null||t(),n(T.MY_INVITATION)}},{key:T.EVENT_MANAGEMENT,label:te.EVENT_MANAGEMENT,icon:e(ko,{style:{fontSize:"20px",fontWeight:"bolder"}}),onClick:()=>{t==null||t(),n(`${T.EE}/${T.EVENT_MANAGEMENT}`)}}]},...s,{type:"divider"},{label:te.SUPPORT_HELP,key:te.SUPPORT_HELP,type:"group",children:[{key:T.FEEDBACK,icon:e(Hi,{style:{fontSize:"20px",fontWeight:"bolder"}}),label:te.FEEDBACK,onClick:()=>{t==null||t(),n(`${T.EE}/${T.FEEDBACK}`)}},{key:T.REPORT_BUG,icon:e(qi,{style:{fontSize:"20px",fontWeight:"bolder"}}),label:te.REPORT_BUG,onClick:()=>{t==null||t(),n(`${T.EE}/${T.REPORT_BUG}`)}}]}]},al=/^\+91\s\d{5}\s\d{5}/,ol=(n,t)=>{if(!(t===null||t===""))return t},il=n=>{const t=JSON.stringify(n,ol);return JSON.parse(t)},sl=(n,t)=>{if(t==="VOICE_CALL"){const a=n,s={};return Object.values(a).forEach(i=>{if(i.type==="AUDIO"){let r=new URL(i.value).pathname;r.startsWith("/")&&(r=r.substring(1)),i.value=decodeURIComponent(r)}s[i.id]=i}),s}return n},po=n=>{try{const t=n.toString();if(t.length===10)return Number(t);const a=t.includes(":::")?t.split(":::"):t,s=typeof a=="object"?a[0]:t;return console.log({phoneNmbr:s}),s.length===10?(console.log("1"),Number(s)):al.test(s)?(console.log("2"),Number(s.replace("+91","").replaceAll(" ","").replaceAll("-",""))):s.startsWith("+91")?(console.log("3"),Number(s.replace("+91","").replaceAll(" ","").replaceAll("-",""))):s.startsWith("91")?(console.log("4"),Number(s.replace("91","").replaceAll(" ","").replaceAll("-",""))):(console.log("5"),Number(s.replaceAll(" ","").replaceAll("-","")))}catch(t){return console.error({location:"phoneNumberParser",error:t,text:n}),null}},Ln=(n,t,a,s)=>{const i=n.get("id"),l=n.get("action");if(console.log({actionType:l,id:i}),l){i&&a(i);const c=br.includes(l)?l:Ie.VIEW;t(c)}else i?(a(i),t(Ie.VIEW)):(t(""),s())};function Qn(n){return Object.entries(n).filter(([t,a])=>!!a).reduce((t,[a,s])=>(t[a]=s,t),{})}const rl=n=>{let t=[];if(n){const a=new URL(n);console.log({urlObject:a});const s=a.pathname,l=s.substring(s.lastIndexOf("/")+1).split("_");l.shift(),t=[{uid:"1",name:l.join("_"),status:"done",url:n}]}return console.log({fileList:t,file:n}),t};function oa(n){return(n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).replaceAll("_"," ")}const ll=n=>(console.log({filesssss:n}),new Promise((t,a)=>{const s=new FileReader;s.onload=()=>{const i=s.result;t(i)},s.onerror=()=>{s.abort(),a(new Error("Failed to read file as text."))},s.readAsText(n)})),ri=(n,t)=>n.filter(s=>(s==null?void 0:s.type)==="divider"||(s==null?void 0:s.key)&&t.includes(s.key)||(s==null?void 0:s.children)).map(s=>{if(s!=null&&s.children){const i=ri(s.children,t);return{...s,children:i}}return s}),mo=Object.entries(T),cl=te,dl=n=>{var C;const{screen:t,setCollapsed:a,moduleAccess:s}=M.appStore(),{user:i}=M.userStore(),{setCurrentPage:l}=n,c=we(),[r,d]=E.useState("");E.useEffect(()=>{const p=window.location.pathname,m=mo.find(_=>`${T.EE}/${_[1]}`===p);if(console.log({route:m,paths:p,routeUrls:mo,x:p}),m){const _=cl[m[0]];d(m[1]),l(_),window.scrollTo(0,0)}},[window.location.pathname]);const h=()=>{t==="MOBILE"&&a(!0)},u=E.useMemo(()=>s.map(p=>p.key),[s]),y=(C=i.roles)==null?void 0:C.toString().split(",").includes(Sr.ADMIN),g=ri(nl(c,h,y),u);return e(ji,{mode:"inline",defaultSelectedKeys:["services"],items:g,selectedKeys:[r],openKeys:Cr})};const Xt=Ji(({token:n})=>({"my-modal-body":{padding:n.paddingSM},"my-modal-mask":{},"my-modal-header":{borderBottom:"1px solid rgb(18, 183, 106)"},"my-modal-footer":{color:n.colorPrimary},"my-modal-content":{}})),It=n=>({body:n["my-modal-body"],mask:n["my-modal-mask"],header:n["my-modal-header"],footer:n["my-modal-footer"],content:n["my-modal-content"]}),pt=n=>({header:{borderLeft:"5px solid rgb(18, 183, 106)",borderRadius:0,paddingInlineStart:5},body:{borderRadius:5,textAlign:"center"},mask:{},footer:{},content:{}}),{Title:da,Text:ua}=ne,ul=e(V.Item,{name:"countryCode",noStyle:!0,children:e(He,{style:{width:70},children:e(Xi,{value:"91",children:"+91"})})}),hl=n=>{const{isOpen:t,setIsOpen:a,onCloseVerification:s,userInfo:i}=n,[l]=V.useForm(),{styles:c}=Xt();Kt();const{screen:r,isLoading:d}=M.appStore(),[h,u]=E.useState(!1),[y,g]=E.useState(!1),[C,p]=E.useState(!1),[m,_]=E.useState({countryCode:0,mobile:0,otp:0});E.useEffect(()=>{t&&(g(!1),l.resetFields(),_({...m,mobile:i.mobile}),l.setFieldValue("mobile",i.mobile||""),i.mobile?p(!1):p(!0))},[t]);const D=()=>{u(!0),q.userManagement.requestOtp().then(P=>{g(!0),u(!1)}).catch(P=>{u(!1),console.log({location:"loginUser",error:P})})},f=P=>{u(!0),q.userManagement.verifyOTP(P).then(x=>{u(!1),x&&s()}).catch(x=>{u(!1),console.log({location:"verifyOTP",error:x})})},A=(P,x)=>{u(!0),q.userManagement.updateUserInfo(P).then(J=>{u(!1),p(!1),x==null||x()}).catch(J=>{u(!1),console.log({location:"updateUserInfo",error:J})})},I=P=>{console.log("Received values of form: ",P),C?isNaN(P.mobile)||(_({...m,countryCode:P.countryCode,mobile:P.mobile}),A({mobile:P.mobile},D)):D()},F=P=>{console.log("Received values of form: ",P,m),isNaN(P.otp)||f(P.otp)};return e(Ye,{title:e(da,{level:5,children:"Account Verification"}),open:t,footer:e(Y,{}),onCancel:()=>{p(!1),g(!1),l.resetFields(),a(!1)},okText:"Yes",cancelText:"No",okType:"danger",classNames:It(c),styles:pt(),confirmLoading:d,children:e("div",{className:"profile-verification__container",children:e($,{className:"login-form",children:e(v,{span:24,children:y?o(Y,{children:[o(da,{level:4,children:["Receive One-Time Password via SMS"," ",e(Qi,{size:64,color:"#25D366"})]}),o(ua,{type:"secondary",children:["We have sent 6-digit OTP to +",m.countryCode," ",m.mobile,". Please enter the code below to continue"]}),o(V,{form:l,name:"otp",onFinish:F,style:{maxWidth:600},scrollToFirstError:!0,layout:"vertical",children:[e(V.Item,{name:"otp",label:"Enter OTP",rules:[{len:6,min:6,max:6,message:"Enter OTP"},{required:!0,message:"Please enter 6 digit OTP"}],children:e(pe,{placeholder:"6-digit OTP",type:"number",style:{width:"100%"}})}),e(V.Item,{children:e(R,{type:"primary",htmlType:"submit",className:"login-form-button",loading:h,children:"Verify"})})]})]}):e(Y,{children:o(V,{form:l,name:"register",onFinish:I,style:{maxWidth:600},scrollToFirstError:!0,layout:"vertical",initialValues:{countryCode:"91"},children:[C?e(V.Item,{name:"mobile",label:"Mobile Number",rules:[{len:10,min:10,max:10,message:"Enter valid mobile number"},{required:!0,message:"Please input your mobile number!"}],children:e(pe,{type:"text",addonBefore:ul,style:{width:"100%"}})}):o(ua,{children:[e(ua,{italic:!0,children:"Verify this is you"}),o(da,{level:4,italic:!0,children:["+91 ",m.mobile]}),e(R,{type:"link",icon:e(Vo,{}),onClick:()=>{p(!0)},children:"Edit"})]}),e(V.Item,{className:"next__container",children:e(R,{type:"primary",htmlType:"submit",className:"login-form-button",loading:h,children:"Next"})})]})})})})})})},{Header:pl,Content:ml,Sider:gl}=In,{Title:rh,Text:$n}=ne,fl=n=>{const{height:t,width:a}=qe(),{screen:s,currentPage:i,setCurrentPage:l,isLoading:c,setAlerts:r,alerts:d,collapsed:h,moduleAccess:u,setCollapsed:y,setLoading:g,setModuleAccess:C}=M.appStore(),{setUser:p,isAuthorized:m,user:_,isVerificationOpen:D,setIsVerificationOpen:f,setActivePlan:A}=M.userStore(),{eventTypes:I,setEventTypes:F}=M.eventStore(),G=we(),[P,x]=nt(),J=P.get("creation"),k=E.useMemo(()=>u.map(w=>w.name),[u]);let L=a;s==="MOBILE"?L=a:L=a*21/100;const U=Sa({marginLeft:h?0:L});E.useEffect(()=>{if(!m){let w;P.get("returnTo")?(w=P.get("returnTo"),console.log("returnTo 1",w)):window.location.pathname===T.AUTHORIZER?(w=`${T.EE}/${T.DASHBOARD}`,console.log("returnTo 2",w)):(w=window.location.pathname==="/"?`${T.EE}/${T.DASHBOARD}`:`${window.location.pathname}${window.location.search}`,console.log("returnTo 3",w)),G(`${T.AUTHORIZER}?returnTo=${btoa(w)}`)}ue(),j(),ee(),ce()},[]),E.useEffect(()=>{Z(),console.log({currentPage:i}),k.length&&i&&!k.includes(i)&&i!==te.NOT_FOUND&&(console.log({currentPage:i,t:"kjnkn",moduleAccessName:k}),G(`${T.EE}/${T.NOT_FOUND}`))},[i,J]);const ee=()=>{q.commonAPI.getAlerts().then(w=>{r(w)}).catch(w=>{console.log({location:"getAlerts",error:w})})},ce=()=>{g(!0),q.eventManagement.getEventType().then(w=>{F(w),g(!1)}).catch(w=>{g(!1),console.log({location:"getEventTypes",error:w})})},j=()=>{g(!0),q.commonAPI.getAppModuleAccess().then(w=>{C(w),g(!1)}).catch(w=>{g(!1),console.log({location:"getAppModuleAccess",error:w})})},Z=()=>{q.userManagement.getActiveUserPricingPlan().then(w=>{A(w)}).catch(w=>{console.log({location:"getAlerts",error:w})})},ue=()=>{g(!0),q.userManagement.getUserInfo().then(w=>{g(!1),p(w)}).catch(w=>{g(!1),console.log({location:"getUserInfo",error:w})})},me=()=>{f(!1),ue()},X=()=>{if(_.mobile){if(!_.isMobileVerified)return o(Y,{children:[e($n,{className:"link-text",onClick:()=>f(!0),children:"Click here"}),o($n,{children:[" ","to verify your mobile number to unlock the ability to send messages, create contact directories, templates, events, and more!"]})]})}else return o(Y,{children:[e($n,{className:"link-text",onClick:()=>f(!0),children:"Click here"}),e($n,{children:" to complete the account verification to unlock more."})]})};return o(In,{className:"app__layout",children:[e(hl,{isOpen:D,setIsOpen:f,userInfo:_,onCloseVerification:me}),e(pl,{className:"layout__header",children:e(el,{collapsed:h,setCollapsed:y,currentPage:i})}),e(Zi,{tip:"Loading...",spinning:c,children:o(In,{hasSider:!0,style:{flexDirection:"column"},children:[e(gl,{collapsible:!0,breakpoint:"lg",collapsed:h,collapsedWidth:0,trigger:null,width:L,className:"sidebar__layout",style:{overflow:"auto",height:t,position:"fixed"},children:e(dl,{setCurrentPage:l})}),s==="DESKTOP"||s==="MOBILE"&&h?e(Wn.div,{style:U,children:o(ml,{style:{margin:"0px 10px 10px 10px",padding:10,minHeight:t,background:"rgb(252, 252, 253)"},children:[e("div",{className:"alert-container",children:d.length?d.map(w=>e(Re,{banner:!0,...w.props,message:e(es,{pauseOnHover:!0,gradient:!1,...w.props,children:w.text})})):null}),!_.mobile||!_.isMobileVerified?e(Re,{message:X(),type:"warning"}):null,e("div",{className:"banner-text"}),e("div",{style:{visibility:c?"hidden":"visible"},children:e(ju,{})})]})}):null]})})]})};const{Title:lh,Text:go}=ne,yl=n=>{var c;const{cardContact:t,menuItems:a,onClick:s}=n,i="ee__avatar-color",l=t.image?e("img",{loading:"lazy",src:t.image,alt:""}):(c=t.name)==null?void 0:c.toString().split(" ").map(r=>r==null?void 0:r[0]).join("");return o($,{gutter:[-8,16],className:"contact-directory-card__container",children:[e(v,{span:6,className:"icon__container",onClick:()=>s==null?void 0:s(),children:e(qt,{shape:"square",size:50,className:i,children:l})}),e(v,{span:a?15:17,onClick:()=>s==null?void 0:s(),children:o(ae,{direction:"vertical",children:[e(go,{strong:!0,className:"font-size-16",children:t.name}),o(go,{italic:!0,children:[t.noOfContacts," contact's"]})]})}),a&&e(v,{span:3,className:"more-item__container",children:e(_a,{menu:{items:a},trigger:["click"],children:e(wa,{placement:"top",title:"More info",children:e(Da,{size:64,width:100,className:"more-item__icon"})})})})]})};const St=n=>{const{data:t,columns:a,sortKeys:s,isVirtualization:i,rowHeight:l,isScroll:c=!0,otherProps:r={},comparatorFn:d,isSearch:h,styles:u={},handleInfiniteScroll:y}=n,{height:g,width:C}=qe();M.appStore(),E.useState(""),E.useState("");const[p,m]=E.useState({global:{value:null,matchMode:Qt.CONTAINS},name:{operator:ia.AND,constraints:[{value:null,matchMode:Qt.STARTS_WITH}]},"country.name":{operator:ia.AND,constraints:[{value:null,matchMode:Qt.STARTS_WITH}]},representative:{value:null,matchMode:Qt.IN},status:{operator:ia.OR,constraints:[{value:null,matchMode:Qt.EQUALS}]}});E.useEffect(()=>{const f=a.filter(A=>A.filterable).reduce((A,I)=>(A[I.key]={value:null,matchMode:Qt.CONTAINS},A),{});m(f)},[]);const _=(f,A)=>f[A];h&&(r.globalFilterFields=a.filter(f=>f.filterable).map(f=>f.key));const D=(f,A)=>e(pe,{value:f.value,type:"text",placeholder:`Search ${A.title}`,onChange:I=>f.filterApplyCallback(I.target.value),className:"p-column-filter",style:{width:"100%"},allowClear:!0});return console.log({otherProps:r}),e("div",{style:{overflowX:"auto",paddingLeft:"10px",width:"100%",...u},children:o(ts,{value:t,sortMode:"multiple",removableSort:!0,showGridlines:!0,stripedRows:!0,size:"normal",scrollable:!0,scrollHeight:`${g}px`,className:"data__table",filterDisplay:"row",filters:p,onFilter:f=>m(f.filters),filterIcon:e(ns,{}),filterClearIcon:e(as,{}),...r,children:[r.selectionMode&&e(sa,{selectionMode:"multiple",headerStyle:{width:"3rem"}}),r.rowExpansionTemplate&&e(sa,{expander:!0,style:{width:"5rem"}}),a.map(f=>{const A={};return f.filterElement?A.filterElement=f.filterElement:A.filterElement=I=>D(I,f),e(sa,{field:f.key,header:f.title,sortable:f.sortable,body:I=>{var F;return f!=null&&f.render?(F=f==null?void 0:f.render)==null?void 0:F.call(f,I):_(I,f.key)},filter:f.filterable,filterPlaceholder:f.filterPlaceholder||`Search ${f.title}`,showFilterMatchModes:!0,...A})})]})})};const{Text:El}=ne,mn=n=>{const{image:t,onClickAction:a,description:s,buttonText:i}=n,{screen:l}=M.appStore();return o(ae,{className:`empty-data__container ${l}`,direction:"vertical",size:"small",style:{width:"100%"},children:[e("div",{children:e("img",{loading:"lazy",src:t,alt:"",height:250,width:"100%"})}),e(El,{type:"secondary",italic:!0,children:s}),i&&e("div",{children:e(R,{type:"primary",size:"middle",onClick:a,children:i})})]})},$a=(n,t,a)=>{let s=t;return a!=null&&a.length?s=t.filter(i=>Object.entries(i).some(l=>{var c,r,d;return a.includes(l[0])&&((d=(r=(c=l==null?void 0:l[1])==null?void 0:c.toString())==null?void 0:r.toLowerCase())==null?void 0:d.includes(n.toLowerCase()))})):s=t.filter(i=>Object.values(i).some(l=>{var c,r;return(r=(c=l==null?void 0:l.toString())==null?void 0:c.toLowerCase())==null?void 0:r.includes(n.toLowerCase())})),s},Le={ID:"id",NAME:"name",NO_OF_CONTACTS:"noOfContacts",CREATED_AT:"createdAt",UPDATED_AT:"updatedAt",ACTION:"action"},fn={ID:"id",NAME:"Name",NO_OF_CONTACTS:"No of contacts",CREATED_AT:"Creation at",UPDATED_AT:"Updated at",ACTION:"Action"},Tl=[Le.ID,Le.NAME,Le.NO_OF_CONTACTS,Le.CREATED_AT,Le.UPDATED_AT],fo=[{key:Le.NAME,dataIndex:Le.NAME,title:fn.NAME,sortable:!0,filterable:!0},{key:Le.NO_OF_CONTACTS,dataIndex:Le.NO_OF_CONTACTS,title:fn.NO_OF_CONTACTS,sortable:!0,filterable:!0},{key:Le.CREATED_AT,dataIndex:Le.CREATED_AT,title:fn.CREATED_AT,render:n=>oe(n[Le.CREATED_AT]).format(bt),sortable:!0,filterable:!0},{key:Le.UPDATED_AT,dataIndex:Le.UPDATED_AT,title:fn.UPDATED_AT,render:n=>oe(n[Le.UPDATED_AT]).format(bt),sortable:!0,filterable:!0},{key:Le.ACTION,dataIndex:Le.ACTION,title:fn.ACTION}],vl=""+new URL("no-contact-59e01c23.svg",import.meta.url).href,{Link:Al,Text:sn}=ne,{Search:Cl}=pe,Nl=()=>{var _,D,f,A;const[n,t]=nt(),{directoryList:a,setSelectedDirectory:s,setAction:i,isListView:l}=M.contactStore(),{screen:c}=M.appStore(),{activePlan:r}=M.userStore(),[d,h]=E.useState("");let u=[];const y=I=>[{label:"View",key:"view",onClick:()=>g(I),icon:e(zo,{})},{label:"Edit",key:"edit",onClick:()=>C(I),icon:e(Hn,{style:{color:"rgb(102, 112, 133)"}})}];fo.forEach(I=>{I.key===Le.ACTION?I.render=F=>o(ae,{children:[e(Hn,{fontSize:"inherit",onClick:()=>{C(F)},style:{color:"rgb(102, 112, 133)",cursor:"pointer"}}),e(Bo,{fontSize:"inherit",onClick:()=>{g(F)},style:{color:"rgb(102, 112, 133)",cursor:"pointer"}})]}):I.key===Le.NAME&&(I.render=F=>e(sn,{style:{cursor:"pointer"},onClick:()=>{g(F)},children:F.name}))});const g=I=>{t({id:I.id,action:Ie.VIEW})},C=I=>{t({id:I.id,action:Ie.EDIT})},p=I=>{h(I)};d&&(console.log({searchValue:d}),u=$a(d,a),console.log({filteredGrid:u}));const m=I=>c==="MOBILE"?{flex:I}:{span:I};return o("div",{className:"list-contact-directory__container",children:[o($,{gutter:[8,8],className:"margin-bottom-16",children:[e(v,{...m(12),children:a.length?e(Cl,{placeholder:"Search here",value:d,onChange:I=>{p(I.target.value)},style:{width:"100%"},allowClear:!0}):null}),e(v,{...m(12),children:d?o(sn,{italic:!0,className:"float-right",children:["Showing ",e(sn,{strong:!0,children:u.length})," of"," ",e(sn,{strong:!0,children:a.length})," directories"]}):o(sn,{italic:!0,className:"float-right",children:["Showing total ",o(sn,{strong:!0,children:[a.length," "]}),"directories"]})})]}),e("div",{className:"padding-bottom-8",children:e(Re,{message:r!=null&&r.isActive?(r==null?void 0:r.contactDirectoryCount)<=0?`According to your plan, you have successfully created all ${(_=r==null?void 0:r.pricingPlan)==null?void 0:_.contactDirectoryCount} contact directories allowed.`:`According to your plan, you have currently created ${((D=r==null?void 0:r.pricingPlan)==null?void 0:D.contactDirectoryCount)-(r==null?void 0:r.contactDirectoryCount)} out of ${(f=r==null?void 0:r.pricingPlan)==null?void 0:f.contactDirectoryCount} contact directories.`:ka("contact directories"),type:r!=null&&r.isActive?"info":"warning",icon:e(Oa,{}),closable:r==null?void 0:r.isActive,showIcon:!0})}),(A=d?u:a)!=null&&A.length?e($,{gutter:[16,16],children:l?e(St,{columns:fo,data:d?u:a,sortKeys:Tl}):(d?u:a).map(I=>e(v,{span:c==="MOBILE"?24:8,style:{cursor:"pointer"},children:e(yl,{cardContact:I,menuItems:y(I),onClick:()=>{g(I)}})},I.id))}):e(mn,{onClickAction:()=>{t({action:Ie.ADD})},image:vl,description:d?o(Y,{children:["No contact to show for the selected filter,"," ",e(Al,{href:"#",onClick:()=>{p("")},children:"Clear filter"})]}):"No contact to show",buttonText:(r==null?void 0:r.contactDirectoryCount)>0?"Create Contact":void 0})]})},Il=n=>{const{onAttach:t,disabled:a,hoverText:s,buttonText:i,accept:l="*",otherProps:c}=n;return e("div",{children:e(Yo,{...c,accept:l,disabled:a,progress:{showInfo:!0},showUploadList:!0,beforeUpload:r=>!1,onChange:t,children:e(wa,{placement:"bottom",title:s,children:e(R,{icon:e(os,{}),children:i})})})})},re={ID:"id",NAME:"name",MOBILE:"senderId",CREATED_AT:"createdAt",UPDATED_AT:"updatedAt",STATUS:"status",ACTION:"action"},Ht={ID:"id",NAME:"Name",MOBILE:"Mobile",CREATED_AT:"Creation",UPDATED_AT:"Updated",STATUS:"Status",ACTION:"Action"},Xe={ADD:{header:"Create Directory",primaryButtonText:"Create",primaryButtonAction:"ADD",secondaryButtonText:"Cancel"},EDIT:{header:"Update Directory",primaryButtonText:"Update",primaryButtonAction:"EDIT"},VIEW:{header:"View Directory",primaryButtonText:"Edit",primaryButtonAction:"VIEW",deleteButtonText:"Delete"}},bl=[{key:re.NAME,dataIndex:re.NAME,title:Ht.NAME,sortable:!0,filterable:!0},{key:re.MOBILE,dataIndex:re.MOBILE,title:Ht.MOBILE,sortable:!0,filterable:!0}],Sl=[re.NAME,re.MOBILE,re.UPDATED_AT,re.CREATED_AT],_l=[{key:re.NAME,dataIndex:re.NAME,title:Ht.NAME,sortable:!0,filterable:!0},{key:re.MOBILE,dataIndex:re.MOBILE,title:Ht.MOBILE,sortable:!0,filterable:!0}],wl=async n=>await new Promise((t,a)=>{if(n){const s=new FileReader;s.onload=i=>{const l=i.target.result,c=is(l,{type:"array"}),r=c.SheetNames[0],d=c.Sheets[r],h=ss.sheet_to_json(d);t(h)},s.readAsArrayBuffer(n)}else a(new Error("No files"))});const{Title:ch,Text:yo,Paragraph:dh}=ne,li=n=>{var f,A;const{senderId:t,name:a,id:s,menuItems:i,editable:l,status:c,image:r,isError:d,isSelected:h,onContactChange:u,onSelectCard:y,showLogs:g,data:C={},otherProps:p={}}=n,_=r?e(qt,{shape:"square",size:50,src:r}):e(qt,{shape:"square",size:50,className:r?"":"ee__avatar-color",children:a==null?void 0:a.toString().split(" ").map(I=>I==null?void 0:I[0]).splice(0,2).join("")}),D=I=>{const{onRowToggle:F,expandedRows:G}=p,P=bn.cloneDeep(G||{});P[I]?delete P[I]:P[I]=!0,F==null||F({data:P})};return e(Dn.Ribbon,{className:c?"":"contact-card__no-status",text:Xn[c==null?void 0:c.toString()],color:Wt[c==null?void 0:c.toString()],children:o(_e,{className:`contact-user-card__container ${h&&"selected"}`,children:[o($,{gutter:[-8,16],children:[o(v,{span:6,children:[e("div",{children:_}),l&&e("div",{children:e(Fo,{checked:h,style:{position:"relative",left:"20%"},onChange:I=>{y==null||y(s,I.target.checked)}})})]}),o(v,{span:i||l||g?15:17,className:"contact-name-sender__container",children:[e("div",{style:l?{marginBottom:"5px"}:{},children:l?e(pe,{placeholder:"Input user name",status:d&&!a?"error":"",value:a,onChange:I=>{u==null||u(s,"name",I.target.value)}}):e(yo,{strong:!0,children:a})}),e("div",{children:l?e(pe,{placeholder:"Input user mobile",status:d&&!t?"error":"",value:t,onChange:I=>{u==null||u(s,"senderId",I.target.value)},maxLength:10}):e(yo,{children:t.toString()})})]}),i&&e(v,{span:2,children:e(_a,{menu:{items:i},trigger:["click"],children:e(Da,{})})}),g&&e(v,{span:2,children:e(R,{type:"text",icon:(f=p==null?void 0:p.expandedRows)!=null&&f[C==null?void 0:C[p==null?void 0:p.dataKey]]?e(Go,{fontSize:"inherit"}):e(Ma,{fontSize:"inherit"}),onClick:()=>{D(C==null?void 0:C[p==null?void 0:p.dataKey])}})})]}),g&&((A=p==null?void 0:p.expandedRows)==null?void 0:A[C==null?void 0:C[p==null?void 0:p.dataKey]])&&(p==null?void 0:p.rowExpansionTemplate(C))]})})},ci=n=>{const{name:t,contacts:a}=n;return!!(a!=null&&a.length?a==null?void 0:a.find(i=>!i.name||!i.senderId):!0)||!t||!a},Dl=(n,t)=>!t||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?Promise.resolve():Promise.reject(new Error("Invalid email format")),_n=n=>{var a,s;let t=!1;try{n&&(t=(s=(a=new URL(n))==null?void 0:a.pathname)==null?void 0:s.endsWith(".pdf"))}catch(i){console.error({location:"check pdf",error:i})}return t},Ol=""+new URL("no-contact-list-c4f86f2a.svg",import.meta.url).href,Bt={singleText:["AGENT","BDAY","BEGIN","END","FN","FULLNAME","GEO","MAILER","NICKNAME","NOTE","PRODID","REV","ROLE","TITLE","TZ","UID","URL","VERSION"],multipleText:["CATEGORIES","NICKNAME","ORG"],singleBinary:["KEY","LOGO","PHOTO","SOUND"],rfc2425:["NAME","PROFILE","SOURCE"],structured:["ADR","EMAIL","IMPP","LABEL","N","PHOTO","TEL"]};class Ml{readData(t,a){const s=[[]];let i=t.split(/\r\n(?=\S)|\r(?=\S)|\n(?=\S)/),l=0;for(let h=i.length-1;h>=0;h--)i[h]=i[h].replace(/^item\d+\.|\r\n\s*|\r\s*|\n\s*/g,""),s[l].unshift(i[h]),i[h]==="BEGIN:VCARD"&&h!==0&&(++l,s.push([]));const c=[],r=[];l=0;for(let h=0;h<s.length;++h){const u=this.getValidationError(s[h]);u?(c.push(u),d()):this.parsevCard(s[h],(y,g)=>{y?c.push(y):g&&r.push(g),d()})}function d(){++l===s.length&&(c&&c.length>0?a(c.length===1?c[0]:c):a(null,r.length===1?r[0]:r))}}parsevCard(t,a){let s=0;const i={},l=this.getVersion(t);for(let c=t.length-1;c>=0;c--){const r=t[c].split(":");r[0]==="BEGIN"||r[0]==="END"||(Vt.contains(Bt.singleText,r[0])||Vt.contains(Bt.rfc2425,r[0])||r[0].match(/^X-.*/))&&(i[r[0]]=r[1],t.splice(c,1),s++)}for(let c=t.length-1;c>=0;c--){const r=t[c].split(":");if(r[0]==="BEGIN"||r[0]==="END")continue;const d=r[0].split(";"),h={},u=[];if(l==3&&d[1]&&(d[1]=d[1].replace(/TYPE=/g,"")),l===2.1||l==3){for(let y=d.length-1;y>=1;y--)u.push(d[y]);u.length>0?(h.type=u,h.value=r[1],i[d[0]]=h):d[0]==="N"?i[d[0]]=r[1].replace(/;+$/g,"").replace(/;/,", ").replace(/ $/,""):i[d[0]]=r[1].replace(/;/g," ")}else if(l===4){const y=[],g=[];for(let C=d.length-1;C>=1;C--)if(d[C].match(/TYPE/)){const p=d[C].replace(/TYPE=/g,"").replace(/\"/g,"").split(",");for(let m=p.length-1;m>=0;m--)u.push(p[m])}else d[C].match(/LABEL/)?y.push(d[C].replace(/LABEL=/g,"").replace(/\"/g,"")):d[C].match(/VALUE/)&&g.push(d[C].replace(/VALUE=/g,""));u.length>0?(h.type=u,y.length>0?h.value=y[0]:h.value=r[2],i[d[0]]=h):d[0]==="N"?i[d[0]]=r[1].replace(/;+$/g,"").replace(/;/,", ").replace(/ $/,""):i[d[0]]=r[1].replace(/;/g," ")}else{a(new Error(`Unknown version encountered: ${l}`));return}}s>0?a(null,i):a(new Error("No JSON elements found?!"))}getValidationError(t){let a=0;if(t[0]!=="BEGIN:VCARD"||t[t.length-1]!=="END:VCARD")return new Error("BEGIN:VCARD or END:VCARD missing.");for(let i=t.length-1;i>=0;i--)t[i].match(/^(VERSION|FN|N):/)&&a++;if(a<2)return new Error("One or more required elements are missing (VERSION, N or FN)");if(this.getVersion(t)>2.1){for(let i=t.length-1;i>=0;i--)t[i].match(/^N:/)&&a++;if(a<3)return new Error("One or more required elements are missing (VERSION, N and FN)")}for(let i=t.length-1;i>=0;i--){const l=t[i].replace(/(:|;).*/g,"");if(!(Vt.contains(Bt.singleText,l)||Vt.contains(Bt.multipleText,l)||Vt.contains(Bt.rfc2425,l)||Vt.contains(Bt.singleBinary,l)||Vt.contains(Bt.structured,l)||l.match(/^X-.*/)))return new Error(`Invalid field found: \`${l}\``)}return null}getVersion(t){let a="";for(let i=t.length-1;i>=0;i--)t[i].match(/VERSION/)&&(a=t[i].split(":")[1]);const s=parseFloat(a);return isNaN(s)?0:s}}const{Title:uh,Text:Qe,Link:yn}=ne,{Search:Pl}=pe,Ll=()=>{var gt,ft,ot,Ae;const[n]=V.useForm(),{styles:t}=Xt();Kt();const[a,s]=nt(),{height:i,width:l}=qe();let c=bl;const{setLoading:r,screen:d,isError:h,setError:u,snackbar:y}=M.appStore(),{action:g,contactList:C,selectedDirectory:p,setSelectedDirectory:m,setIsListView:_,isListView:D}=M.contactStore(),{activePlan:f,setIsContactToken:A,isContactToken:I,setIsAuthorized:F}=M.userStore(),[G,P]=E.useState([]),[x,J]=E.useState([]),[k,L]=E.useState([]),[U,ee]=E.useState([]),[ce,j]=E.useState(""),[Z,ue]=E.useState(""),[me,X]=E.useState([]),[w,b]=E.useState(!1);E.useState(!1);let Q=[];const le=O=>d==="MOBILE"?{flex:O}:{span:O};E.useEffect(()=>{if(g==="EDIT"||g==="VIEW"){const{id:O,name:z}=p;console.log({selectedDirectory:p}),n.setFieldValue("name",z),n.setFieldValue("contacts",C),P(C.map(se=>({...se,key:se.id})))}},[p]),E.useEffect(()=>{_(localStorage.getItem(je.CONTACT_LIST)==="List")},[]),g==="EDIT"||g==="ADD"?c.forEach(O=>{O.key===re.NAME?O.render=z=>e(pe,{placeholder:"Input user name",status:h&&!(z!=null&&z[re.NAME])?"error":"",value:z==null?void 0:z[re.NAME],onChange:se=>{Fe(z.id,re.NAME,se.target.value)}}):O.key===re.MOBILE&&(O.render=z=>e(pe,{placeholder:"Input user mobile",status:h&&!(z!=null&&z[re.MOBILE])?"error":"",max:10,type:"number",value:z==null?void 0:z[re.MOBILE],onChange:se=>{Fe(z.id,re.MOBILE,se.target.value)}}))}):c.forEach(O=>{O.key===re.NAME?O.render=z=>e(Qe,{children:z==null?void 0:z[re.NAME]}):O.key===re.MOBILE&&(O.render=z=>e(Qe,{children:z==null?void 0:z[re.MOBILE]}))});const ve=()=>{const O=na();P([{name:"",senderId:"",image:"",id:O},...G])},Ke=()=>{j("")},Je=O=>{r(!0),q.contactManagement.createContactDirectory(O).then(z=>{r(!1),s({creation:"DONE"})}).catch(z=>{r(!1),console.log({location:"createContactDirectory",error:z})})},Ee=O=>{r(!0),q.contactManagement.updateContactDirectory(O).then(z=>{r(!1),s({creation:"DONE"})}).catch(z=>{r(!1),console.log({location:"updateContactDirectory",error:z})})},H=O=>{r(!0),q.contactManagement.deleteContactDirectory(O).then(z=>{r(!1),s({})}).catch(z=>{r(!1),console.log({location:"deleteContactDirectory",error:z})})},De=()=>{r(!0),q.contactManagement.getGoogleContactList().then(O=>{if(O===null){A(!1);const z=l/2-l*.75/2,se=i/2-i*.75/2;window.open(`/api/v1/app/contact/google/auth?returnTo=/${T.CONTACT_AUTH_COMPLETED}`,"_blank",`width=${l*.6},height=${i*.75},left=${z},top=${se}`)}else X(O),b(!0);r(!1)}).catch(O=>{r(!1),console.log({location:"getGoogleContactList",error:O})})},Me=(O,z)=>{m({...p,[O]:z})},Ue=()=>{s({}),G.length&&P([])},st=async()=>{const O=await n.validateFields(),se={...n.getFieldsValue(),contacts:G};if(console.log({validation:O,directoryList:se}),g==="ADD"||g==="EDIT"){const de=ci(se);if(u(de),de)return}g==="ADD"?Je(se):g==="EDIT"?Ee({id:p.id,...se}):g==="VIEW"&&s({id:p.id,action:Ie.EDIT})},Fe=(O,z,se)=>{z===re.MOBILE&&(isNaN(Number(se))||se.length>10)||P(G.map(de=>(de.id===O&&(de[z]=se),de)))},rt=(O,z)=>{let se=[...x];z?(se.push(O),ee(de=>[...de,O.id])):(se=se.filter(de=>de.id!==O.id),ee(de=>de.filter(Be=>Be!==O.id))),J(se)},Ve=async O=>{const{file:z}=O;if(console.log(z,O),z.status==="removed")P([]),n.setFieldValue("contacts",void 0);else if(z!=null&&z.size&&z.size/1024/1024<=1){const{uid:se,name:de,type:Be}=z,Oe=[];if(console.log("type",Be),Be==="text/vcard"){console.log({fileyyyy:z});const We=await ll(z);console.log({content:We});const ze=new Ml,S=new Promise((ie,Se)=>{ze.readData(We,(ke,N)=>{ke?Se(ke):ie(N)})}),W=await S;W.forEach((ie,Se)=>{var N,B,Ce;const ke={id:(Se+1).toString(),name:(N=ie==null?void 0:ie.FN)==null?void 0:N.replace(",","").trim(),senderId:(B=ie==null?void 0:ie.TEL)==null?void 0:B.value,image:(Ce=ie.Photo)==null?void 0:Ce.trim()};ke.name&&ke.senderId&&(ke.senderId=po(ke.senderId),Oe.push(ke))}),console.log({vcf:S,data:W,contactList:Oe})}else(await wl(z)).forEach((ze,S)=>{var ie,Se,ke,N;const W={id:(S+1).toString(),name:(ie=ze.Name)==null?void 0:ie.trim(),senderId:(ke=(Se=ze.Mobile||ze["Phone 1 - Value"]||ze["Phone 2 - Value"])==null?void 0:Se.toString())==null?void 0:ke.trim(),image:(N=ze.Photo)==null?void 0:N.trim()};W.name&&W.senderId&&(W.senderId=po(W.senderId),Oe.push(W))});console.log({contactList:Oe}),b(!0),X(Oe);const ye={};G.forEach(We=>{ye[We.senderId]=We});const Ge=Oe.filter(We=>ye[We.senderId]);L(Ge)}else z!=null&&z.size&&z.size/1024/1024>1&&(console.log("Upload file size must be smaller than 1MB!"),n.setFieldValue("contacts",void 0),y==null||y.open({key:"contact-file-upload-error",type:"error",content:"Upload file must be smaller than 1MB!",duration:10}));n.validateFields()},lt=()=>{const{id:O}=p;H(O),Ke()},ct=O=>{console.log(O),Je(O)},dt=O=>(console.log("Upload event:",O),Array.isArray(O)?O:O==null?void 0:O.fileList),mt=()=>{const O=x.map(de=>de.id),z=G.filter(de=>!O.includes(de.id));if(k.length){const de=k.filter(Be=>!O.includes(Be.id));L(de)}const se=z.map((de,Be)=>({...de,key:Be+1,id:Be+1}));P(se),J([]),n.setFieldValue("contacts",se)},at=O=>{ue(O)},_t=()=>{const O={},z={};me.forEach(ye=>z[ye.senderId]=ye);const se=[];G.forEach(ye=>{O[ye.senderId]=ye,z[ye.senderId]||se.push(ye)}),console.log({selectedUploadedContactRowKeys:k});const de=k.map(ye=>{var Ge;return O[ye.senderId]&&(ye.name=(Ge=O[ye.senderId])==null?void 0:Ge.name),ye}),Oe=bn.concat(de,se).map((ye,Ge)=>({...ye,key:Ge+1,id:Ge+1}));P(Oe),n.setFieldValue("contacts",Oe),console.log({_contactList:Oe}),b(!1)};Z&&(Q=$a(Z,G));const wt=()=>{if(I)De();else{const O=l/2-l*.75/2,z=i/2-i*.75/2;window.open(`/api/v1/app/contact/google/auth?returnTo=/${T.CONTACT_AUTH_COMPLETED}`,"_blank",`width=${l*.6},height=${i*.75},left=${O},top=${z}`)}};E.useEffect(()=>{function O(){const z=localStorage.getItem("contactToken");console.log({location:"checkSessionExpirationData",item:z}),z&&(Dt(),localStorage.removeItem("contactToken"))}return window.addEventListener("storage",O),()=>{window.removeEventListener("storage",O)}},[]);const Dt=()=>{r(!0),q.userManagement.verifyAuth().then(O=>{r(!1);const{isAuthenticated:z,isContactToken:se}=O;F(z),A(se)}).catch(O=>{r(!1),console.log({location:"verifyAuth",error:O})})};return o("div",{className:"add-edit-contact-Directory__container",children:[e(Ye,{title:e(Y,{children:"Delete Confirmation"}),open:!!ce,onOk:lt,onCancel:Ke,okText:"Yes",cancelText:"No",okType:"danger",classNames:It(t),styles:pt(),children:"Once deleted it cannot be undo"}),e(Ye,{title:e(Y,{children:"Preview upload contact"}),open:w,onOk:_t,onCancel:()=>{b(!1)},okText:"Add contact",cancelText:"Cancel",okType:"primary",width:"100%",styles:pt(),children:o(ae,{direction:"vertical",style:{width:"100%"},children:[o(Qe,{italic:!0,style:{float:"left"},children:[k.length," contact's selected"]}),e("div",{children:e(St,{columns:_l,data:me,otherProps:{selectionMode:"checkbox",selection:k,onSelectionChange:O=>{L(O.value)},dataKey:"id"},styles:{height:i-200}})})]})}),o($,{gutter:[16,16],className:"header__row sticky-header",children:[e(v,{flex:12,children:e($,{className:"header__container",children:e(v,{span:d==="MOBILE"?4:1,className:"back-icon__container",children:e(R,{type:"text",onClick:Ue,icon:e(ta,{className:"back-icon"}),children:g==="VIEW"?p.name:Xe[g].header})})})}),d!=="MOBILE"&&o(v,{className:"action__button-groups",children:[Xe[g].secondaryButtonText&&e(R,{onClick:Ue,children:Xe[g].secondaryButtonText}),Xe[g].primaryButtonText&&e(R,{type:"primary",onClick:st,children:Xe[g].primaryButtonText}),Xe[g].deleteButtonText&&e(R,{type:"default",danger:!0,onClick:()=>{j("DIRECTORY")},children:Xe[g].deleteButtonText})]})]}),g!=="VIEW"&&e(Y,{children:o(V,{layout:"vertical",form:n,name:"directory",scrollToFirstError:!0,onFinish:ct,children:[e(V.Item,{label:"Enter Name",name:"name",rules:[{required:!0,message:"Please input your directory name!"}],children:e(pe,{required:!0,value:p.name,placeholder:"Name of the directory",style:{width:d==="MOBILE"?"100%":"50%"},onChange:O=>Me("name",O.target.value)})}),e(V.Item,{label:"Bulk upload Directory file",name:"contacts",rules:[{required:!1,message:"Please upload your directory file!"}],getValueFromEvent:dt,valuePropName:"fileList",help:o(Y,{children:[e("p",{children:"Upload file must be smaller than 1MB!"}),e("p",{children:"Supported file formats are .xlsx, .csv, .vcf"})]}),children:e(Il,{accept:".xlsx, .csv, .vcf",buttonText:"Upload",otherProps:{maxCount:1},onAttach:Ve})}),o(ae,{direction:"vertical",children:[o(Qe,{italic:!0,children:["Want to import contact from ",e(za,{fontSize:"inherit"})," ","google?"," ",e(yn,{onClick:wt,children:I?"Click here to import":"Click here to link Google account"})]}),o(Qe,{italic:!0,children:["Want to upload ",e(za,{fontSize:"inherit"})," google contact manually?"," ",e(yn,{href:T.CONTACT_MANAGEMENT_GOOGLE_DOC,target:"_blank",children:"Click here"})]}),o(Qe,{italic:!0,children:["Template file?"," ",e(yn,{href:"#",onClick:()=>Ta.saveAs(`${Pe.exportContact}/template`),children:"download here"})]})]})]})}),h&&e(Re,{message:"At least one contact is required in the directory",type:"error",showIcon:!0,style:{margin:"1rem 0rem 0rem 0rem"}}),o(Y,{children:[e(tt,{}),o($,{gutter:[16,8],children:[e(v,{flex:12,children:e(Qe,{className:"tab__header",children:"Contact List"})}),o(v,{className:"list__grid-view add-action__button",flex:12,children:[x.length?e(R,{danger:!0,icon:e(va,{}),style:{marginTop:"9px",marginLeft:".4rem"},onClick:()=>{mt()},children:"Delete"}):null,o(Y,{children:[(g==="EDIT"||g==="ADD")&&((gt=f==null?void 0:f.pricingPlan)==null?void 0:gt.contactCount)>G.length&&e(R,{onClick:ve,style:{marginTop:"9px"},children:"Add New"}),e($t,{value:D?"List":"Card",options:[{value:"List",icon:e(jt,{})},{value:"Card",icon:e(Jt,{})}],onChange:O=>{localStorage.setItem(je.CONTACT_LIST,O.toString()),_(O==="List")}}),e(rs,{size:50,onClick:()=>{Ta.saveAs(`${Pe.exportContact}/${p.id}`)}})]})]})]})]}),e("br",{}),o($,{gutter:[8,8],children:[e(v,{...le(12),children:G.length?e(Pl,{placeholder:"Search here",onSearch:at,style:{width:"100%"},allowClear:!0}):null}),e(v,{...le(12),children:Z?o(Qe,{italic:!0,className:"float-right",children:["Showing ",e(Qe,{strong:!0,children:Q.length})," of",e(Qe,{strong:!0,children:G.length})," contact's"]}):o(Qe,{italic:!0,className:"float-right",children:["Showing total ",o(Qe,{strong:!0,children:[G.length," "]}),"contact's"]})})]}),e("br",{}),me!=null&&me.length?o(Y,{children:[e($,{gutter:[8,8],style:{float:"right"},children:e(Qe,{italic:!0,children:e(yn,{href:"#",onClick:()=>{b(!0)},children:"Click here to select contact from uploaded list"})})}),e("br",{})]}):null,((ft=f==null?void 0:f.pricingPlan)==null?void 0:ft.contactCount)<=G.length&&o(Y,{children:[e("br",{}),e(Re,{style:{width:"100%"},message:`Your contact directory has reached the limit of ${(ot=f==null?void 0:f.pricingPlan)==null?void 0:ot.contactCount} contacts for the current ${(Ae=f==null?void 0:f.pricingPlan)==null?void 0:Ae.name} plan. To add more contacts, please upgrade your plan.`,type:"warning"})]}),e("br",{}),Q.length||G.length?null:e(mn,{onClickAction:ve,image:Ol,description:Z?o(Y,{children:["No contact list to show for the selected filter,"," ",e(yn,{href:"#",onClick:()=>{at("")},children:"Clear filter"})]}):"No contact list to show",buttonText:"Add Contact"}),D&&(Q.length||G.length)?e(St,{columns:c,data:Z?Q:G,sortKeys:Sl,otherProps:g==="EDIT"||g==="ADD"?{selectionMode:"checkbox",selection:x,onSelectionChange:O=>{console.log({e:O}),J(O.value),ee(O.value.map(z=>z.id))},dataKey:"id"}:{}}):e($,{gutter:[16,16],children:(Z?Q:G).map(O=>e(v,{span:d==="MOBILE"?24:8,children:e(li,{isError:h,editable:g==="ADD"||g==="EDIT",onContactChange:Fe,image:O.image,senderId:O.senderId,name:O.name,id:O.id,isSelected:U.includes(O.id),onSelectCard:(z,se)=>rt(O,se)})},O.id))}),d==="MOBILE"&&o(ae,{direction:"vertical",style:{width:"100%"},className:"eazy-event__bottom-fixed-btn",children:[Xe[g].secondaryButtonText&&e(R,{onClick:Ue,children:Xe[g].secondaryButtonText}),Xe[g].primaryButtonText&&e(R,{type:"primary",onClick:st,children:Xe[g].primaryButtonText}),Xe[g].deleteButtonText&&e(R,{type:"default",danger:!0,onClick:()=>{j("DIRECTORY")},children:Xe[g].deleteButtonText})]})]})},{Title:xl}=ne,Rl=()=>{const[n,t]=nt(),{setLoading:a,screen:s}=M.appStore(),{setDirectoryList:i,action:l,setAction:c,setIsListView:r,isListView:d,setSelectedDirectory:h,setContactList:u}=M.contactStore(),{activePlan:y}=M.userStore();E.useEffect(()=>(r(localStorage.getItem(je.CONTACT_DIRECTORY)==="List"),()=>{c(""),i([]),r(!1)}),[]),E.useEffect(()=>{Ln(n,c,C,g)},[n]);const g=()=>{a(!0),q.contactManagement.getContactDirectory().then(p=>{i(p),a(!1)}).catch(p=>{a(!1),console.log({location:"getContactDirectory",error:p})})},C=p=>{a(!0),q.contactManagement.getContactList(p).then(m=>{a(!1),h({id:m.id,name:m.name}),u(m.contacts)}).catch(m=>{a(!1),console.log({location:"getContactList",error:m})})};return o("div",{className:"contact-management__container",children:[!l&&o(Y,{children:[e($,{wrap:!0,gutter:[8,8],children:e(v,{span:12,children:e(xl,{level:3,children:" Contact"})})}),o($,{wrap:!0,gutter:[8,8],children:[e(v,{flex:12,className:"contact__pagination",children:s!=="MOBILE"&&(y==null?void 0:y.contactDirectoryCount)>0&&e(R,{type:"primary",className:"dark-color-bg",onClick:()=>{t({action:Ie.ADD})},icon:e(Ya,{fontSize:"inherit"}),children:"Create"})}),e(v,{className:"list__grid-view contact__pagination",children:e($t,{value:d?"List":"Card",options:[{value:"List",icon:e(jt,{})},{value:"Card",icon:e(Jt,{})}],onChange:p=>{localStorage.setItem(je.CONTACT_DIRECTORY,p.toString()),r(p==="List")}})})]}),e(Nl,{})]}),l&&e(Ll,{}),!l&&s==="MOBILE"&&(y==null?void 0:y.contactDirectoryCount)>0&&e(Pa,{shape:"square",style:{right:24},icon:e(R,{size:"large",type:"primary",style:{width:"100%"},className:"dark-color-bg",onClick:()=>{t({action:Ie.ADD})},icon:e(Ya,{fontSize:"inherit"}),children:"Create Directory"})})]})};const hn=n=>{const{description:t,image:a=Fa.PRESENTED_IMAGE_SIMPLE}=n;return e(Fa,{image:a,description:e("span",{children:t})})},kl=""+new URL("contact-us-submitted-00f93a10.svg",import.meta.url).href,{Paragraph:En,Text:$l,Title:Ul,Link:Un}=ne,{TextArea:Vl}=pe,Bl=()=>{const{screen:n,setLoading:t}=M.appStore(),[a]=V.useForm();we();const[s,i]=nt(),l=r=>n==="MOBILE"?{flex:r}:{span:r},c=r=>{t(!0),q.commonAPI.contactUs(r).then(d=>{t(!1),d.status&&(a.resetFields(),i({action:"submitted"}))}).catch(d=>{t(!1),console.log({location:"handleSubmit",error:d})})};return s.get("action")==="submitted"?e(hn,{image:e("img",{loading:"lazy",src:kl,alt:""}),description:o(Y,{children:[e("h2",{children:"Thank You for Contacting Us!"}),e("p",{children:"We have received your message and our team will get back to you as soon as possible."}),e("p",{children:"In the meantime, feel free to explore our website for more information about our products and services."}),e("p",{children:"Thank you for choosing us!"})]})}):o($,{className:"contact-us__container",style:{padding:n==="MOBILE"?"2rem":"2rem 8rem"},gutter:[8,8],children:[e(v,{...l(12),children:o(ae,{direction:"vertical",style:{width:"100%"},children:[o("div",{className:"sales-text",children:[e(qt,{shape:"square",size:32,style:{background:"rgb(18, 183, 106)"},icon:e(ls,{fontSize:"inherit"})})," ",e($l,{children:"Contact Sales"})]}),e(Ul,{level:1,children:"Talk to one of our experts"}),e(En,{className:"font-size-16",children:"Do you have questions about any of our services and products or do you want to get a quote on one of your custom projects?"}),e(En,{className:"font-size-16",children:"Please, fill out the form and an account manager will be in touch shortly."}),e(En,{className:"font-size-16",children:"Or"}),o(En,{className:"font-size-16",children:["Call directly to our team for more queries"," ",e(Un,{strong:!0,href:"tel:6374922068",children:"6374922068"}),"/",e(Un,{strong:!0,href:"tel:9363967378",children:"9363967378"})]})]})}),o(v,{...l(12),children:[o(V,{layout:"vertical",form:a,onFinish:c,children:[e(V.Item,{label:"Full Name",name:"name",rules:[{required:!0,message:"Please input your full name!"}],children:e(pe,{size:"middle"})}),e(V.Item,{label:"Email address",name:"email",rules:[{required:!0,message:"Please input your email address!"}],children:e(pe,{size:"middle",type:"email",placeholder:"Your email address"})}),e(V.Item,{label:"Mobile Number",name:"mobile",rules:[{len:10,min:10,max:10,message:"Enter valid mobile number"},{required:!0,message:"Please input your mobile number!"}],children:e(pe,{size:"middle",type:"number",placeholder:"Mobile number"})}),e(V.Item,{label:"Can You Provide Some More Details?",name:"notes",rules:[{required:!0,message:"Please input some more details!"}],children:e(Vl,{rows:4})}),e(V.Item,{children:e(R,{type:"primary",htmlType:"submit",children:"Submit"})})]}),o(En,{style:{color:"#6b7080"},children:["By submitting this, you agree to the"," ",e(Un,{href:`${T.PRIVACY_POLICY}`,target:"_blank",children:"Privacy Policy"})," ","and"," ",e(Un,{href:`${T.TERMS_OF_SERVICE}`,target:"_blank",children:"Terms and Conditions of Use."})]})]})]})};const di=""+new URL("illustration-not-found-41c19c54.svg",import.meta.url).href,{Text:ut,Paragraph:zl}=ne,Yl=Ne,Eo=n=>{const{allEventNotifications:t,selectedEventNotification:a,chartSelectionOptions:s,setChartSelectionEventId:i,onRefresh:l,isFetching:c}=n,{screen:r}=M.appStore(),{status:d,name:h,progress:u,success:y,failed:g,notStarted:C,channel:p}=a,m=Yl[d],_=we(),D=F=>r==="MOBILE"?{flex:F}:{span:F},f=[{label:"Failed",value:g||0,color:"rgb(240, 68, 56)"},{label:"Success",value:y||0,color:"rgb(18, 183, 106)"},{label:"Progress",value:u||0,color:"rgb(247, 144, 9)"},{label:"Not strated",value:C||0,color:"rgb(234, 236, 240)"}],A=F=>o($,{gutter:[8,8],children:[e(v,{...D(12),children:e(ds,{series:[{paddingAngle:5,innerRadius:60,outerRadius:80,data:f}],margin:{right:5},width:200,height:200,legend:{hidden:!0}})}),o(v,{...D(12),style:{alignSelf:"center"},children:[o("div",{className:"event-details__container",children:[o($,{children:[e(v,{span:20,children:e(ut,{strong:!0,type:"secondary",children:"Total"})}),e(v,{span:4,children:e(ut,{italic:!0,children:(u||0)+(y||0)+(g||0)+(C||0)})})]}),o($,{children:[o(v,{span:20,children:[e("span",{className:"legend-chart-not-started"}),e(ut,{type:"secondary",children:"Not started"})]}),e(v,{span:4,children:e(ut,{italic:!0,children:C||"-"})})]}),o($,{children:[o(v,{span:20,children:[e("span",{className:"legend-chart-progress"}),e(ut,{type:"secondary",children:"Inprogress"})]}),e(v,{span:4,children:e(ut,{italic:!0,children:u||0||"-"})})]}),o($,{children:[o(v,{span:20,children:[e("span",{className:"legend-chart-success"}),e(ut,{type:"secondary",children:"Success"})]}),e(v,{span:4,children:e(ut,{italic:!0,children:y||"-"})})]}),o($,{children:[o(v,{span:20,children:[e("span",{className:"legend-chart-failed"}),e(ut,{type:"secondary",children:"Failed"})]}),e(v,{span:4,children:e(ut,{italic:!0,children:g||"-"})})]})]}),m&&e("div",{style:{textAlign:"center"},children:e(Te,{bordered:!1,color:xe==null?void 0:xe[m],children:m})}),e("div",{className:"refresh__btn",children:e(R,{type:"link",icon:e(us,{}),onClick:l,children:"Refresh"})})]})]}),I=F=>{const G=t.find((P,x)=>F===x);G&&i(G.id)};return e(Y,{children:e(_e,{title:e($,{children:e(v,{span:12,children:o(ae,{children:[e(Wo,{style:{position:"relative",top:"5px"}}),"Recent Event Notifications"]})})}),bordered:!1,style:{width:"100%",boxShadow:"rgb(234, 236, 240) 0px 0px 1px, rgba(29, 41, 57, 0.08) 0px 6px 12px"},className:"recent-event__container",children:c?e(La,{style:{padding:"0rem 1rem"},active:!0,paragraph:{rows:5}}):t.length?e(cs,{showIndicators:!1,value:t,numVisible:1,numScroll:t.length,itemTemplate:A,onPageChange:F=>{I(F.page)}}):o("div",{style:{textAlign:"center"},children:[e("img",{loading:"lazy",src:di,alt:"No recent event"}),e(zl,{children:"There are no recent notification to show."}),e(R,{type:"primary",onClick:()=>{_(`${T.EE}/${T.EVENT_MANAGEMENT}?action=ADD`)},icon:e(Ma,{fontSize:"inherit"}),children:"Create Event"})]})})})};const{Text:hh,Paragraph:Fl}=ne,rn={...xe,...Ze,TOTAL:"default"},yt={...dn,...Ne,TOTAL:"Total"},Gl=n=>{var c;const{icon:t,stats:a,title:s,url:i,urlLabel:l}=n;return we(),e(_e,{className:"statistic-card__container",children:o($,{gutter:[8,8],children:[e(v,{span:4,children:e("div",{className:"stat-icon",children:t})}),o(v,{span:20,children:[e(Fl,{className:"stat-title",children:s}),e(ae,{className:"stat-value",wrap:!0,children:(c=Object.keys(a||{}))==null?void 0:c.map(r=>o(Te,{color:rn==null?void 0:rn[yt==null?void 0:yt[r]],className:rn==null?void 0:rn[yt==null?void 0:yt[r]],children:[yt==null?void 0:yt[r]," ",a==null?void 0:a[r]]}))})]})]})})},ui=[{title:"Events",icon:e(Wo,{}),stats:{},key:"events",url:`${T.EE}/${T.EVENT_MANAGEMENT}`,urlLabel:"Total"},{title:"Notifications",icon:e(hs,{}),stats:{},key:"notifications",url:`${T.EE}/${T.EVENT_MANAGEMENT}?status=${ge.COMPLETED}`,urlLabel:"Completed"},{title:"Templates",icon:e(ps,{}),stats:{},key:"templates",url:`${T.EE}/${T.EVENT_MANAGEMENT}?status=${ge.NOT_STARTED}`,urlLabel:"Inprogress"}],Wl=""+new URL("user-icon-animate-dce1d643.svg",import.meta.url).href;const{Link:Hl}=ne,hi=n=>{const{name:t,groomName:a,brideName:s,startDateTime:i,endDateTime:l,location:c,invitationAttachment:r,type:d,personName:h,id:u,locationUrl:y}=n,g=new Date(i).toLocaleString(),C=new Date(l).toLocaleString(),p=we(),{eventTypes:m}=M.eventStore(),_=m.find(D=>D.value===d);return e(ms,{style:{boxShadow:"none",borderRadius:"0.75rem",cursor:"pointer"},onClick:()=>{p(`${T.EE}/${T.MY_INVITATION}?id=${u}&action=VIEW`)},children:e(gs,{action:e(gn,{variant:"body2",color:"text.secondary",style:{textAlign:"end"},children:e(Te,{color:"processing",children:_==null?void 0:_.label})}),title:e(gn,{fontWeight:700,variant:"body1",color:"text.secondary",children:t}),subheader:o(Y,{children:[o(gn,{variant:"body2",color:"text.secondary",children:[g," - ",C]}),e(gn,{variant:"body2",color:"text.secondary",children:d==="MARRIAGE"?`${a} & ${s}`:h}),o(gn,{variant:"body2",color:"text.secondary",children:[e(Ho,{fontSize:"small",style:{position:"relative",top:"4px"}})," ",e(Hl,{target:"_blank",href:y,children:c})]})]})})})},{Paragraph:ql,Title:Kl}=ne,jl=()=>{var J;const[n,t]=E.useState(!1);M.dashboardStore();const[a,s]=E.useState({}),[i,l]=E.useState({}),[c,r]=E.useState(""),[d,h]=E.useState("month"),[u,y]=E.useState(oe()),[g,C]=E.useState(""),{height:p}=qe();E.useEffect(()=>{const k=oe().format("YYYY-MM"),L={fromDate:`${k}-01`,toDate:`${k}-31`};return r(k),console.log({day:k,fromDate:`${k}-01`,toDate:`${k}-31`}),D(L,m),()=>{C("")}},[]);const m=k=>{const L={};k.forEach(U=>{const ee=oe(U.startDateTime).format("D");L[ee]?L[ee].push(U):L[ee]=[U]}),s(L)},_=k=>{const L={};k.forEach(U=>{const ee=oe(U.startDateTime).format("M");L[ee]?L[ee].push(U):L[ee]=[U]}),console.log({eventYearMap:L}),l(L)},D=(k={},L)=>{t(!0),q.eventManagement.getMyInvitation(k).then(U=>{L==null||L(U),t(!1)}).catch(U=>{t(!1),console.log({location:"getInvitations",error:U})})},f=k=>{const L=k.month()+1,U=i[L],ee=k.format("M");return e(ae,{className:"events-date",direction:"vertical",onClick:()=>{C(ee)},style:{width:"100%"},children:U==null?void 0:U.map(ce=>e(Te,{bordered:!1,color:"processing",style:{width:"100%"},children:ce.name},ce.name))})},A=k=>{const U=k.format("YYYY-MM")===c?a[k.date()]:[],ee=k.format("D");return e(ae,{className:"events-date",direction:"vertical",style:{width:"100%"},onClick:()=>C(ee),children:U==null?void 0:U.map(ce=>e(Te,{bordered:!1,color:"processing",style:{width:"100%"},children:ce.name},ce.name))})},I=k=>{console.log({e:k});const L=k.format("YYYY-MM");if(c!==L){const U={fromDate:`${L}-01`,toDate:`${L}-31`};console.log({day:L,fromDate:`${L}-01`,toDate:`${L}-31`}),D(U,m),r(L)}},F=(k,L)=>L.type==="date"?A(k):L.type==="month"?f(k):L.originNode,G=k=>{if(d==="month"){const L=k.format("D");return!a[L]}else return!1},P=(k,L)=>{if(y(k),console.log({date:k,selectInfo:L}),L.source==="date")k.format("D");else if(L.source==="month"){const U=k.format("M");console.log({day:U})}},x=(k,L)=>{if(console.log({mode:L}),h(L),L==="month"){const U=k.format("YYYY-MM"),ee={fromDate:`${U}-01`,toDate:`${U}-31`};console.log({day:U,fromDate:`${U}-01`,toDate:`${U}-31`}),D(ee,m)}else if(L==="year"){const U=k.format("YYYY"),ee={fromDate:`${U}-01-01`,toDate:`${U}-12-31`};console.log({day:U,fromDate:`${U}-01-01`,toDate:`${U}-12-31`}),D(ee,_)}};return o("div",{className:"antd-calendar__container",children:[e(Ye,{title:e(Kl,{level:4,children:"Invitations"}),centered:!0,open:!!g,footer:e(Y,{}),onOk:()=>C(""),onCancel:()=>{C("")},width:"100%",style:{height:p},styles:{body:{height:p-120}},children:e(_e,{bordered:!1,style:{overflow:"auto",height:p-120},children:e(ae,{direction:"vertical",style:{width:"100%"},size:"middle",children:(J=d==="year"?i[g]:a[g])==null?void 0:J.map(k=>o(Y,{children:[e(hi,{...k}),e(tt,{})]}))})})}),e(ql,{strong:!0,style:{fontSize:"16px"},children:"My Calendar"}),e(La,{paragraph:{rows:10},loading:n,style:{width:"100%"},active:!0,children:e(fs,{mode:d,cellRender:F,onChange:I,onSelect:P,value:u,disabledDate:G,onPanelChange:x})})]})},{Title:Jl,Text:ph,Paragraph:To}=ne,Xl=24/ui.length,Ql=()=>{const{screen:n,setLoading:t,moduleAccess:a}=M.appStore(),s=we(),{selectedEvent:i,setSelectedEvent:l,chartSelectionEventId:c,calendarEvents:r,setChartSelectionEventId:d,statistics:h,setStatistics:u,setEventNotifications:y,setSelectedEventNotification:g,selectedEventNotification:C,eventNotifications:p,setTodaysInvitations:m,todaysInvitations:_}=M.dashboardStore(),{user:D}=M.userStore();E.useState("");const[f,A]=E.useState(!1),I=L=>n==="MOBILE"?{flex:L}:{span:L};E.useEffect(()=>(P(),F(),()=>{d("")}),[]),E.useEffect(()=>{G(c)},[c]),E.useEffect(()=>{var L;c||d((L=p==null?void 0:p[0])==null?void 0:L.id)},[p]);const F=()=>{t(!0);const L=oe().format("YYYY-MM-DD");q.eventManagement.getMyInvitation({fromDate:L,toDate:L}).then(U=>{U.length&&m(U),t(!1)}).catch(U=>{t(!1),console.log({location:"getInvitations",error:U})})},G=L=>{A(!0),q.dashboardAPI.getRecentEventNotification(L).then(U=>{L&&(U!=null&&U[0])?g(U==null?void 0:U[0]):y(U),A(!1)}).catch(U=>{A(!1),console.log({location:"getSelectedEventNotification",error:U})})},P=()=>{t(!0),q.dashboardAPI.getEventStatistics().then(L=>{t(!1),u(L)}).catch(L=>{t(!1),console.log({location:"getSelectedEvent",error:L})})},x=r.map(L=>({label:o(Y,{children:[L.name," (",L.type,")"]}),value:L.id})),J=()=>{var U;const L={};return(U=Object.keys(h))==null||U.forEach(ee=>{var Z;let ce=0;const j={};(Z=h[ee])==null||Z.forEach(ue=>{j[ue._id]=ue.count,ce+=ue.count}),L[ee]={...j,TOTAL:ce}}),ui.map(ee=>(ee.stats=L[ee.key],ee))},k=E.useMemo(()=>a.map(L=>L.key),[a]);return o("div",{className:"dashboard__container",children:[e("br",{}),o($,{gutter:[16,16],children:[e(v,{...I(12),children:e(_e,{style:{background:"rgb(16, 24, 40)"},children:o($,{gutter:[16,16],children:[o(v,{span:18,children:[o(Jl,{level:3,style:{color:"#fff"},children:["Welcome, ",D.firstName||"User"," !"]}),e(To,{italic:!0,style:{color:"#fff",fontSize:"16px"},children:!D.isMobileVerified||!D.isEmailVerified?o("div",{children:[o("p",{children:["Unlock a personalized experience! 🚀 Complete your account details to tailor our services just for you. Your journey to a more customized and efficient experience begins now. 🌟"," "]}),e("p",{children:"#PersonalizationPerfection #CompleteYourProfile"})]}):o("div",{children:[o("p",{children:["Transform your event planning experience with our intuitive notification system. Let's craft memorable moments together! 🎉"," "]})," ",e("p",{children:" #EventExcellence #NotificationMagic"})]})}),(k==null?void 0:k.includes(T.EVENT_MANAGEMENT))&&o(R,{type:"primary",onClick:()=>s(!D.isMobileVerified||!D.isEmailVerified?`${T.EE}/${T.MY_PROFILE}`:`${T.EE}/${T.EVENT_MANAGEMENT}?action=ADD`),children:[!D.isMobileVerified||!D.isEmailVerified?"Go to Account":"Event Creation"," ",e(ys,{style:{color:"#fff"},className:"right-arrow-icon"})]})]}),e(v,{span:6,children:e("img",{loading:"lazy",src:Wl,alt:"",width:"100%",className:"user-illustration"})})]})})}),n!=="MOBILE"&&e(v,{...I(12),children:e(Eo,{isFetching:f,allEventNotifications:p,selectedEventNotification:C,onRefresh:()=>G(c),chartSelectionOptions:x,setChartSelectionEventId:d})})]}),e("br",{}),e($,{gutter:[16,16],children:e(v,{...I(12),children:e(_e,{hoverable:!0,title:e($,{children:e(v,{span:12,children:o(ae,{children:[e(Es,{style:{position:"relative",top:"5px"}}),"Today's Invitation",o("span",{children:["(",_.length,")"]})]})})}),bordered:!1,style:{width:"100%",boxShadow:"rgb(234, 236, 240) 0px 0px 1px, rgba(29, 41, 57, 0.08) 0px 6px 12px",margin:"0px 4px"},styles:{body:{overflow:"auto",maxHeight:"36vh"}},children:_.length?_.map(L=>e(Y,{children:e(hi,{...L})})):o("div",{style:{textAlign:"center"},children:[e("img",{loading:"lazy",src:di,alt:"No recent event"}),e(To,{children:"No Invitation today!"})]})})})}),e("br",{}),e($,{gutter:[16,16],children:o(v,{...I(24),children:[e($,{gutter:[16,16],children:J().map(L=>e(v,{span:n==="MOBILE"?24:Xl,children:e(Gl,{...L})},L.title))}),e("br",{}),e($,{gutter:[8,8],style:{padding:".5rem",borderRadius:"0.75rem"},children:e(jl,{})})]})}),n==="MOBILE"&&e("div",{children:e(Eo,{isFetching:f,allEventNotifications:p,selectedEventNotification:C,onRefresh:()=>G(c),chartSelectionOptions:x,setChartSelectionEventId:d})})]})};oe.extend(qo);const pi=n=>n&&n<oe().startOf("day");const Zl="3.11.174",ec=`https://unpkg.com/pdfjs-dist@${Zl}/build/pdf.worker.min.js`,mi=n=>{const{url:t}=n,a=Ts.defaultLayoutPlugin();return e("div",{children:e(Ga.Worker,{workerUrl:ec,children:e(Ga.Viewer,{fileUrl:t,plugins:[a]})})})},{Dragger:tc}=Yo,{Meta:nc}=_e,Ua=n=>{var I;const{onAttach:t,disabled:a,hoverText:s,buttonText:i,accept:l="*",isPreview:c,otherProps:r={}}=n;qe();const{screen:d}=M.appStore(),[h,u]=E.useState(!1),[y,g]=E.useState(""),[C,p]=E.useState(""),m=()=>u(!1),_=E.useMemo(()=>new URL(""+new URL("pdf-icon-28ffd208.svg",import.meta.url).href,self.location),[]),D=F=>d==="MOBILE"?{flex:F}:{span:F},f=async F=>{g(F.url),u(!0),p(F.name)};c&&(r.previewFile=f,r.listType="text");let A=!1;return y&&(A=_n(y)),o(Y,{children:[o(tc,{...r,accept:l,disabled:a,progress:{showInfo:!0},showUploadList:!0,beforeUpload:F=>!1,onChange:t,height:"35vh",children:[e("p",{className:"ant-upload-drag-icon",children:e(vs,{})}),e("p",{className:"ant-upload-text",children:"Browse for files or drag them here."})]}),e($,{gutter:[8,8],children:(I=r==null?void 0:r.fileList)==null?void 0:I.map(F=>e(v,{...D(6),children:e(_e,{hoverable:!0,style:{},cover:e("img",{loading:"lazy",alt:F.name,src:_n(F.url)?_:F.url}),onClick:()=>{f(F)},children:e(nc,{description:F.name})})}))}),e(Ye,{open:h,title:C,footer:null,onCancel:m,children:e(Y,{children:A?e(mi,{url:y}):e("img",{loading:"lazy",alt:"example",style:{width:"100%"},src:y})})})]})};const{Paragraph:Et,Link:mh,Text:ac}=ne,gi={};Ra.forEach(n=>{gi[n.value]=n.label});const oc=n=>{const{contactDirectory:t,messageTemplate:a,triggerDateTime:s,contactList:i,templates:l,price:c=0,status:r,channel:d,viewNotification:h,sendNotification:u}=n,y=we(),{user:g,activePlan:C}=M.userStore(),p=l.find(D=>D.id===a),m=i.filter(D=>t.includes(D.id)),_=C==null?void 0:C.pricingPlan;return o(Y,{children:[o("div",{children:[e(Et,{strong:!0,children:"Contacts"}),e(Et,{children:e(ae,{wrap:!0,children:m==null?void 0:m.map(D=>e(Te,{bordered:!1,children:D.name}))})})]}),o("div",{children:[e(Et,{strong:!0,children:"Message"}),e(Et,{style:{color:"rgb(102, 112, 133)"},children:p==null?void 0:p.name})]}),o("div",{children:[e(Et,{strong:!0,children:"Channel"}),e(Et,{style:{color:"rgb(102, 112, 133)"},children:gi[d]})]}),o("div",{children:[e(Et,{strong:!0,children:"Send Date and Time"}),e(Et,{style:{color:"rgb(102, 112, 133)"},children:oe(s).format(Pn)})]}),o("div",{children:[o(Et,{strong:!0,children:[[ge.NOT_STARTED,ge.NO_CREDITS].includes(r)?"Estimated credits to send notification":"Credit utilized on this notification"," ",":"," ",e(ac,{style:{color:"rgb(102, 112, 133)"},children:parseFloat(c==null?void 0:c.toString())})]}),[ge.NOT_STARTED,ge.NO_CREDITS].includes(r)&&c>(C==null?void 0:C.notificationCredit)&&e(Re,{message:o(Y,{children:["You don't have enough credit to send this notification.",e(R,{type:"link",style:{padding:"4px"},onClick:()=>{y(`${T.EE}/${T.WALLET}`)},children:"Click here"}),"to buy a new plan."]}),type:"error",style:{marginBottom:"8px"}})]}),o(ae,{size:"large",children:[e(R,{icon:e(qn,{fontSize:"inherit"}),type:"link",onClick:h,className:"app-link",style:{padding:"0px"},children:"View notification"}),(C==null?void 0:C.notificationCredit)>=(_==null?void 0:_[cn[d]])&&e(R,{icon:e(As,{fontSize:"inherit"}),type:"link",onClick:u,className:"app-link",style:{padding:"0px"},children:"Send to me"})]})]})};const{Text:vo}=ne,ic=n=>{const[t]=V.useForm(),{contactDirectory:a,name:s,messageTemplate:i,triggerDateTime:l,isEdit:c,channel:r,isEditAllowed:d,contactList:h,getContactDirectory:u,getTemplates:y,onSearchContact:g,onSearchTemplate:C,onCancelEdit:p,handleSubmit:m,templates:_,isContactFetching:D,isTemplateFetching:f,action:A}=n,{screen:I}=M.appStore(),{user:F}=M.userStore(),{width:G}=qe(),P=V.useWatch("channel",{form:t,preserve:!0}),x=async k=>{console.log({values:k}),I==="MOBILE"&&(k.triggerDateTime=oe(k.triggerDateTime).format()),m==null||m(k)};E.useEffect(()=>{console.log({contactDirectory:a,name:s,messageTemplate:i,triggerDateTime:oe(l),channel:r}),t.setFieldsValue({contactDirectory:a,name:s,messageTemplate:i,triggerDateTime:l?I==="MOBILE"?oe(l).format("YYYY-MM-DDTHH:mm"):oe(l):void 0,channel:r}),r&&y({approvalStatus:ge.APPROVED,channel:r})},[a,s,i,l,r]);const J=()=>{t.resetFields(),p==null||p()};return e(Y,{children:e(Ye,{open:c,title:"Notification",onCancel:J,footer:null,children:o(V,{name:"notificationForm",className:"event-notification-edit__container",layout:"vertical",onFinish:x,form:t,children:[e(V.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input notification name!"}],children:e(pe,{})}),e(V.Item,{label:"Select the channel",name:"channel",rules:[{required:!0,message:"Please select event channel!"}],children:e(Gt.Group,{options:Ra,optionType:"button",buttonStyle:"solid",onChange:()=>{t.setFieldValue("messageTemplate",void 0)}})}),e(V.Item,{label:"Select contact directory",name:"contactDirectory",rules:[{required:!0,message:"Please choose contact directory!"}],children:e(He,{placeholder:"Select the contact directory",allowClear:!0,showSearch:!0,mode:"multiple",options:h==null?void 0:h.map(k=>({label:k.name,value:k.id})),onFocus:()=>{u()},loading:D,onSearch:g,filterOption:!1,notFoundContent:e(hn,{description:o(Y,{children:["No Contact, Click"," ",e("a",{href:`${T.EE}/${T.CONTACT_MANAGEMENT}`,target:"_blank",children:"here"})," ","to create"]})})})}),e(V.Item,{label:"Select message template",name:"messageTemplate",rules:[{required:!0,message:"Please choose message template!"}],children:e(He,{disabled:!P,showSearch:!0,onSearch:C,placeholder:"Select the message template",allowClear:!0,filterOption:!1,loading:f,options:_==null?void 0:_.map(k=>({label:k.name,value:k.id})),onFocus:()=>{y({approvalStatus:ge.APPROVED,channel:P})},notFoundContent:e(hn,{description:o(Y,{children:["No Template, Click"," ",e("a",{href:`${T.EE}/${T.TEMPLATE_MANAGEMENT}`,target:"_blank",children:"here"})," ","to create"]})})})}),e(V.Item,{label:"Send Date and Time",name:"triggerDateTime",rules:[{required:!0,message:"Please select send date and time!"}],children:I!=="MOBILE"?e(aa,{format:"YYYY-MM-DD HH:mm",disabledDate:pi,showTime:!0,style:{width:"100%"},popupStyle:{maxWidth:G}}):e(pe,{type:"datetime-local",allowClear:!0})}),F.walletIsTrial&&e(Re,{style:{padding:"0px 8px"},type:"warning",message:o(vo,{children:[e(vo,{strong:!0,children:"Upgrade Alert: "})," Your account is in trial mode. Please add credits to your wallet to continue sending notifications and unlock premium features."]})}),e(V.Item,{children:o("div",{className:"submit-button",children:[e(R,{type:"default",onClick:J,children:"Cancel"}),e(R,{type:"primary",htmlType:"submit",children:A==="EDIT"?"Update":"Create"})]})})]})})})};const{Paragraph:ha,Text:sc,Title:gh,Link:rc}=ne,Va=n=>{const{screen:t}=M.appStore();console.log({props:n});const{message:a,type:s,name:i,channel:l,approvalStatus:c}=n,[r,d]=E.useState(),[h,u]=E.useState({id:"",status:""}),y=(f,A)=>{g();const I=new SpeechSynthesisUtterance;I.text=f;const F=window.speechSynthesis.getVoices();I.voice=F[0],I.onend=function(){console.log("Speech finished"),d(void 0),u({id:"",status:"ENDED"})},console.log({text:f}),window.speechSynthesis.speak(I),d(I),h.status==="PLAYING"?u({id:"",status:""}):u({id:A,status:"PLAYING"})},g=()=>{var f;(f=window==null?void 0:window.speechSynthesis)==null||f.cancel(),console.log("Speech stopped"),u({id:"",status:""})},C=()=>{r&&(window.speechSynthesis.resume(),u({...h,status:"PLAYING"}))},p=()=>{r&&(window.speechSynthesis.pause(),u({...h,status:"PAUSED"}))};let m={};t==="DESKTOP"&&(m={margin:"2% 20%",textAlign:"left"});const _=Ra.find(f=>f.value===l),D=()=>{if(!a)return e(Y,{});switch(l){case"VOICE_CALL":return Object.values(a).map(A=>{if(A.type==="TEXT")return e(ha,{children:o(_e,{className:"message sent",bordered:!1,children:[e("div",{children:A.value}),o("div",{style:{float:"right"},children:[(h==null?void 0:h.id)!==A.id&&e(Kn,{onClick:()=>{y==null||y(A.value,A.id)}}),(h==null?void 0:h.id)===A.id&&(h==null?void 0:h.status)==="PLAYING"&&e(Ko,{onClick:()=>{p==null||p()}}),(h==null?void 0:h.id)===A.id&&(h==null?void 0:h.status)==="PAUSED"&&e(Kn,{onClick:()=>{C==null||C()}}),(h==null?void 0:h.id)===A.id&&((h==null?void 0:h.status)==="PLAYING"||(h==null?void 0:h.status)==="PAUSED")&&e(jo,{onClick:()=>{g==null||g()}})]})]})});if(A.type==="AUDIO")return console.log({msg:A}),e("audio",{className:"message sent",src:A.value,controls:!0,style:{width:"100%"}})});case"SMS":return e("div",{dangerouslySetInnerHTML:{__html:a.text}});case"WHATSAPP":{if(c!==ge.APPROVED)return e("div",{dangerouslySetInnerHTML:{__html:a.text}});let f=e(Y,{});return a&&(console.log({message:a}),f=a==null?void 0:a.map(A=>{var I;if(A.type==="BODY"){const G=`<p>${A.text.replace(/\*([^*]+)\*/g,"<strong>$1</strong>").replace(/\n/g,"<br>")}</p>`;return e("div",{dangerouslySetInnerHTML:{__html:G}})}if(A.type==="BUTTONS")return e(ae,{direction:"vertical",style:{width:"100%"},size:"small",children:(I=A==null?void 0:A.buttons)==null?void 0:I.map(F=>o(Y,{children:[e(tt,{}),o(ae,{className:"whatsapp-button",children:[e(qn,{fontSize:"inherit"}),e(rc,{href:F.url,target:"_blank",style:{padding:"0px"},children:F.text})]})]}))})})),console.log({whatsapp:f,message:a[0]}),f}default:return e("div",{dangerouslySetInnerHTML:{__html:a}})}};return e("div",{children:e("div",{className:"phone",children:o(_e,{style:m,className:"chat-container",children:[e(_e.Meta,{avatar:e(qt,{icon:e(Cs,{})}),title:o($,{children:[o(v,{span:16,children:[e(ha,{children:i||""}),e(ha,{italic:!0,style:{fontWeight:"lighter"},children:_==null?void 0:_.label})]}),e(v,{span:8,children:e(sc,{strong:!0,className:"float-right",children:s?oa(s):""})})]})}),e(tt,{}),D()]})})})},lc=Object.keys(Xn).map(n=>({label:e(Te,{color:Wt==null?void 0:Wt[n],children:Xn[n]}),value:n})),cc=[{key:re.NAME,dataIndex:re.NAME,title:Ht.NAME,sortable:!0,filterable:!0},{key:re.MOBILE,dataIndex:re.MOBILE,title:Ht.MOBILE,sortable:!0,filterable:!0},{key:re.STATUS,dataIndex:re.STATUS,title:Ht.STATUS,sortable:!0,filterable:!0,render:n=>e(Te,{color:Wt==null?void 0:Wt[n==null?void 0:n[re.STATUS]],children:Xn[n==null?void 0:n[re.STATUS]]}),filterElement:n=>e(He,{value:n.value,options:lc,onChange:t=>n.filterApplyCallback(t),placeholder:"Any",className:"p-column-filter",style:{width:"100%"},allowClear:!0})}];const{Text:Tt}=ne,dc=n=>{const{callData:t}=n;return e(_e,{className:"voice-call-logs__container",bordered:!1,children:t!=null&&t.callStatus?o(ae,{size:"large",children:[o("div",{children:[e(Tt,{strong:!0,children:"Call Status: "}),e(Tt,{className:"font-size-12",children:t.callStatus})]}),o("div",{children:[e(Tt,{strong:!0,children:"Answer Time: "}),e(Tt,{className:"font-size-12",children:t.answerTime?new Date(t.answerTime*1e3).toLocaleString():"Not answered"})]}),o("div",{children:[e(Tt,{strong:!0,children:"End Time: "}),e(Tt,{className:"font-size-12",children:new Date(t.endTime*1e3).toLocaleString()})]}),o("div",{children:[e(Tt,{strong:!0,children:"End Reason: "}),e(Tt,{className:"font-size-12",children:t.endReason})]})]}):e(Tt,{children:"No logs to show"})})},{Text:uc}=ne,fi=n=>{const{contactList:t,showStatus:a=!0,setContactList:s,isEditable:i,onUpdateContact:l,isEdit:c,setIsEdit:r,showLogs:d,exportNotificationContacts:h}=n,{screen:u,isError:y,setError:g}=M.appStore(),{setIsListView:C,isListView:p}=M.contactStore(),[m,_]=E.useState([]),[D,f]=E.useState([]),[A,I]=E.useState(null);E.useEffect(()=>(C(localStorage.getItem(je.CONTACT_LIST)==="List"),()=>{}),[]);const F=w=>u==="MOBILE"?{flex:w}:{span:w},G=bn.cloneDeep(cc);let P=a?G:G.slice(0,2);c&&p&&(P=P.map(w=>(w.key===re.NAME?w.render=b=>e(pe,{placeholder:"Input user name",status:y&&!(b!=null&&b[re.NAME])?"error":"",value:b==null?void 0:b[re.NAME],onChange:Q=>{x(b.id,re.NAME,Q.target.value)}}):w.key===re.MOBILE&&(w.render=b=>e(pe,{placeholder:"Input user mobile",status:y&&!(b!=null&&b[re.MOBILE])?"error":"",max:10,type:"number",value:b==null?void 0:b[re.MOBILE],onChange:Q=>{x(b.id,re.MOBILE,Q.target.value)}})),w)));const x=(w,b,Q)=>{if(b===re.MOBILE&&(isNaN(Number(Q))||Q.length>10))return;const le=t.map(ve=>(ve.id===w&&(ve[b]=Q,ve.action!=="ADD"&&(ve.action="EDIT")),ve));s==null||s(le)},J=(w,b)=>{let Q=[...m];b?(Q.push(w),f(le=>[...le,w.id])):(Q=Q.filter(le=>le.id!==w.id),f(le=>le.filter(ve=>ve!==w.id))),_(Q)},k=()=>{const b=[{id:na(),name:"",senderId:"",action:"ADD"},...t];s==null||s(b)},L=()=>{const w=m.map(Q=>Q.id),b=t.map(Q=>(w.includes(Q.id)&&(Q.action="DELETE"),Q));s==null||s(b),_([])},U=async()=>{const b=ci({name:"test",contacts:t});g(b),!b&&(l==null||l())},ee=E.useMemo(()=>{const w={};return t.forEach(b=>{w[b.requestId]=!0}),w},[t]),ce=()=>{I(ee)},j=()=>{I(null)};let Z={};i&&c&&(Z={selectionMode:"checkbox",selection:m,onSelectionChange:w=>{_(w.value),f(w.value.map(b=>b.id))},dataKey:"id"});const ue=E.useMemo(()=>t==null?void 0:t.filter(w=>w.action!=="DELETE"),[t]),me=E.useMemo(()=>t.length,[t]),X=E.useMemo(()=>{var w;return A?(w=Object.keys(A))==null?void 0:w.length:0},[A]);return d&&(Z={...Z,onRowToggle:w=>{I(w.data)},rowExpansionTemplate:w=>e(dc,{callData:w}),expandedRows:A,dataKey:"requestId"}),o(ae,{direction:"vertical",style:{width:"100%"},children:[o($,{children:[e(v,{...F(16),style:{textAlign:"start"},children:o(uc,{italic:!0,children:["Showing total ",(t==null?void 0:t.length)||0," contacts"]})}),e(v,{...F(8),children:o("div",{style:{width:"100%",float:"right"},children:[e($t,{value:p?"List":"Card",options:[{value:"List",icon:e(jt,{})},{value:"Card",icon:e(Jt,{})}],onChange:w=>{localStorage.setItem(je.CONTACT_LIST,w.toString()),C(w==="List")},style:{float:"right",marginBottom:".5rem"}}),!i&&h&&e(R,{icon:e(Jo,{fontSize:"inherit"}),type:"text",style:{float:"right"},onClick:h,children:"Export"}),i&&o(Y,{children:[c?e(R,{style:{float:"right",marginRight:"0.5rem"},type:"default",onClick:k,children:"Add new"}):null,m!=null&&m.length?e(R,{style:{float:"right",marginRight:"0.5rem"},danger:!0,onClick:L,children:"Delete"}):null,e(R,{type:c?"primary":"text",icon:c?e(Ns,{fontSize:"inherit"}):e(Is,{fontSize:"inherit"}),style:{float:"right",marginRight:"0.5rem"},onClick:()=>{c?U():r==null||r(!0)},children:c?"Save changes":"Edit"})]}),d&&e(ae,{size:"large",style:{float:"right"},children:e(R,{type:"text",onClick:X===me?j:ce,icon:X===me?e(Go,{fontSize:"inherit"}):e(Ma,{fontSize:"inherit"}),children:X===me?"Collapse all":"Expand all"})})]})})]}),p?e("div",{style:{width:"100%"},children:e(St,{columns:P,data:ue,otherProps:Z})}):e($,{gutter:[16,16],children:ue==null?void 0:ue.map(w=>e(v,{span:u==="MOBILE"?24:8,children:e(li,{senderId:w.senderId,name:w.name,id:w.id,status:w.status,editable:c,isSelected:D.includes(w.id),onSelectCard:(b,Q)=>J(w,Q),onContactChange:x,otherProps:Z,showLogs:d,data:w})},w.id))})]})},hc=[{title:"Message",content:"Second-content"},{title:"Contacts",content:"Last-content"}],pc=n=>{const{notification:t,previewOpen:a,setPreviewClose:s,exportNotificationContacts:i}=n,{contactDirectory:l,messageTemplate:c,name:r,action:d,channel:h,status:u,id:y}=t,{selectedEvents:g,isEdit:C,setIsEdit:p}=M.eventStore(),{selectedTemplate:m,setSelectedTemplate:_}=M.templateStore(),{contactList:D,setContactList:f}=M.contactStore(),{screen:A,setLoading:I}=M.appStore(),{token:F}=On.useToken(),[G,P]=E.useState(1),[x,J]=E.useState(""),[k,L]=E.useState(""),{height:U}=qe();E.useEffect(()=>{a&&(ue(),Z())},[g,a]);const ee=b=>{P(b)},ce=b=>{switch(b){case 1:return e(Va,{...m,approvalStatus:"APPROVED"});case 2:return e(fi,{contactList:D,setContactList:f,isEditable:u===ge.NOT_STARTED,onUpdateContact:j,isEdit:C,setIsEdit:p,showLogs:!Nr.includes(u),exportNotificationContacts:i});default:return e(Y,{})}},j=()=>{const b=D==null?void 0:D.filter(Q=>Q.action);I(!0),q.eventManagement.updateEventNotificationContact(g.id,y,b).then(Q=>{I(!1),s==null||s()}).catch(Q=>{I(!1),console.log({location:"updateEventContacts",error:Q})})},Z=()=>{I(!0),q.eventManagement.getEventNotificationTemplate(g.id,y).then(b=>{_(b),I(!1)}).catch(b=>{I(!1),console.log({location:"getEventNotificationTemplate",error:b})})},ue=()=>{I(!0),q.eventManagement.getEventNotificationContact(g.id,y).then(b=>{f(b),I(!1)}).catch(b=>{I(!1),console.log({location:"getEventNotificationContacts",error:b})})},X=[...hc].map((b,Q)=>({key:`${Q+1}`,label:b.title,title:b.title})),w={textAlign:"center",color:F.colorTextTertiary,borderRadius:F.borderRadiusLG,marginTop:16};return x&&_n(x),e(Y,{children:e(Ye,{open:a,title:k,footer:null,width:"100%",styles:{body:{minHeight:U-U*(20/100)}},onCancel:s,children:o(Y,{children:[e(Mn,{onChange:b=>{ee(Number(b))},type:"card",items:X}),e("div",{style:w,children:ce(G)})]})})})},mc=[{title:"Contacts",content:"Last-content"}],gc=n=>{const{previewOpen:t,setPreviewClose:a}=n,{selectedEvents:s,isEdit:i,setIsEdit:l}=M.eventStore();M.templateStore();const{contactList:c,setContactList:r}=M.contactStore(),{screen:d,setLoading:h}=M.appStore(),{token:u}=On.useToken(),[y,g]=E.useState(1),[C,p]=E.useState(""),[m,_]=E.useState("");E.useEffect(()=>{t&&(A(),l(!1))},[s,t]);const D=x=>{g(x)},f=x=>{switch(x){case 1:return e(fi,{contactList:c,showStatus:!1,setContactList:r,isEditable:!0,onUpdateContact:I,isEdit:i,setIsEdit:l});default:return e(Y,{})}},A=()=>{h(!0),q.eventManagement.getEventContact(s.id).then(x=>{r(x),h(!1)}).catch(x=>{h(!1),console.log({location:"getEventContacts",error:x})})},I=()=>{h(!0),q.eventManagement.updateEventContact(s.id,c).then(x=>{h(!1),a==null||a()}).catch(x=>{h(!1),console.log({location:"updateEventContacts",error:x})})},G=mc.map((x,J)=>({key:`${J+1}`,label:x.title,title:x.title})),P={textAlign:"center",color:u.colorTextTertiary,borderRadius:u.borderRadiusLG,marginTop:16};return C&&_n(C),e(Y,{children:e(Ye,{open:t,title:m,footer:null,width:"100%",onCancel:a,children:o(Y,{children:[e(Mn,{onChange:x=>{D(Number(x))},type:"card",items:G}),e("div",{style:P,children:f(y)})]})})})};const yi=n=>{const{isVideoEnable:t,url:a}=n;return o("div",{className:"video-player__container",children:[t&&a&&e("div",{className:"video-player",children:e(bs,{...n})}),(!t||!a)&&e(hn,{description:e("div",{children:t?e(Y,{children:e("p",{children:"This event does not offer video streaming."})}):o(Y,{children:[e("p",{children:"Video streaming has been deactivated by the event organizer."}),e("p",{children:"Kindly request the event organizer to enable video streaming."})]})})})]})},{RangePicker:fc}=aa;oe.extend(qo);const{Panel:yc}=Sn,{Text:zt,Link:Ec}=ne,pa={contactDirectory:[],messageTemplate:"",name:"",channel:""},Tc=n=>{const{styles:t}=Xt();Kt();const{contactList:a,templates:s,formFields:i,form:l,onHandleEvent:c,onSearchTemplate:r,isTemplateFetching:d,isContactFetching:h,onSearchContact:u,getContactDirectory:y,getTemplates:g,handleFileUpload:C,handleUpdateEventNotification:p,action:m}=n,_=we(),{screen:D,setLoading:f,isLoading:A}=M.appStore(),{setIsEdit:I,selectedEvents:F}=M.eventStore(),{user:G,activePlan:P}=M.userStore(),[x,J]=E.useState(pa),[k,L]=E.useState(!1),[U,ee]=E.useState(""),{token:ce}=On.useToken(),j=V.useWatch("invitationAttachment",{form:l,preserve:!0}),Z=V.useWatch("notification",{form:l,preserve:!0})||[],ue=H=>{switch(H.type){case en.INPUT_TEXT:return m==="VIEW"?e(zt,{className:"text-view",children:l.getFieldValue(H.name)||"NA"}):e(pe,{...H.fieldProps});case en.INPUT_URL:return m==="VIEW"?l.getFieldValue(H.name)?e(Y,{children:H.name==="videoUrl"&&l.getFieldValue(H.name)?e(Sn,{bordered:!1,defaultActiveKey:["1"],expandIcon:()=>!1,items:[{children:e(yi,{url:l.getFieldValue(H.name),isVideoEnable:!0}),label:l.getFieldValue(H.name),className:"video-collapse"}]}):e("a",{target:"_blank",className:"app-link",href:l.getFieldValue(H.name),children:l.getFieldValue(H.name)})}):"NA":e(pe,{type:"url",...H.fieldProps});case en.INPUT_DATETIME_LOCAL:return m==="VIEW"?e(zt,{className:"text-view",children:l.getFieldValue(H.name)?oe(l.getFieldValue(H.name)).format("DD MMM, YYYY HH:mm"):"NA"}):e(pe,{type:"datetime-local",allowClear:!0});case en.RANGE_PICKER:return e(fc,{disabledDate:pi,showTime:{hideDisabledOptions:!0,defaultValue:[oe("00:00","HH:mm"),oe("11:59","HH:mm")]},format:"DD MMM, YYYY HH:mm",style:m!=="VIEW"?{width:"100%"}:{},disabled:m==="VIEW"});case en.RADIO_GROUP:return e(Gt.Group,{options:H.options,optionType:"button",buttonStyle:"solid",onChange:H.onChange,disabled:m==="VIEW"});case en.SWITCH:return m==="VIEW"?e(Te,{color:l.getFieldValue(H.name)?"success":"default",children:l.getFieldValue(H.name)?"Yes":"No"}):e(Ms,{checkedChildren:"No",unCheckedChildren:"Yes"});default:return e(Y,{})}},me=(H={})=>{f(!0),q.eventManagement.sendNotificationToOrganiser(x.id).then(De=>{J(pa),ee(""),f(!1)}).catch(De=>{f(!1),console.log({location:"getContactDirectory",error:De})})},X=()=>{f(!0),q.eventManagement.exportNotificationContacts(F.id,x.id).then(H=>{Ta.saveAs(H,`${x.name}.xlsx`),f(!1)}).catch(H=>{f(!1),console.error("exportNotificationContacts",H)})},w=()=>{const H=na();J({id:H,contactDirectory:[],messageTemplate:"",name:"",channel:"",triggerDateTime:"",action:"ADD"}),ee("ADD")},b=()=>{J(pa),ee(""),I(!1)},Q=()=>{L(!1)},le=H=>{if(m==="ADD"){const De=[...Z,{...x,...H}];l.setFieldValue("notification",De)}else["EDIT","VIEW"].includes(m)&&(p==null||p({notification:[{...x,...H}]}));b()},ve=()=>{if(m==="ADD"){const H=Z.filter(De=>De.id!==x.id);l.setFieldValue("notification",H)}else{const H=Z.find(De=>De.id===x.id);H&&(p==null||p({notification:[{...H,action:"DELETE"}]}))}ee("")},Ke=H=>e(Te,{color:xe[Ne[H==null?void 0:H.status]],children:Ne[H==null?void 0:H.status]}),Je={marginBottom:8,background:ce.colorFillAlter,borderRadius:ce.borderRadiusLG,border:"none"},Ee=P==null?void 0:P.pricingPlan;return o("div",{className:"event-creation__container",children:[e(Ye,{open:U==="SEND",title:"Send Notification to me",okText:(P==null?void 0:P.notificationCredit)>=(Ee==null?void 0:Ee[cn[x.channel]])?"Send":e(Y,{}),cancelText:"Cancel",onOk:me,classNames:It(t),styles:pt(),onCancel:()=>{ee("")},confirmLoading:A,children:e(Re,{message:(P==null?void 0:P.notificationCredit)>=(Ee==null?void 0:Ee[cn[x.channel]])?`You will be charged ${Ee==null?void 0:Ee[cn[x.channel]]} credit for this notification`:`You don't have enough credit to send this notification. Credit required: ${Ee==null?void 0:Ee[cn[x.channel]]}`,type:(P==null?void 0:P.notificationCredit)>=(Ee==null?void 0:Ee[cn[x.channel]])?"info":"error"})}),e(ic,{...x,contactList:a,templates:s,isTemplateFetching:d,onSearchTemplate:r,isContactFetching:h,onSearchContact:u,isEdit:U==="EDIT"||U==="ADD",getContactDirectory:y,getTemplates:g,onCancelEdit:b,handleSubmit:le,action:U}),e(pc,{previewOpen:U==="VIEW",notification:x,setPreviewClose:b,exportNotificationContacts:X}),e(gc,{previewOpen:k,setPreviewClose:Q}),e($,{children:e(v,{flex:24,children:o(V,{layout:"vertical",form:l,onFinish:c,className:m==="VIEW"?"view-mode":"edit-mode",children:[i.map(H=>e(V.Item,{label:H.label,name:H.name,rules:H.rules,children:ue(H)})),e(V.Item,{label:"Select the contact directory to invite the user to this event",name:"contactDirectory",rules:[{required:!1,message:"Please choose contact directory!"}],extra:m==="VIEW"&&e(R,{type:"link",onClick:()=>{L(!0)},className:"app-link",icon:e(qn,{fontSize:"inherit"}),style:{paddingLeft:0},children:"View contacts"}),help:m!=="VIEW"&&o($,{children:[e(v,{flex:18,order:D==="MOBILE"?2:1,children:e(zt,{style:{float:"left"},italic:!0,className:"secondary-color",children:"Choose a contact directory from the list, or alternatively, add contacts individually while in view mode."})}),e(v,{flex:6,order:D==="MOBILE"?1:2,children:e(R,{icon:e(Ss,{fontSize:"inherit"}),type:"link",size:"large",style:{float:"right"},href:`${T.EE}/${T.CONTACT_MANAGEMENT}`,target:"_blank",children:"Create Directory"})})]}),children:e(He,{placeholder:m==="VIEW"?"No contact directory selected":"Select the contact directory",allowClear:!0,showSearch:m!=="VIEW",mode:"multiple",disabled:m==="VIEW",options:a==null?void 0:a.map(H=>({label:H.name,value:H.id})),onFocus:()=>{y()},loading:h,onSearch:u,filterOption:!1,notFoundContent:e(hn,{description:o(Y,{children:["No Contact, Click"," ",e("a",{href:`${T.EE}/${T.CONTACT_MANAGEMENT}`,target:"_blank",children:"here"})," ","to create"]})}),style:{width:"100%"}})}),e(V.Item,{label:"Invitation Attachment",name:"invitationAttachment",children:m==="VIEW"&&!(j!=null&&j.length)?"NA":e(Ua,{buttonText:"Upload Attachment",isPreview:!0,disabled:m==="VIEW",otherProps:{fileList:j},accept:"image/*,application/pdf",onAttach:H=>C==null?void 0:C(H)})}),o(V.Item,{label:"Notification",name:"notification",children:[e(Re,{style:{padding:"8px",margin:"0px 0px 8px 0px"},type:"info",message:o(zt,{children:[e(zt,{strong:!0,children:"Credit utilization alert: "})," Your notification credit will be deducted when the notification is sent. If you have insufficient credit, the notification will not be sent."]})}),G.walletIsTrial&&(Z==null?void 0:Z.length)&&e(Re,{style:{padding:"8px",margin:"0px 0px 8px 0px"},type:"warning",message:o(zt,{children:[e(zt,{strong:!0,children:"Upgrade Alert: "})," Your account is in trial mode. Please"," ",e(Ec,{className:"app-link",onClick:()=>{_(`${T.EE}/${T.WALLET}`)},children:"click here"})," ","add credits to your wallet to continue sending below notifications and unlock premium features."]})}),(P==null?void 0:P.notificationCredit)>0?null:e(Re,{message:"You do not have sufficient notification credits available with your current plan to create notifications.",type:"error",showIcon:!0,className:"margin-bottom-8"}),Z==null?void 0:Z.map(H=>{var De;return e(ae,{direction:"vertical",style:{width:"100%",marginBottom:"8px"},children:e(Sn,{style:Je,expandIcon:({isActive:Me})=>e(_s,{rotate:Me?90:0}),className:"notification-collapse",children:e(yc,{header:`${H.name||"New"}`,collapsible:"icon",className:`notification-collapse-${(De=H.status)==null?void 0:De.toLowerCase()}`,extra:o($,{children:[e(v,{flex:12,children:Ke(H)}),o(v,{flex:12,children:[e(ea,{content:o(Y,{children:[e(R,{type:"link",onClick:ve,children:"Yes"})," ",e(R,{type:"text",onClick:()=>{ee("")},children:"No"})]}),title:"Delete Notification",trigger:"click",open:U==="DELETE"&&H.id===x.id,onOpenChange:()=>{J({...H,action:"DELETE"}),ee("DELETE")},children:H.isDeleteAllowed&&e(ws,{fontSize:"small",className:"cursor-pointer margin-right-8",onClick:Me=>Me.stopPropagation()})}),H.isEditAllowed&&e(Ds,{fontSize:"small",className:"cursor-pointer margin-right-8",onClick:Me=>{J({...H,action:"EDIT"}),ee("EDIT"),Me.stopPropagation()}}),e(qn,{fontSize:"small",className:"cursor-pointer margin-right-8",onClick:()=>{ee("VIEW"),J(H)}})]})]}),children:e(oc,{...H,contactList:a,templates:s,isTemplateFetching:d,onSearchTemplate:r,isContactFetching:h,onSearchContact:u,getContactDirectory:y,getTemplates:g,viewNotification:()=>{ee("VIEW"),J(H)},sendNotification:()=>{J(H),ee("SEND")}})},"1")})},H.id)}),(P==null?void 0:P.notificationCredit)>0?e(R,{icon:e(Os,{fontSize:"inherit"}),onClick:w,children:"Add Notification"}):null]})]})})})]})};const Ei=""+new URL("no-events-469552e5.svg",import.meta.url).href,vc=""+new URL("card-1-54ec0cbf.svg",import.meta.url).href,Ac=""+new URL("card-10-724c7c3f.svg",import.meta.url).href,Cc=""+new URL("card-11-7d00f7a8.svg",import.meta.url).href,Nc=""+new URL("card-12-c11fe8f8.svg",import.meta.url).href,Ic=""+new URL("card-13-50b0ff3b.svg",import.meta.url).href,bc=""+new URL("card-14-c62e16f4.svg",import.meta.url).href,Sc=""+new URL("card-15-43e87905.svg",import.meta.url).href,_c=""+new URL("card-16-a2dd5d94.svg",import.meta.url).href,wc=""+new URL("card-2-b97b6118.svg",import.meta.url).href,Dc=""+new URL("card-3-1a3595d9.svg",import.meta.url).href,Oc=""+new URL("card-4-3a4aecaa.svg",import.meta.url).href,Mc=""+new URL("card-5-11927010.svg",import.meta.url).href,Pc=""+new URL("card-6-5c9e9d85.svg",import.meta.url).href,Lc=""+new URL("card-7-78f9b25b.svg",import.meta.url).href,xc=""+new URL("card-8-c471d003.svg",import.meta.url).href,Rc=""+new URL("card-9-e6cda3aa.svg",import.meta.url).href,kc=""+new URL("card-1-2bbf0e2c.svg",import.meta.url).href,$c=""+new URL("card-2-48c67df2.svg",import.meta.url).href,Uc=""+new URL("card-3-0579085d.svg",import.meta.url).href,Vc=""+new URL("card-4-81c0a7a1.svg",import.meta.url).href,Bc=""+new URL("card-5-179b3ff3.svg",import.meta.url).href,zc=""+new URL("card-6-11d5c099.svg",import.meta.url).href,Yc=""+new URL("card-7-2637a56e.svg",import.meta.url).href,Fc=""+new URL("card-8-79983f4e.svg",import.meta.url).href,Gc=""+new URL("card-9-94604c56.svg",import.meta.url).href,Wc=""+new URL("card-1-ed07676c.svg",import.meta.url).href,Hc=""+new URL("card-10-1351304b.svg",import.meta.url).href,qc=""+new URL("card-2-6097ea1f.svg",import.meta.url).href,Kc=""+new URL("card-3-ab4e4bc7.svg",import.meta.url).href,jc=""+new URL("card-4-347dfcf1.svg",import.meta.url).href,Jc=""+new URL("card-5-0ed042c3.svg",import.meta.url).href,Xc=""+new URL("card-6-f89be2a6.svg",import.meta.url).href,Qc=""+new URL("card-7-b2a1a795.svg",import.meta.url).href,Zc=""+new URL("card-8-eb60dc90.svg",import.meta.url).href,ed=""+new URL("card-9-a755581a.svg",import.meta.url).href;const{Text:Vn,Paragraph:fh}=ne,td=Ne,Ti=n=>{const{name:t,createdAt:a,status:s,personName:i,type:l,startDateTime:c,location:r,menuItems:d,onSelect:h}=n,{eventTypes:u}=M.eventStore(),y=td[s],g=Cn==null?void 0:Cn[l==null?void 0:l.toLowerCase()],C=Math.ceil(Math.random()*((g||Cn.others)-1)),p=E.useMemo(()=>new URL(Object.assign({"../../assets/svg/birthday/card-1.svg":vc,"../../assets/svg/birthday/card-10.svg":Ac,"../../assets/svg/birthday/card-11.svg":Cc,"../../assets/svg/birthday/card-12.svg":Nc,"../../assets/svg/birthday/card-13.svg":Ic,"../../assets/svg/birthday/card-14.svg":bc,"../../assets/svg/birthday/card-15.svg":Sc,"../../assets/svg/birthday/card-16.svg":_c,"../../assets/svg/birthday/card-2.svg":wc,"../../assets/svg/birthday/card-3.svg":Dc,"../../assets/svg/birthday/card-4.svg":Oc,"../../assets/svg/birthday/card-5.svg":Mc,"../../assets/svg/birthday/card-6.svg":Pc,"../../assets/svg/birthday/card-7.svg":Lc,"../../assets/svg/birthday/card-8.svg":xc,"../../assets/svg/birthday/card-9.svg":Rc,"../../assets/svg/marriage/card-1.svg":kc,"../../assets/svg/marriage/card-2.svg":$c,"../../assets/svg/marriage/card-3.svg":Uc,"../../assets/svg/marriage/card-4.svg":Vc,"../../assets/svg/marriage/card-5.svg":Bc,"../../assets/svg/marriage/card-6.svg":zc,"../../assets/svg/marriage/card-7.svg":Yc,"../../assets/svg/marriage/card-8.svg":Fc,"../../assets/svg/marriage/card-9.svg":Gc,"../../assets/svg/others/card-1.svg":Wc,"../../assets/svg/others/card-10.svg":Hc,"../../assets/svg/others/card-2.svg":qc,"../../assets/svg/others/card-3.svg":Kc,"../../assets/svg/others/card-4.svg":jc,"../../assets/svg/others/card-5.svg":Jc,"../../assets/svg/others/card-6.svg":Xc,"../../assets/svg/others/card-7.svg":Qc,"../../assets/svg/others/card-8.svg":Zc,"../../assets/svg/others/card-9.svg":ed})[`../../assets/svg/${g?l==null?void 0:l.toLowerCase():"others"}/card-${C}.svg`],self.location),[]),m=u.find(_=>_.value===l);return e(ae,{className:"event-card__container",size:"small",direction:"vertical",children:o($,{className:"other-image",gutter:[8,8],onClick:h,children:[e(v,{span:8,className:"",children:e("img",{loading:"lazy",src:p,width:"100%",alt:"",height:100})}),e(v,{span:16,className:"event-info",children:o(ae,{direction:"vertical",style:{width:"100%"},children:[e(Vn,{strong:!0,className:"font-size-16",children:t}),o($,{className:"event-type",children:[e(v,{span:12,children:e(Vn,{strong:!0,className:"event-type__label",children:m==null?void 0:m.label})}),e(v,{span:10,children:e(Vn,{ellipsis:{tooltip:r},children:r})}),e(v,{span:2,children:e(Xo,{icon:Ps,color:"#183153"})})]}),o($,{gutter:[16,16],children:[e(v,{flex:12,children:e(Vn,{type:"secondary",italic:!0,children:oe(a).format(bt)})}),(xe==null?void 0:xe[y])&&e(v,{flex:12,className:"event-status",children:e(Te,{bordered:!1,color:xe==null?void 0:xe[y],children:y})})]})]})})]})})},fe={ID:"id",NAME:"name",CHANNEL:"channel",TYPE:"type",CREATED_AT:"createdAt",UPDATED_AT:"updatedAt",STATUS:"status",LOCATION:"location",ACTION:"action",START_DATE_TIME:"startDateTime",END_DATE_TIME:"endDateTime"},Yt={ID:"id",NAME:"Name",CHANNEL:"Channel",TYPE:"Type",CREATED_AT:"Creation at",UPDATED_AT:"Updated at",STATUS:"Status",LOCATION:"Location",ACTION:"Action",START_DATE_TIME:"Start date",END_DATE_TIME:"End date"},nd=[fe.ID,fe.NAME,fe.CHANNEL,fe.TYPE,fe.CREATED_AT,fe.UPDATED_AT,fe.STATUS,fe.LOCATION],ad=n=>[{key:fe.NAME,dataIndex:fe.NAME,title:Yt.NAME,sortable:!0,filterable:!0},{key:fe.TYPE,dataIndex:fe.TYPE,title:Yt.TYPE,sortable:!0,filterable:!0,render:t=>e("div",{className:"event-status",children:e(Te,{bordered:!1,color:"processing",children:oa(t==null?void 0:t[fe.TYPE])})}),filterElement:t=>e(He,{value:t.value,options:n,onChange:a=>t.filterApplyCallback(a),placeholder:"Any",className:"p-column-filter",style:{width:"100%"},allowClear:!0,dropdownStyle:{overflow:"auto",minWidth:200}})},{key:fe.STATUS,dataIndex:fe.STATUS,title:Yt.STATUS,render:t=>(Ne==null?void 0:Ne[t==null?void 0:t[fe.STATUS]])&&e("div",{className:"event-status",children:e(Te,{bordered:!1,color:xe==null?void 0:xe[Ne==null?void 0:Ne[t==null?void 0:t[fe.STATUS]]],children:Ne==null?void 0:Ne[t==null?void 0:t[fe.STATUS]]})}),sortable:!0,filterable:!0},{key:fe.LOCATION,dataIndex:fe.LOCATION,title:Yt.LOCATION,sortable:!0,filterable:!0},{key:fe.START_DATE_TIME,dataIndex:fe.START_DATE_TIME,title:Yt.START_DATE_TIME,render:t=>oe(t==null?void 0:t[fe.START_DATE_TIME]).format(bt),sortable:!0,filterable:!0},{key:fe.END_DATE_TIME,dataIndex:fe.END_DATE_TIME,title:Yt.END_DATE_TIME,render:t=>oe(t==null?void 0:t[fe.END_DATE_TIME]).format(bt),sortable:!0,filterable:!0},{key:fe.ACTION,dataIndex:fe.ACTION,title:Yt.ACTION}];const Ao=5e6,od=n=>{const[t,a]=et.useState(0),s=et.useRef(null),[i,l]=Qo.useMessage(),[c,r]=et.useState([]),{onUploadFile:d,uploadUrl:h,accept:u,fileSize:y=Ao}=n,g=G=>{let P=t,x=G.files;for(let J=0;J<x.length;J++)P+=x[J].size||0;a(P)},C=G=>{let P=0;G.files.forEach(x=>{P+=x.size||0}),a(P),console.log({e:G}),r([]),G.xhr.onload=()=>{const x=JSON.parse(G.xhr.responseText);i.open({key:"fileUploadMultiple",type:"success",content:x==null?void 0:x.message,duration:5}),d(x==null?void 0:x.attachments)}},p=(G,P)=>{a(t-G.size),P()},m=()=>{a(0),r([])};return o("div",{className:"upload-drag__container",children:[e(ra,{target:".custom-choose-btn",content:"Choose",position:"bottom"}),e(ra,{target:".custom-upload-btn",content:"Upload",position:"bottom"}),e(ra,{target:".custom-cancel-btn",content:"Clear",position:"bottom"}),e(Ls,{ref:s,name:"file",url:h,multiple:!0,accept:u,maxFileSize:Ao,onUpload:C,onSelect:g,onError:m,onClear:m,headerTemplate:G=>{const{className:P,chooseButton:x,uploadButton:J,cancelButton:k}=G,L=t/1e4,U=s&&s.current?s.current.formatSize(t):"0 B";return o($,{className:P,children:[o(v,{flex:11,children:[x,J,k]}),o(v,{flex:11,className:"uploaded-size",children:[o("span",{children:[U," / 1 MB"]}),e(xs,{value:L,showValue:!1})]})]})},itemTemplate:(G,P)=>{const x=G;return c.includes(x)?o("div",{className:"flex align-items-center flex-wrap",children:[o("div",{className:"flex align-items-center",style:{width:"40%"},children:[e("img",{alt:x.name,role:"presentation",src:x.objectURL,width:100}),o("span",{className:"flex flex-column text-left ml-3",children:[x.name,e("small",{children:new Date().toLocaleDateString()})]})]}),e(Rs,{value:P.formatSize,severity:"warning",className:"px-3 py-2"}),e(ks,{type:"button",icon:e(Wa,{}),className:"p-button-outlined p-button-rounded p-button-danger ml-auto",onClick:()=>p(x,P.onRemove)})]}):null},emptyTemplate:()=>o(ae,{direction:"vertical",style:{textAlign:"center"},children:[e(Ha,{}),e("span",{style:{fontSize:"1.2em",color:"var(--text-color-secondary)"},className:"my-5",children:"Drag and Drop Image Here"})]}),chooseOptions:{icon:e(Ha,{}),iconOnly:!0,className:"custom-choose-btn p-button-rounded p-button-outlined"},uploadOptions:{icon:e(Aa,{}),iconOnly:!0,className:"custom-upload-btn p-button-success p-button-rounded p-button-outlined"},cancelOptions:{icon:e(Wa,{}),iconOnly:!0,className:"custom-cancel-btn p-button-danger p-button-rounded p-button-outlined"}})]})},vi=n=>{const{screen:t}=M.appStore();qe();const{attachments:a,loading:s,handleLoadData:i,isEditable:l,selectedImage:c,onSelectImage:r}=n,d=()=>{s||i()};et.useEffect(()=>{d()},[]);const h=u=>e(_e,{hoverable:!0,style:{margin:"8px"},cover:e(jn,{style:{textAlign:"center"},src:u.url}),onClick:y=>{l&&(r==null||r(!(c!=null&&c.includes(u.id)),u))},children:l&&o($,{gutter:[8,8],children:[e(v,{span:22,children:u.name}),(c==null?void 0:c.includes(u.id))&&e(v,{span:2,children:e(Fo,{checked:!0,onChange:y=>{r==null||r(y.target.checked,u)},style:{position:"relative",top:"4px"}})})]})});return e("div",{id:"scrollableAlbumImageDiv",style:{height:400,overflow:"auto",padding:"0 18px"},children:e($s,{dataLength:a.length,next:d,hasMore:a.length<50,loader:s&&e(La,{avatar:!0,paragraph:{rows:1},active:!0}),endMessage:e(tt,{plain:!0,children:"It is all, nothing more 🤐"}),scrollableTarget:"scrollableAlbumImageDiv",children:e(jn.PreviewGroup,{preview:{onChange:(u,y)=>console.log(`current index: ${u}, prev index: ${y}`)},children:e(Gn,{grid:{gutter:[8,8],column:t==="MOBILE"?2:3},dataSource:a,renderItem:h})})})})},{Text:id}=ne,sd=()=>{const[n,t]=E.useState(!1),[a,s]=E.useState([]),[i,l]=E.useState(!1),[c,r]=E.useState({offset:0,limit:5}),{selectedEvents:d,setEventAlbums:h,eventAlbums:u}=M.eventStore(),{setLoading:y}=M.appStore(),{activePlan:g}=M.userStore();E.useEffect(()=>()=>{h([]),r({offset:0,limit:5})},[]);const C=D=>{y(!0),q.eventManagement.addEventAlbum(d.id,D).then(f=>{y(!1),t(!1),m(!0)}).catch(f=>{y(!1),console.log({location:"addEventAlbum",error:f})})},p=()=>{y(!0),q.eventManagement.deleteEventAlbum(d.id,a).then(D=>{y(!1),s([]),m(!0)}).catch(D=>{y(!1),console.log({location:"deleteEventAlbum",error:D})})},m=D=>{l(!0);const f=D?{limit:5,offset:0}:c;q.eventManagement.getEventAlbum(d.id,f).then(A=>{l(!1),h(D?A:[...u,...A]),r({...c,offset:D?0:c.offset+c.limit})}).catch(A=>{l(!1),console.log({location:"getEventAlbum",error:A})})},_=(D,f)=>{if(D)s([...a,f.id]);else{const A=a.filter(I=>I!==f.id);s(A)}};return o("div",{children:[e(Ye,{open:n,title:"Upload Album",footer:null,width:"100%",onCancel:()=>{t(!1)},children:e(od,{onUploadFile:C,uploadUrl:"/api/v1/app/file/upload-multiple/eventAlbum",accept:"image/*"})}),o(ae,{direction:"vertical",style:{width:"100%"},children:[o("div",{children:[a.length?o(id,{italic:!0,style:{float:"left"},children:[(a==null?void 0:a.length)||0,"'s selected"]}):null,(g==null?void 0:g.albumCount)>u.length&&e(R,{icon:e(Aa,{fontSize:"inherit"}),style:{float:"right"},onClick:()=>{t(!0)},children:"Upload"}),a.length?e(R,{icon:e(Aa,{fontSize:"inherit"}),style:{float:"right",marginRight:"8px"},onClick:p,danger:!0,children:"Delete"}):null]}),e(vi,{loading:i,attachments:u,handleLoadData:m,isEditable:!0,onSelectImage:_,selectedImage:a})]})]})},rd=new URL(""+new URL("vaccum-event-701d1d36.svg",import.meta.url).href,self.location),{Title:ld,Text:cd}=ne,{RangePicker:dd}=aa,Bn=Ne,ud=[{title:"Event",content:"first-content"},{title:"Album",content:"second-content"}],hd=Object.entries(Bn).map(n=>({label:e(Te,{color:xe==null?void 0:xe[n[1]],className:"event-status__tag",children:Bn==null?void 0:Bn[n[0]]}),value:n[0]})),pd=()=>{var ie,Se,ke;const{styles:n}=Xt(),t=Kt(),[a,s]=nt(),{screen:i,setLoading:l,isLoading:c}=M.appStore(),{activePlan:r}=M.userStore(),[d,h]=E.useState(!1),{setDirectoryList:u,directoryList:y,contactList:g}=M.contactStore(),{setTemplates:C,templates:p}=M.templateStore(),{action:m,events:_,filters:D,selectedEvents:f,isListView:A,eventTypes:I,setIsListView:F,setAction:G,setEvents:P,setFilters:x,setSelectedEvents:J}=M.eventStore(),[k]=V.useForm(),[L,U]=et.useState(""),[ee,ce]=et.useState(!1),[j,Z]=et.useState(""),[ue,me]=et.useState(!1),[X,w]=E.useState({}),[b,Q]=E.useState({}),[le,ve]=E.useState(!1),[Ke,Je]=E.useState(1),[Ee,H]=E.useState([]),{height:De}=qe(),Me=V.useWatch("channel",{form:k,preserve:!0}),Ue=V.useWatch("eventType",{form:k,preserve:!0}),st=N=>i==="MOBILE"?{flex:N}:{span:N};E.useEffect(()=>{Ae({channel:Me})},[Me]),E.useEffect(()=>{Ue?Be(Ue,i):H([])},[Ue]),E.useEffect(()=>{const N={status:a.get("status"),type:a.get("type"),fromDate:a.get("fromDate"),toDate:a.get("toDate")};return Ln(a,G,Oe,()=>{de(N)}),()=>{Je(1),J(Ca)}},[a]),E.useEffect(()=>{const N={status:a.get("status"),type:a.get("type"),fromDate:a.get("fromDate"),toDate:a.get("toDate")};x(N)},[]),E.useEffect(()=>(ot(),F(localStorage.getItem(je.EVENT)==="List"),()=>{console.log("unmounting"),x({}),k.resetFields(),G("")}),[]),E.useEffect(()=>{const N=bn.debounce(Ae,1e3);w(B=>(B.cancel&&B.cancel(),N)),N({name:L,type:Ue,approvalStatus:ge.APPROVED})},[L]),E.useEffect(()=>{const N=bn.debounce(ot,1e3);Q(B=>(B.cancel&&B.cancel(),N)),N({name:j==null?void 0:j.trim()})},[j]),E.useEffect(()=>{const N=f,B=il(N);N!=null&&N.startDateTime&&(N!=null&&N.endDateTime)&&(i!=="MOBILE"?B.dateTime=[oe(N==null?void 0:N.startDateTime),oe(N==null?void 0:N.endDateTime)]:(B.startDateTime=oe(N==null?void 0:N.startDateTime).format("YYYY-MM-DDTHH:mm"),B.endDateTime=oe(N==null?void 0:N.endDateTime).format("YYYY-MM-DDTHH:mm"))),k.setFieldsValue(B)},[f]);const Fe=N=>{const{dateTime:B,triggerDateTime:Ce}=N;i!=="MOBILE"?B&&(N.startDateTime=oe(B[0]).format(),N.endDateTime=oe(B[1]).format()):(N.startDateTime=oe(N.startDateTime).format(),N.endDateTime=oe(N.endDateTime).format()),Ce&&(N.triggerDateTime=oe(Ce).format());const Ot={...f,...N,type:Ue};J(Ot),Dt(Ot)},rt={};i==="MOBILE"?rt.flex=8:rt.span=8;const Ve=N=>{h(!1),(!d||N)&&(s({creation:"DONE"}),k.resetFields()),m==="DELETE"&&G("")},lt=N=>{G("DELETE"),J(N)},ct=()=>{m==="ADD"?(s({}),k.resetFields()):s({id:f.id,action:Ie.VIEW})},dt=N=>{s({id:N.id,action:Ie.VIEW})},mt=()=>{const{id:N}=f;se(N)},at=N=>{s({id:N.id,action:Ie.EDIT})},_t=E.useMemo(()=>ad(I).map(N=>(N.key===fe.ACTION?N.render=B=>e(ae,{children:B.isEditable&&e(Hn,{fontSize:"inherit",onClick:()=>{at(B)},style:{color:"rgb(102, 112, 133)",cursor:"pointer"}})}):N.key===fe.NAME&&(N.render=B=>e("div",{style:{cursor:"pointer"},onClick:()=>{dt(B)},children:B.name})),N)),[I,_]),wt=()=>_.length?A?e(St,{columns:_t,data:_,sortKeys:nd}):_==null?void 0:_.map(N=>e(v,{...rt,children:e(Ti,{...N,onSelect:()=>dt(N)})})):e(mn,{onClickAction:()=>{s({action:Ie.ADD})},image:Ei,description:"No events to show",buttonText:(r==null?void 0:r.templateCount)>0?"Create":void 0}),Dt=N=>{m==="ADD"?O(N):m==="EDIT"&&z(N)},gt=N=>{z({...N,id:f.id},!0)},ft=async N=>{const{file:B}=N;console.log({file:B});const{status:Ce,preview:Ot,uid:Oi,id:Mi,name:Pi}=B;if(B.status==="removed"){const Rn=(k.getFieldValue("invitationAttachment")||[]).filter(Li=>Li.id!==Mi);k.setFieldValue("invitationAttachment",Rn)}else B!=null&&B.size&&B.size<5e6?(l(!0),q.commonAPI.uploadFile(B,"invitation").then(xn=>{l(!1);const Rn=k.getFieldValue("invitationAttachment")||[];Rn.push({id:Oi,name:Pi,url:xn}),k.setFieldValue("invitationAttachment",Rn)}).catch(xn=>{l(!1),console.log({location:"handleFileUpload",error:xn})})):console.error("Upload file error",B)},ot=(N={})=>{me(!0),q.contactManagement.getContactDirectory(N).then(B=>{u(B),me(!1)}).catch(B=>{me(!1),console.log({location:"getContactDirectory",error:B})})},Ae=(N={})=>{ce(!0),q.templateManagement.getTemplate(At.ALL,N).then(B=>{C(B),ce(!1)}).catch(B=>{ce(!1),console.log({location:"getTemplates",error:B})})},O=N=>{l(!0),q.eventManagement.createEvent({...N,type:Ue}).then(()=>{Ve(!0),l(!1)}).catch(B=>{l(!1),console.log({location:"createEvent",error:B})})},z=(N,B)=>{l(!0),q.eventManagement.updateEvent(N).then(()=>{l(!1),B?Oe(f.id):Ve(!0)}).catch(Ce=>{l(!1),console.log({location:"updateEvent",error:Ce})})},se=N=>{l(!0),q.eventManagement.deleteEvent(N).then(()=>{l(!1),Ve(!0),de()}).catch(B=>{l(!1),console.log({location:"deleteEvent",error:B})})},de=(N={})=>{l(!0),q.eventManagement.getEvent(N).then(B=>{P(B),l(!1)}).catch(B=>{l(!1),console.log({location:"getEvents",error:B})})},Be=(N,B)=>{l(!0),q.eventManagement.getEventForm(N,B).then(Ce=>{Ce.fields&&H(Ce.fields),l(!1)}).catch(Ce=>{l(!1),console.log({location:"getEventForm",error:Ce})})},Oe=N=>{l(!0),q.eventManagement.getEvent({id:N}).then(B=>{if(l(!1),console.log({reeventscord:B,len:B==null?void 0:B.length}),B!=null&&B.length){const Ce=B==null?void 0:B[0];k.setFieldValue("eventType",Ce.type),console.log({events:B}),J(Ce)}}).catch(B=>{l(!1),console.log({location:"getEvents",error:B})})},ye=(N={})=>{var Ot;const B={...D,...N};(Ot=Object.values(N))!=null&&Ot[0]||delete B[Object.keys(N)[0]];const Ce=Qn(B);x(Ce),s({...Ce})},Ge=(N,B)=>{if(N&&B)return[oe(N,un),oe(B,un)]},We=ud.map((N,B)=>({key:`${B+1}`,label:N.title,title:N.title})),ze={textAlign:"center",color:t.colorTextTertiary,borderRadius:t.borderRadiusLG,marginTop:16},S=N=>{switch(N){case 1:return e(Tc,{contactList:y,templates:p,form:k,formFields:Ee,isTemplateFetching:ee,onSearchTemplate:B=>U(B),onHandleEvent:Fe,isContactFetching:ue,onSearchContact:B=>Z(B),isEdit:m==="EDIT",action:m,getContactDirectory:ot,getTemplates:B=>Ae({...B,type:f.type}),handleFileUpload:ft,handleUpdateEventNotification:gt});case 2:return e(sd,{});default:return e(Y,{})}},W=N=>{Je(N)};return o("div",{className:"event-management__container",children:[o(Ye,{title:e(Y,{children:"Delete Confirmation"}),open:m==="DELETE",onOk:mt,onCancel:()=>Ve(),okText:"Yes",cancelText:"No",okType:"danger",classNames:It(n),styles:pt(),confirmLoading:c,children:[e("img",{loading:"lazy",src:rd,width:"100%",alt:""}),e(cd,{italic:!0,style:{textAlign:"center"},children:"Once deleted it cannot be undo"})]}),(!m||m==="DELETE")&&o(Y,{children:[e($,{wrap:!0,gutter:[8,8],children:e(v,{span:12,children:e(ld,{level:3,children:" Events"})})}),e($,{wrap:!0,gutter:[8,8],className:"upcoming-event__pagination",children:o(v,{span:24,children:[i!=="MOBILE"&&(r==null?void 0:r.eventCount)>0&&e(R,{type:"primary",onClick:()=>{s({action:Ie.ADD})},children:"Create"}),e(R,{type:"text",icon:e(Dn,{count:Object.values(D).filter(N=>N).length,children:e(xa,{fontSize:"inherit"})}),onClick:()=>{ve(!le)},children:"Filter"}),e($t,{style:{margin:"10px"},value:A?"List":"Card",options:[{value:"List",icon:e(jt,{})},{value:"Card",icon:e(Jt,{})}],onChange:N=>{localStorage.setItem(je.EVENT,N.toString()),F(N==="List")}})]})}),le&&o($,{className:"event-management__filters",gutter:[8,8],children:[e(v,{flex:6,children:e(V,{layout:"vertical",children:e(V.Item,{label:"Event",children:e(He,{style:{width:"100%"},allowClear:!0,placeholder:"Select a event",optionFilterProp:"children",options:I,value:D.type,onChange:N=>{ye({type:N})}})})})}),e(v,{flex:6,children:e(V,{layout:"vertical",children:e(V.Item,{label:"Status",children:e(He,{style:{width:"100%"},allowClear:!0,placeholder:"Select a status",optionFilterProp:"children",options:hd,tagRender:({label:N})=>e(Te,{color:xe[N],className:"event-status__tag",children:N}),onChange:N=>{ye({status:N})}})})})}),e(v,{className:"upcoming-event__date-picker",flex:6,children:e(V,{layout:"vertical",children:e(V.Item,{label:"Event date range",children:e(dd,{style:{width:"100%"},value:Ge(D.fromDate,D.toDate),onChange:N=>{if(N)ye({fromDate:oe(N==null?void 0:N[0]),toDate:oe(N==null?void 0:N[1])});else{const B={...D};delete B.fromDate,delete B.toDate;const Ce=Qn(B);x(Ce),s(Ce)}},format:un})})})})]}),e("div",{className:"padding-bottom-8",children:e(Re,{message:r!=null&&r.isActive?(r==null?void 0:r.eventCount)<=0?`According to your plan, you have successfully created all ${(ie=r==null?void 0:r.pricingPlan)==null?void 0:ie.eventCount} events allowed.`:`According to your plan, you have currently created ${((Se=r==null?void 0:r.pricingPlan)==null?void 0:Se.eventCount)-(r==null?void 0:r.eventCount)} out of ${(ke=r==null?void 0:r.pricingPlan)==null?void 0:ke.eventCount} events.`:ka("event"),type:r!=null&&r.isActive?"info":"warning",showIcon:!0,icon:e(Oa,{}),closable:r==null?void 0:r.isActive})}),e($,{gutter:[16,16],children:wt()})]}),m&&m!=="DELETE"&&e($,{gutter:[16,16],className:"header__row sticky-header",children:e(v,{flex:12,children:o($,{className:"header__container",children:[e(v,{...st(4),className:"back-icon__container",children:e(R,{type:"text",onClick:()=>{Ve()},icon:e(ta,{className:"back-icon"}),children:"back"})}),i!=="MOBILE"&&Ke===1&&e(v,{...st(20),children:o(ae,{style:{float:"right"},children:[f.isEditable&&e(R,{type:m==="VIEW"?"primary":"default",onClick:()=>{m==="VIEW"?at(f):ct()},children:m==="VIEW"?"Edit":"Cancel"}),f.isDeleteAllowed&&m==="VIEW"&&e(R,{danger:!0,onClick:()=>{lt(f)},style:{marginLeft:".5rem"},children:"Delete"}),["EDIT","ADD"].includes(m)&&e(R,{type:"primary",onClick:()=>{k.submit()},children:m==="EDIT"?"Save Changes":"Create Event"})]})})]})})}),o("div",{style:{minHeight:De},className:i==="MOBILE"?"creation-form-senderId":"creation-form",children:[m==="ADD"&&!d&&e(V,{layout:"vertical",form:k,children:e(V.Item,{label:"Select Event",name:"eventType",children:e(He,{style:{width:"100%"},allowClear:!0,placeholder:"Select a event",optionFilterProp:"children",options:I})})}),(m==="ADD"||m==="EDIT"||m==="VIEW")&&Ue&&!d&&o(Y,{children:[m==="VIEW"&&e(Mn,{onChange:N=>{W(Number(N))},activeKey:Ke.toString(),type:"card",items:We}),e("div",{style:ze,children:S(Ke)})]})]}),!m&&i==="MOBILE"&&(r==null?void 0:r.eventCount)>0&&e(Pa,{shape:"square",style:{right:24},icon:e(R,{size:"large",type:"primary",onClick:()=>{s({action:Ie.ADD})},icon:e(Us,{fontSize:"inherit"}),children:"Create Event"})}),i==="MOBILE"&&Ke===1&&o(ae,{direction:"vertical",style:{width:"100%"},className:"eazy-event__bottom-fixed-btn",children:[f.isEditable&&e(R,{type:m==="VIEW"?"primary":"default",onClick:()=>{m==="VIEW"?at(f):ct()},children:m==="VIEW"?"Edit":"Cancel"}),f.isDeleteAllowed&&m==="VIEW"&&e(R,{danger:!0,onClick:()=>{lt(f)},style:{marginLeft:".5rem"},children:"Delete"}),["EDIT","ADD"].includes(m)&&o(Y,{children:[e(R,{type:"default",onClick:()=>{Ve()},children:"Cancel"}),e(R,{type:"primary",onClick:()=>{k.submit()},children:m==="EDIT"?"Save Changes":"Create Event"})]})]})]})},md=""+new URL("feedback-banner-e4fa9a29.svg",import.meta.url).href,Co=[{id:1,label:"I was successful in completing what I was trying to do in Eazy Event.*"},{id:2,label:"Eazy Event was easy to use.*"}],{Title:No,Text:gd}=ne,fd={1:e(qa,{}),2:e(qa,{}),3:e(Bs,{}),4:e(Ka,{}),5:e(Ka,{})},yd=()=>{const[n]=V.useForm(),{screen:t,setLoading:a}=M.appStore(),[s,i]=E.useState(!1),l=we(),c=d=>t==="MOBILE"?{flex:d}:{span:d};E.useEffect(()=>(s&&n.resetFields(),()=>{n.resetFields(),i(!1)}),[s]);const r=d=>{const h={comments:d.comments,questions:Co.map(u=>({question:u.label,answer:d[u.id]}))};a(!0),q.commonAPI.submitFeedback(h).then(u=>{a(!1),console.log({response:u}),u.status&&i(!0)}).catch(u=>{a(!1),console.log({location:"handleSubmit",error:u})})};return s?e(wn,{status:"success",title:"Feedback submitted successfully",extra:[e(R,{icon:e(Jn,{fontSize:"inherit"}),type:"primary",onClick:()=>l(`${T.EE}/${T.DASHBOARD}`),children:"Go to Home"})]}):e("div",{children:o($,{gutter:[16,16],children:[e(v,{...c(8),style:{textAlign:"center"},children:e("img",{loading:"lazy",src:md,alt:"",width:"60%"})}),o(v,{...c(16),children:[e(No,{level:3,children:"We value your feedback!"}),e(gd,{children:"Help us make your Eazy Event experience better."}),e(tt,{}),e(No,{level:4,children:"Give app feedback"}),o(V,{layout:"vertical",form:n,style:{maxWidth:600},onFinish:r,children:[Co.map(d=>e(V.Item,{label:d.label,name:d.id,rules:[{required:!0,message:"Please select the option!"}],children:e(Vs,{character:h=>fd[h.index+1]})})),e(V.Item,{label:"Please provide additional feedback.(Optional)",name:"comments",children:e(Nn,{rows:4})}),e(V.Item,{children:e(R,{type:"primary",htmlType:"submit",children:"Submit"})})]})]})]})})};const Ed=""+new URL("contact-management-home-83dd37d5.svg",import.meta.url).href,Td=""+new URL("template-management-home-3a8bf07f.svg",import.meta.url).href,vd=""+new URL("event-home-2fa995c4.svg",import.meta.url).href,Ad=""+new URL("dashboard-home-4c1e9553.svg",import.meta.url).href,Cd=""+new URL("Invitation-home-7883c9fb.svg",import.meta.url).href,Nd=[{image:Ad,moduleName:"Dashboard",title:"Get a quick overview of your event activities with our intuitive and informative dashboard.",text:"Your events, at a glance. The Dashboard offers a visual feast - from a mesmerizing donut chart showcasing your last notification to a calendar highlighting your upcoming events. Be in control, stay in style"},{image:Ed,moduleName:"Contact Management",title:"Contact Management Made Easy",text:"At Eazy Event, we understand the importance of keeping your guest list organized and accessible. Our Contact Management module empowers you to effortlessly manage your event's guest list by providing a user-friendly interface for uploading and organizing your contacts."},{image:Td,moduleName:"Template Management",title:"Template Management for Personalized Messages",text:"Creating heartfelt and impactful event notifications has never been easier. With Eazy Event's Template Management module, you can craft and store message templates for SMS, voice calls, ensuring that your event invitations and updates are not just sent, but are memorable and meaningful."},{image:vd,moduleName:"Event Management",title:"Effortless Event Management & Notification",text:"Bringing your events to life has never been smoother than with Eazy Event's Event Management module. This all-in-one solution empowers you to seamlessly coordinate, schedule, and send event notifications to your contacts via SMS, voice calls."},{image:Cd,moduleName:"Invitations",title:"Your VIP Pass to Unforgettable Moments",text:"All your invitations, one grand entrance. Dive into the My Invitations hub—your gateway to upcoming events, detailed invites, and immersive media experiences. Be a guest at your own celebration!"}],Id=[{label:te.PRICING,link:T.PRICING},{label:te.CONTACT_US,link:T.CONTACT_US},{label:te.PRIVACY_POLICY,link:T.PRIVACY_POLICY},{label:te.TERMS_OF_SERVICE,link:T.TERMS_OF_SERVICE}];const{Title:bd,Text:Io}=ne,Sd=n=>{const{width:t}=qe(),{screen:a}=M.appStore(),{image:s,moduleName:i,title:l,text:c,isOdd:r}=n,[d,h]=Zo({triggerOnce:!1}),u=g=>Sa({opacity:h?1:0,transform:h?"translateX(0)":g===2?"translateX(-50px)":"translateX(50px)",config:{tension:50,friction:10}}),y=g=>a==="MOBILE"?{flex:g}:{span:g};return e("div",{className:"home-how-is-it-works__container",children:o($,{gutter:[64,64],className:"content-row",children:[e(v,{...y(12),order:!r&&a!=="MOBILE"?2:1,className:"how-is-it-works__image",ref:d,children:e(Wn.img,{src:s,loading:"lazy",alt:"",width:a==="MOBILE"?t-100:t/3,style:u(!r&&a!=="MOBILE"?2:1)})}),e(v,{...y(12),order:!r&&a!=="MOBILE"?1:2,children:o(Wn.div,{style:u(!r&&a!=="MOBILE"?2:1),children:[e(Te,{bordered:!1,color:"rgb(18, 183, 106)",children:e(Io,{className:"tag-module",italic:!0,children:i})}),e(bd,{className:"content-title",level:a==="MOBILE"?2:3,children:l}),e(Io,{className:"content-text",children:c})]})})]})})},_d=""+new URL("email-campaign-0f1bf714.svg",import.meta.url).href,wd=""+new URL("mail-bro-0fa3e5ce.svg",import.meta.url).href,{Title:Tn,Text:Dd,Paragraph:bo}=ne,Od=Wn(_e),Ai=()=>{const{screen:n}=M.appStore(),{isAuthorized:t}=M.userStore(),a=we(),[s,i]=Zo({triggerOnce:!1,delay:200}),l=Sa({opacity:i?1:0,transform:i?"translateY(0)":"translateY(-50px)",config:{tension:50,friction:10}}),c=(d,h={})=>n==="MOBILE"?{flex:d,...h}:{span:d},r=()=>{a(T.AUTHORIZER)};return o(Y,{children:[o("div",{style:{minHeight:380},className:"body-content",children:[e(Tn,{className:"headline",level:n==="MOBILE"?2:1,children:"Creating Joyful Events & Notifications"}),e("div",{children:e("img",{loading:"lazy",src:_d,alt:"",width:n==="MOBILE"?"50%":"25%"})}),e(R,{type:"primary",onClick:r,children:"Get Started"}),e(Tn,{level:n==="MOBILE"?4:3,className:"sub-heading",children:"Make every event memorable with our voice call, SMS and whatsapp notification service."})]}),o("div",{className:"how-is-it-works",style:{padding:n==="MOBILE"?"2rem 2rem":"2rem 6rem"},children:[o(_e,{style:{textAlign:"center"},hoverable:!0,children:[e(Tn,{level:n==="MOBILE"?3:2,children:"Unleash the Power of Celebration"}),e(bo,{className:"notes",children:"Transform your vision into reality with our event creation tool. From dreamy weddings to joyful birthdays, design unforgettable moments effortlessly. Set dates, manage contacts, and craft stunning albums—all in one place!"})]}),Nd.map((d,h)=>et.createElement(Sd,{...d,isOdd:(h+1)%2!==0,key:d.text}))]}),e("div",{className:"cta-outer-row",ref:s,children:e(Od,{style:{...l},children:o($,{className:"cta-inner-row",gutter:[0,8],children:[o(v,{...c(16,{order:2}),children:[e(Tn,{level:n==="MOBILE"?3:2,className:"content-title",style:{paddingLeft:n==="MOBILE"?0:" 2rem"},children:"Sign up today and experience the power of seamless event management and communication with Eazy Event."}),e(Dd,{className:"content-title font-size-16",style:{paddingLeft:n==="MOBILE"?0:" 2rem"},italic:!0,children:"Elevate your events, engage your guests, and create unforgettable moments!"})]}),e(v,{...c(4,{order:1}),children:e("div",{style:{textAlign:"center"},children:e("img",{loading:"lazy",src:wd,alt:"",width:"100%"})})}),!t&&e(v,{...c(4,{order:3}),className:"content-btn",style:n!=="MOBILE"?{position:"relative",top:"50px"}:{},children:e(R,{type:"primary",onClick:r,children:"Get Started"})})]})})}),e($,{style:{textAlign:"center",padding:"0px 24px"},children:o(ae,{direction:"vertical",style:{width:"100%"},children:[e(Tn,{style:{color:"rgb(18, 183, 106)"},children:"Do you have a special case?"}),e(bo,{style:{fontSize:"1rem",color:"rgb(102, 112, 133)"},children:"Let’s talk about your specific requirements and see how we can help you."}),e(R,{type:"primary",onClick:()=>{a(T.CONTACT_US)},children:"Contact us"})]})})]})};const Md=""+new URL("no-invitations-2f90369f.svg",import.meta.url).href,{Text:So,Link:Pd}=ne,Ld=n=>{const{name:t,type:a,startDateTime:s,endDateTime:i,location:l,invitationAttachment:c,locationUrl:r,invitedByInfo:d,brideName:h,groomName:u,personName:y}=n,{screen:g}=M.appStore(),{eventTypes:C}=M.eventStore(),p=f=>g==="MOBILE"?{flex:f}:{span:f},m=new Date(s).toLocaleString(),_=new Date(i).toLocaleString(),D=C.find(f=>f.value===a);return e(_e,{title:a==="MARRIAGE"?`${u} & ${h}`:y,extra:e(Te,{bordered:!1,color:"processing",children:(D==null?void 0:D.label)||a}),children:o(ae,{direction:"vertical",size:"middle",style:{width:"100%",textAlign:"start"},children:[e(vn,{name:"Event Name",value:e(Y,{children:t})}),e(vn,{name:"Event Date",value:o(Y,{children:[e(zs,{fontSize:"small",style:{position:"relative",top:"4px"}})," ",m," - ",_]})}),e(vn,{name:"Event location",value:o(Y,{children:[e(Ys,{fontSize:"small",style:{position:"relative",top:"4px"}})," ",l]})}),r&&e(vn,{name:"Google location",value:o(Y,{children:[e(Ho,{fontSize:"small",style:{position:"relative",top:"4px"}})," ",e(Pd,{target:"_blank",href:r,children:"Click here"})]})}),e(vn,{name:"Invited by",value:o(Y,{children:[e($o,{fontSize:"small",style:{position:"relative",top:"4px"}})," ",d==null?void 0:d.firstName," ",d==null?void 0:d.lastName," (",d==null?void 0:d.mobile,")"]})}),c&&e($,{children:c.map(f=>e(v,{...p((c==null?void 0:c.length)===1?24:12),children:_n(f.url)?e(mi,{url:f.url}):e("img",{loading:"lazy",alt:"example",style:{width:"100%"},src:f==null?void 0:f.url})}))})]})})},vn=n=>{const{name:t,value:a}=n,{screen:s}=M.appStore(),i=l=>s==="MOBILE"?{flex:l}:{span:l};return o(Y,{children:[o($,{children:[e(v,{...i(8),children:e(So,{strong:!0,style:{fontSize:"16px"},children:t})}),e(v,{...i(16),children:e(So,{italic:!0,children:a})})]}),e(tt,{})]})},be={ID:"id",NAME:"name",CHANNEL:"channel",TYPE:"type",CREATED_AT:"createdAt",UPDATED_AT:"updatedAt",INVITED_BY:"invitedByInfo",LOCATION:"location",START_DATE_TIME:"startDateTime",END_DATE_TIME:"endDateTime"},ln={ID:"id",NAME:"Name",CHANNEL:"Channel",TYPE:"Type",CREATED_AT:"Creation at",UPDATED_AT:"Updated at",INVITED_BY:"Invited By",LOCATION:"Location",START_DATE_TIME:"Start date",END_DATE_TIME:"End date"},xd=[be.ID,be.NAME,be.CHANNEL,be.TYPE,be.CREATED_AT,be.UPDATED_AT,be.INVITED_BY,be.LOCATION],Rd=n=>[{key:be.NAME,dataIndex:be.NAME,title:ln.NAME,sortable:!0,filterable:!0},{key:be.TYPE,dataIndex:be.TYPE,title:ln.TYPE,render:t=>e("div",{className:"event-status",children:e(Te,{bordered:!1,color:"processing",children:oa(t==null?void 0:t[be.TYPE])})}),filterElement:t=>e(He,{value:t.value,options:n,onChange:a=>t.filterApplyCallback(a),placeholder:"Any",className:"p-column-filter",style:{width:"100%"},allowClear:!0,dropdownStyle:{overflow:"auto",minWidth:200}}),sortable:!0,filterable:!0},{key:be.INVITED_BY,dataIndex:be.INVITED_BY,title:ln.INVITED_BY,render:t=>{var a,s;return`${((a=t==null?void 0:t.invitedByInfo)==null?void 0:a.firstName)||""} ${((s=t==null?void 0:t.invitedByInfo)==null?void 0:s.lastName)||""}`},sortable:!0,filterable:!0},{key:be.LOCATION,dataIndex:be.LOCATION,title:ln.LOCATION,sortable:!0,filterable:!0},{key:be.START_DATE_TIME,dataIndex:be.START_DATE_TIME,title:ln.START_DATE_TIME,render:t=>oe(t==null?void 0:t[be.START_DATE_TIME]).format(bt),sortable:!0,filterable:!0},{key:be.END_DATE_TIME,dataIndex:be.END_DATE_TIME,title:ln.END_DATE_TIME,render:t=>oe(t==null?void 0:t[be.END_DATE_TIME]).format(bt),sortable:!0,filterable:!0}],kd=n=>{const{isEnabled:t}=n,[a,s]=E.useState(!1),[i,l]=E.useState({offset:0,limit:5}),{selectedInvitation:c,setEventAlbums:r,eventAlbums:d}=M.eventStore();return M.appStore(),E.useEffect(()=>()=>{r([]),l({offset:0,limit:5})},[]),e("div",{children:e(ae,{direction:"vertical",style:{width:"100%"},children:t?e(vi,{loading:a,attachments:d,handleLoadData:u=>{s(!0),q.eventManagement.getEventInvitationAlbum(c.id,i).then(y=>{s(!1),r(u?y:[...d,...y]),l({...i,offset:u?0:i.offset+i.limit})}).catch(y=>{s(!1),console.log({location:"getEventAlbum",error:y})})}}):e(hn,{description:o("div",{children:[e("p",{children:"Album has been deactivated by the event organizer."}),e("p",{children:"Kindly request the event organizer to enable event album."})]})})})})},{Title:$d,Text:Ud}=ne,{RangePicker:Vd}=aa,Bd=[{title:"Invitation",content:"first-content"},{title:"Video",content:"second-content"},{title:"Album",content:"third-content"}],zd=()=>{const[n,t]=nt(),{screen:a,setLoading:s}=M.appStore(),{user:i}=M.userStore(),[l,c]=E.useState(!1),{action:r,events:d,filters:h,selectedInvitation:u,myInvitations:y,isListView:g,eventTypes:C,setIsListView:p,setAction:m,setFilters:_,setSelectedInvitation:D,setMyInvitations:f}=M.eventStore(),[A]=V.useForm(),{token:I}=On.useToken(),[F,G]=E.useState(!1),[P,x]=E.useState(1),J=b=>a==="MOBILE"?{flex:b}:{span:b};E.useEffect(()=>{const b={status:n.get("status"),type:n.get("type"),fromDate:n.get("fromDate"),toDate:n.get("toDate")};return Ln(n,m,Q=>{ce(D,{id:Q})},()=>{ce(f,b)}),()=>{x(1)}},[n]),E.useEffect(()=>{p(localStorage.getItem(je.MY_INVITATION)==="List");const b={status:n.get("status"),type:n.get("type"),fromDate:n.get("fromDate"),toDate:n.get("toDate")};_(b)},[]);const k=b=>{c(!1),(!l||b)&&t({}),r==="DELETE"&&m(""),A.resetFields()},L=b=>{t({id:b.id,action:Ie.VIEW})},U=E.useMemo(()=>Rd(C).map(b=>(b.key===be.NAME&&(b.render=Q=>e(Ud,{style:{cursor:"pointer"},onClick:()=>{L(Q)},children:Q.name})),b)),[C,y]),ee=()=>y.length?g?e(St,{columns:U,data:y,sortKeys:xd}):y.map(b=>e(v,{...J(8),children:e(Ti,{...b,onSelect:()=>L(b)})})):e(mn,{image:Md,description:i.isMobileVerified?"No invitation to show":"Click on the banner above to verify your account and access the invitation."}),ce=(b,Q={})=>{s(!0),q.eventManagement.getMyInvitation(Q).then(le=>{b(le),s(!1)}).catch(le=>{s(!1),console.log({location:"getMyInvitation",error:le})})},j=(b={})=>{var ve;const Q={...h,...b};(ve=Object.values(b))!=null&&ve[0]||delete Q[Object.keys(b)[0]];const le=Qn(Q);_(le),t({...le})},Z=(b,Q)=>{if(b&&Q)return[oe(b,un),oe(Q,un)]},ue={textAlign:"center",color:I.colorTextTertiary,borderRadius:I.borderRadiusLG,marginTop:16},me=Bd.map((b,Q)=>({key:`${Q+1}`,label:b.title,title:b.title})).filter(b=>!(b.title==="Video"&&!u.isVideoEnable||b.title==="Album"&&!u.isAlbumEnable)),X=b=>{switch(b){case 1:return e(Ld,{...u});case 2:return e(yi,{url:u.videoUrl,isVideoEnable:u.isVideoEnable});case 3:return e(kd,{isEnabled:u.isAlbumEnable});default:return e(Y,{})}},w=b=>{x(b)};return o("div",{className:"my-invitation__container",children:[(!r||r==="DELETE")&&o(Y,{children:[e($,{wrap:!0,gutter:[8,8],children:e(v,{span:12,children:e($d,{level:3,children:" My Invitation"})})}),e($,{wrap:!0,gutter:[8,8],children:o(v,{span:24,className:"upcoming-event__pagination",children:[e(R,{type:"text",icon:e(Dn,{count:Object.values(h).filter(b=>b).length,children:e(xa,{fontSize:"inherit"})}),onClick:()=>{G(!F)},children:"Filter"}),e($t,{style:{margin:"10px"},value:g?"List":"Card",options:[{value:"List",icon:e(jt,{})},{value:"Card",icon:e(Jt,{})}],onChange:b=>{localStorage.setItem(je.MY_INVITATION,b.toString()),p(b==="List")}})]})}),F&&o($,{className:"my-invitation__filters",gutter:[8,8],children:[e(v,{...J(12),children:e(V,{layout:"vertical",children:e(V.Item,{label:"Event",children:e(He,{style:{width:"100%"},allowClear:!0,placeholder:"Select a event",optionFilterProp:"children",options:C,value:h.type,onChange:b=>{j({type:b})}})})})}),e(v,{className:"upcoming-event__date-picker",...J(12),children:e(V,{layout:"vertical",children:e(V.Item,{label:"Event date range",children:e(Vd,{style:{width:"100%"},value:Z(h.fromDate,h.toDate),onChange:b=>{if(b)j({fromDate:oe(b==null?void 0:b[0]),toDate:oe(b==null?void 0:b[1])});else{const Q={...h};delete Q.fromDate,delete Q.toDate;const le=Qn(Q);_(le),t(le)}},format:un})})})})]}),e($,{gutter:[16,16],children:ee()})]}),r==="VIEW"&&e($,{gutter:[16,16],className:"header__row sticky-header",children:e(v,{flex:12,children:e($,{className:"header__container",children:e(v,{...J(4),className:"back-icon__container",children:e(R,{type:"text",onClick:()=>{k()},icon:e(ta,{className:"back-icon"}),children:"back"})})})})}),r==="VIEW"&&o(Y,{children:[e(Mn,{onChange:b=>{w(Number(b))},activeKey:P.toString(),type:"card",items:me}),e("div",{style:ue,children:X(P)})]})]})},Ci=""+new URL("user-75543c16.png",import.meta.url).href;const{Paragraph:_o}=ne,Yd=n=>{var m,_,D,f,A,I,F;const[t,a]=E.useState(!1),{createdAt:s,expiryAt:i,updatedAt:l,metaData:c,isCurrent:r,onLogout:d}=n,{screen:h}=M.appStore(),u=h==="MOBILE"?"32px":"40px",y=G=>{a(G)},g=()=>{a(!1)},C=()=>{d==null||d(),g()};let p={};try{p=JSON.parse(c)}catch(G){console.log({error:G})}return e("div",{children:o($,{children:[e(v,{span:3,children:((m=p==null?void 0:p.device)==null?void 0:m.type)==="mobile"?e(Fs,{style:{fontSize:u,color:"rgb(102, 112, 133)"}}):e(Gs,{style:{fontSize:u,color:"rgb(102, 112, 133)"}})}),o(v,{span:15,children:[o(_o,{children:[((_=p==null?void 0:p.device)==null?void 0:_.vendor)||""," ",(D=p==null?void 0:p.device)!=null&&D.model?`(${(f=p==null?void 0:p.device)==null?void 0:f.model})`:""," ",((A=p==null?void 0:p.browser)==null?void 0:A.name)||""," ",(I=p==null?void 0:p.browser)!=null&&I.version?`(${(F=p==null?void 0:p.browser)==null?void 0:F.version})`:""]}),o(_o,{italic:!0,style:{color:"rgba(0, 0, 0, 0.45)"},children:["Last logged in - ",oe(l).format("ddd, MMM D, YYYY h:mm A")," ",r&&"(Current User)"]})]}),e(v,{children:e(ea,{content:o(Y,{children:[e(R,{type:"link",onClick:C,children:"Yes"})," ",e(R,{type:"text",onClick:g,children:"No"})]}),title:"Logout",trigger:"click",open:t,onOpenChange:y,children:e(R,{type:"text",children:"Logout"})})})]})})},{Text:ht,Title:Lt}=ne,Ni=n=>{const{userInfo:t,action:a,title:s}=n,{setIsAuthorized:i,sessions:l,setSession:c,setIsVerificationOpen:r}=M.userStore(),{screen:d}=M.appStore();let h={};return d==="DESKTOP"&&(h={margin:"2% 20%"}),e("div",{children:e(_e,{style:h,actions:a,children:e(_e.Meta,{title:s,description:o("div",{children:[e(tt,{}),e(jn,{width:96,src:t.picture||Ci,rootClassName:"user-icon"}),o("p",{children:[e(Lt,{level:5,children:"Full name"}),e(ht,{italic:!0,children:`${t.firstName||""} ${t.lastName||"NA"}`})]}),o("p",{children:[e(Lt,{level:5,children:"State"}),e(ht,{italic:!0,children:t.state||"NA"})]}),o("p",{children:[e(Lt,{level:5,children:"Email Address"}),o(ae,{children:[e(ht,{italic:!0,children:t.email||"NA"}),t.email&&e(Te,{icon:t.isEmailVerified?e(ja,{}):e(Ja,{}),color:t.isEmailVerified?"success":"error",children:t.isEmailVerified?"Verified":"Not verified"})]})]}),o("p",{children:[e(Lt,{level:5,children:"Mobile Number"}),o(ae,{children:[e(ht,{italic:!0,children:t.mobile||"NA"}),t.mobile?e(Te,{icon:t.isMobileVerified?e(ja,{}):e(Ja,{}),color:t.isMobileVerified?"success":"error",children:t.isMobileVerified?"Verified":"Not verified"}):null]}),t.isMobileVerified?null:o("p",{children:[e(ht,{className:"link-text",onClick:()=>r(!0),children:"Click here"}),o(ht,{children:[" ","to verify the mobile to start sending yourself and more."]})]})]}),o("p",{children:[e(Lt,{level:5,children:"District"}),e(ht,{italic:!0,children:t.district||"NA"})]}),o("p",{children:[e(Lt,{level:5,children:"Pincode"}),e(ht,{italic:!0,children:t.pinCode||"NA"})]}),o("p",{children:[e(Lt,{level:5,children:"State"}),e(ht,{italic:!0,children:t.state||"NA"})]}),o("p",{children:[e(Lt,{level:5,children:"Gender"}),e(ht,{italic:!0,children:t.gender||"NA"})]})]})})})})},{Title:wo,Text:yh}=ne,Fd=()=>{const{setLoading:n,screen:t}=M.appStore(),{setIsAuthorized:a,sessions:s,setSession:i,user:l,setUser:c,setIsVerificationOpen:r}=M.userStore(),[d]=V.useForm(),[h,u]=E.useState(!1),[y,g]=E.useState(!1),C=we(),[p,m]=E.useState([]),[_,D]=E.useState(!1),[f,A]=E.useState([]);E.useEffect(()=>{G(),P()},[]),E.useEffect(()=>{console.log({user:l}),d.setFieldsValue({...l,mobile:(l==null?void 0:l.mobile)||"",pinCode:l.pinCode||""})},[l]),E.useEffect(()=>{var j;h&&U((j=l==null?void 0:l.pinCode)==null?void 0:j.toString())},[h]);const I=()=>{g(!1)},F=j=>{g(j)},G=()=>{n(!0),q.userManagement.getUserInfo().then(j=>{n(!1),c(j)}).catch(j=>{n(!1),console.log({location:"getuser",error:j})})},P=()=>{n(!0),q.userManagement.getUserSession().then(j=>{n(!1),i(j)}).catch(j=>{n(!1),console.log({location:"getUserSession",error:j})})},x=j=>{n(!0),q.userManagement.deleteUserSession(j).then(Z=>{n(!1),P()}).catch(Z=>{n(!1),console.log({location:"getuser",error:Z})})},J=()=>{n(!0),q.userManagement.logout().then(j=>{n(!1),g(!1),a(!1),C(T.HOME)}).catch(j=>{n(!1),console.log({location:"logout",error:j})})},k=j=>{n(!0),q.userManagement.updateUserInfo(j).then(Z=>{n(!1),u(!h),G()}).catch(Z=>{n(!1),console.log({location:"updateuser",error:Z})})},L=j=>{(j==null?void 0:j.length)>=6&&U(j)},U=j=>{D(!0),q.commonAPI.getDataByPinCode(j).then(Z=>{D(!1),m(Z),A(Z.map(ue=>({label:ue.officename,value:ue.officename})))}).catch(Z=>{D(!1),console.log({location:"getDataByPinCode",error:Z})})},ee=j=>{const Z=p.find(ue=>ue.officename===j);Z?d.setFieldsValue({state:Z.statename,district:Z.districtname,pinCode:Z.pincode||"",postOffice:Z.officename}):d.resetFields(["state","district","pinCode","postOffice"])};let ce={};return t==="DESKTOP"&&(ce={margin:"2% 20%"}),console.log({form:d.getFieldsValue()}),e(Y,{children:h?o("div",{className:"my-profile__container",style:ce,children:[e(jn,{width:96,src:l.picture||Ci,rootClassName:"user-icon"}),o(V,{layout:"vertical",form:d,name:"profile",scrollToFirstError:!0,onFinish:k,children:[e(V.Item,{label:"Email address",name:"email",rules:[{required:!1,message:"Please input your email address!"}],children:e(pe,{type:"email",placeholder:"Your email address",suffix:l.isEmailVerified?e(Xa,{fontSize:"inherit",style:{color:"rgb(18, 183, 106)"}}):e(Qa,{fontSize:"inherit",style:{color:"rgb(247, 144, 9)"}}),disabled:l.isEmailVerified})}),e(V.Item,{label:"Mobile Number",name:"mobile",rules:[{len:10,min:10,max:10,message:"Enter valid mobile number"},{required:!0,message:"Please input your mobile number!"}],children:e(pe,{name:"mobile",placeholder:"Mobile number",suffix:l.isMobileVerified?e(Xa,{fontSize:"inherit",style:{color:"rgb(18, 183, 106)"}}):e(Qa,{fontSize:"inherit",style:{color:"rgb(247, 144, 9)"}})})}),e(V.Item,{label:"First Name",name:"firstName",rules:[{required:!1,message:"Please input your first name!"}],children:e(pe,{placeholder:"Enter your first name"})}),e(V.Item,{label:"Last Name",name:"lastName",rules:[{required:!1,message:"Please input your last name!"}],children:e(pe,{placeholder:"Enter your last name"})}),e(V.Item,{label:"Gender",name:"gender",rules:[{required:!1,message:"Please choose gender!"}],children:o(Gt.Group,{children:[e(Gt.Button,{value:"M",children:"Male"}),e(Gt.Button,{value:"F",children:"Female"}),e(Gt.Button,{value:"NA",children:"Not preferred"})]})}),e(V.Item,{label:"Postal office (eg: 600001)",name:"postOffice",rules:[{required:!1,message:"Please input your pincode!"}],children:e(He,{placeholder:"Your pincode (eg: 600001)",allowClear:!0,showSearch:!0,options:f,loading:_,onSearch:L,filterOption:!1,onSelect:ee})}),e(V.Item,{label:"Pincode",name:"pinCode",rules:[{required:!1,message:"Please input your pincode!"}],children:e(pe,{placeholder:"Your pincode",disabled:!0})}),e(V.Item,{label:"District",name:"district",rules:[{required:!1,message:"Please input your district!"}],children:e(pe,{placeholder:"Your district",disabled:!0})}),e(V.Item,{label:"State",name:"state",rules:[{required:!1,message:"Please select your state!"}],children:e(pe,{placeholder:"Your state",disabled:!0})}),o(V.Item,{children:[e(R,{type:"primary",htmlType:"submit",children:"Save changes"}),e(R,{type:"default",onClick:()=>{u(!h)},style:{marginLeft:"12px"},children:"Cancel"})]})]})]}):o("div",{className:"my-profile__container",children:[e(Ni,{userInfo:l,title:e(wo,{level:3,children:"Personal Information"}),action:[e(R,{type:"text",onClick:()=>{u(!h)},icon:e(Ws,{fontSize:"inherit"},"edit"),children:"Edit"}),e(ea,{content:o(Y,{children:[e(R,{type:"link",onClick:J,children:"Yes"})," ",e(R,{type:"text",onClick:I,children:"No"})]}),title:"Logout",trigger:"click",open:y,onOpenChange:F,children:e(R,{type:"text",icon:e(Uo,{fontSize:"inherit"}),children:"Logout"})})]}),e(_e,{style:ce,children:e(_e.Meta,{title:e(wo,{level:3,children:"User Session's"}),description:o("div",{children:[e(tt,{}),s.map(j=>e(Yd,{...j,onLogout:()=>{x(j.sessionId)}}))]})})})]})})};const Do=n=>{const{screen:t}=M.appStore(),a=we(),{actualCost:s,contactDirCount:i,contactsCount:l,eventCount:c,notificationsCount:r,planName:d,templatesCount:h,discountCost:u,isActive:y,isBuy:g,onBuy:C}=n;return e("span",{className:"pricing__card",children:e("div",{className:"pricing-page",style:{padding:t!=="MOBILE"?"40px":"15px"},children:e(Dn.Ribbon,{text:"Active Plan",style:y?{}:{visibility:"hidden"},children:o("div",{className:`pricing-plan ${y?"active-plan":""}`,children:[e("h2",{className:"pricing-plan-title",children:d}),o("p",{className:"pricing-plan-price",children:[u&&o(ae,{direction:"vertical",children:[o("span",{className:"original-price",children:["₹",s]}),o("span",{children:["₹",u]})]}),!u&&o("span",{children:[" ₹",s]})]}),o("ul",{className:"pricing-plan-features",children:[o("li",{children:["Create ",e("strong",{children:c})," events"]}),o("li",{children:["Organize with ",o("strong",{children:[i," directories"]})]}),o("li",{children:["Up to",o("strong",{children:[" ",l," contacts "]})," on each directories"]}),o("li",{children:["Create upto ",o("strong",{children:[h," "]}),"custom voice templates"]}),o("li",{children:["Fire off"," ",o("strong",{children:["up to ",r," notifications"]})]})]}),g&&e($,{children:e(v,{span:24,children:e("div",{children:e(R,{type:"primary",size:"large",onClick:C,children:"Buy plan"})})})}),y&&e($,{style:{paddingTop:"20px"},children:e(v,{span:24,children:e(R,{type:"link",onClick:()=>{a(`${T.EE}/${T.MY_PLAN_DETAILS}`)},icon:e(Jn,{fontSize:"inherit"}),children:e("span",{children:"View plan info"})})})})]})})})})},{Text:ma,Title:ga,Paragraph:Eh,Link:Gd}=ne,Wd=new URL(""+new URL("E-Wallet-pana-ccf0c84c.svg",import.meta.url).href,self.location),Ii=n=>{const{isPricingPage:t}=n,{styles:a}=Xt();Kt();const{screen:s,setLoading:i,isLoading:l}=M.appStore(),{activePlan:c}=M.userStore(),[r,d]=E.useState(),[h,u]=et.useState([]);we(),E.useEffect(()=>{g()},[]);const y=m=>s==="MOBILE"?{flex:m}:{span:m},g=()=>{i(!0),q.commonAPI.getPricingPlans().then(m=>{if(i(!1),t)u(m);else{const _=[],D=m.filter(A=>A.id!==(c==null?void 0:c.planId)&&A.type!=="FREE"),f=m.find(A=>A.id===(c==null?void 0:c.planId));console.log({_activePlan:f,data:m,plan:D}),f&&_.push(f),_.push(...D),console.log({_plan:_}),u(_)}}).catch(m=>{i(!1),console.log({location:"getPlans",error:m})})},C=()=>{const m=r==null?void 0:r.id;i(!0),q.paymentAPI.buyPlanPayment(m).then(_=>{i(!1);const{status:D,url:f}=_;D&&(p(),window.location.href=f)}).catch(_=>{i(!1),p(),console.log({location:"buyPlanPayment",error:_})})},p=()=>{d(void 0)};return o("div",{className:"pricing__container",children:[o(Ye,{title:e(Y,{children:"Purchase plan"}),open:!!(r!=null&&r.id),onOk:C,onCancel:()=>p(),okText:"Pay",cancelText:"Cancel",okType:"primary",classNames:It(a),styles:pt(),confirmLoading:l,children:[e("img",{loading:"lazy",src:Wd,width:"50%",alt:""}),e(Do,{isActive:!1,actualCost:r==null?void 0:r.price,contactDirCount:r==null?void 0:r.contactDirectoryCount,contactsCount:r==null?void 0:r.contactCount,eventCount:r==null?void 0:r.eventCount,notificationsCount:r==null?void 0:r.notificationCredit,planName:r==null?void 0:r.type,templatesCount:r==null?void 0:r.templateCount,discountCost:r==null?void 0:r.discountPrice,isBuy:!1}),e(ma,{italic:!0,style:{textAlign:"center"},children:"Once you click 'Pay,' you will be redirected to the PhonePe page to complete your payment."})]}),e(ga,{level:3,className:t?"pricing-title":"",children:"Pricing Plans"}),e(Re,{type:"info",message:e(ga,{level:5,children:"Are the following plans not suitable for your case?"}),description:o(ma,{italic:!0,children:["If you're seeking a customized plan, please contact us at"," ",e(Gd,{href:"mailto:admin@eazy-event.com?subject=Custom%20Plan%20&body=Hi%20Team,%0D%0A%0D%0AI%20am%20interested%20in%20a%20customized%20plan%20for%20my%20event.%20Please%20find%20the%20below%20requirement%0D%0AAlbum%20Count%20-%20%0D%0AEvent%20Count%20-%20%0D%0AContact%20Directory%20-%20%0D%0AContact%20Count%20(each%20directory)%20-%20%0D%0ATemplate%20Count%20-%20%0D%0ANotification%20Credit%20-%20%0D%0A%0D%0AThanks.",children:"Eazy Event"})," ","and fill the required values and send it ."]})}),!t&&!(c!=null&&c.planId)&&o(Y,{children:[e("br",{}),e(Re,{type:"error",message:e(ga,{level:5,children:"No active plan"}),description:e(ma,{italic:!0,children:"You don't have an active plan. Please choose from the plans below to start enjoying our services."})})]}),e($,{gutter:[16,16],children:h.map(m=>e(v,{...y(8),children:e(Do,{isActive:m.id===(c==null?void 0:c.planId),actualCost:m.price,contactDirCount:m.contactDirectoryCount,contactsCount:m.contactCount,eventCount:m.eventCount,notificationsCount:m.notificationCredit,planName:m.name,templatesCount:m.templateCount,discountCost:m.discountPrice,isBuy:m.type!=="FREE",onBuy:()=>{d(m)}})}))})]})},Hd=[{section:"Collection of Information",content:[{title:"Personal Information Collection",description:"We collect personal information like your name, email address, phone number, and event-related details when you sign up for Eazy Event services, use our services, or interact with the Application."},{title:"Non-Personal Information Collection",description:"We also gather non-personal information about you whenever you use the Application. This may include technical details such as your device type, operating system, browser type, and usage data."}]},{section:"Use of Information",content:[{title:"Use of Personal Information",description:"Eazy Event uses your personal information to provide event management and notification services, personalize your user experience, improve our services and customer support, and to send periodic emails or notifications related to your use of the Application."},{title:"Use of Non-Personal Information",description:"We use non-personal information for analytical and statistical purposes, to troubleshoot technical issues, and to enhance the performance of the Application."}]},{section:"Data Security and Sharing",content:[{title:"Data Security Measures",description:"Eazy Event applies encryption technology and establishes suitable data collection, storage, and processing practices, as well as security measures to protect against unauthorized access, alteration, disclosure, or destruction of your personal information, username, password, transaction information, and data stored in the Application."},{title:"Sharing of Information",description:"Eazy Event will not share, sell, trade, or rent your personal information to third parties without your consent unless required by law, to enforce our terms and conditions, or to protect our rights, privacy, safety, or property. We may share generic aggregated demographic information not linked to any personal information regarding visitors and users with our business partners and trusted affiliates."}]},{section:"Access and Modification",content:[{title:"Access and Modification of Information",description:"You have the right to access, modify, and delete your personal information stored by Eazy Event. However, this may prevent you from using certain features of the Application."}]},{section:"Changes to Privacy Policy",content:[{title:"Changes to Privacy Policy",description:"Eazy Event may update this privacy policy from time to time to ensure that it complies with current legal requirements or to implement changes to our services. We will notify you of any significant changes. Your continued use of the Application following changes to this privacy policy will constitute your acceptance of those changes."}]}];const{Title:qd,Paragraph:Oo,Text:Kd}=ne,jd=()=>{const{screen:n}=M.appStore();return o("div",{className:"privacy-policy",style:{padding:n==="MOBILE"?"0px 2rem":"0px 20rem"},children:[e(qd,{level:2,children:"Privacy Policy"}),o(Oo,{className:"policy-paragraph",children:["Respecting your privacy and protecting it is our commitment.",e("br",{}),"When using Eazy Event, you consent to the practices detailed in this privacy policy."]}),Hd.map((t,a)=>o(Oo,{children:[e("br",{}),o("strong",{className:"policy-title",children:[a+1,". ",t.section]}),t.content.map((s,i)=>o("p",{className:"policy-paragraph",children:[a+1,".",i+1,". ",o("strong",{children:[s.title,":"]})," ",s.description]},i))]},a)),e("br",{}),e("strong",{className:"policy-title",children:"Modification of this Privacy"}),e("br",{}),e("p",{className:"policy-paragraph",children:"Policy We reserve the right to change this Privacy Policy from time to time to ensure that it complies with current legal requirements or to implement changes to our services in the Privacy Policy, such as when introducing new services. Your new visit will be subject to the new privacy policy."}),o("p",{className:"policy-paragraph",children:["Last Updated: ",e(Kd,{italic:!0,children:"10th May, 2024"})]})]})},Jd=""+new URL("bug-banner-c153fddd.svg",import.meta.url).href,Xd=[te.CONTACT_MANAGEMENT,te.DASHBOARD,te.EVENT_MANAGEMENT,te.MY_PLAN,te.SERVICE_TRANSACTION_LOGS,te.MY_PROFILE],{Title:Qd,Text:Th}=ne,Zd=Xd.map(n=>({label:n,value:n})),eu=()=>{const[n]=V.useForm(),{setLoading:t,screen:a}=M.appStore(),[s,i]=nt(),l=V.useWatch("attachment",{form:n,preserve:!0}),c=h=>a==="MOBILE"?{flex:h}:{span:h},r=h=>{t(!0),q.commonAPI.createBug(h).then(u=>{var y,g;t(!1),n.resetFields(),(y=u==null?void 0:u.result)!=null&&y._id&&i({id:(g=u==null?void 0:u.result)==null?void 0:g._id})}).catch(u=>{t(!1),console.log({location:"handleSubmit",error:u})})},d=async h=>{const{file:u}=h;console.log({file:u});const{status:y,preview:g,uid:C,id:p,name:m}=u;if(u.status==="removed"){const D=(n.getFieldValue("attachment")||[]).filter(f=>f.id!==p);n.setFieldValue("attachment",D)}else u!=null&&u.size&&u.size<5e6?(t(!0),q.commonAPI.uploadFile(u,"invitation").then(_=>{t(!1);const D=n.getFieldValue("attachment")||[];D.push({id:C,name:m,url:_}),n.setFieldValue("attachment",D)}).catch(_=>{t(!1),console.log({location:"handleFileUpload",error:_})})):console.error("Upload file error",u)};return o("div",{children:[s.get("id")&&e(Re,{message:`Bug reported with reference no: ${s.get("id")}`,banner:!0,closable:!0,type:"success",onClose:()=>{i({})}}),o($,{gutter:[16,16],children:[e(v,{...c(8),style:{textAlign:"center"},children:e("img",{loading:"lazy",src:Jd,alt:"",width:a==="MOBILE"?"70%":"100%"})}),o(v,{...c(16),children:[e(Qd,{level:3,children:"Report a bug"}),e(tt,{}),o(V,{layout:"vertical",form:n,style:{maxWidth:600},onFinish:r,children:[e(V.Item,{label:"Select a topic.",name:"topic",rules:[{required:!0,message:"Please select topic"}],children:e(He,{options:Zd,placeholder:"Select any topic to continue"})}),e(V.Item,{label:"Please provide additional information.",name:"information",rules:[{required:!0,message:"Please provide the information!"}],children:e(Nn,{rows:4})}),e(V.Item,{label:"Attachment",name:"attachment",children:e(Ua,{buttonText:"Upload Attachment",otherProps:{fileList:l},isPreview:!0,accept:"image/*,application/pdf",onAttach:h=>d==null?void 0:d(h)})}),e(V.Item,{children:e(R,{type:"primary",htmlType:"submit",children:"Submit"})})]})]})]})]})};const xt={ID:"id",NAME:"name",CHANNEL:"channel",TYPE:"type",CREATED_AT:"createdAt",UPDATED_AT:"updatedAt",STATUS:"status",LOCATION:"location"},tu=[xt.ID,xt.NAME,xt.CHANNEL,xt.TYPE,xt.CREATED_AT,xt.UPDATED_AT,xt.STATUS,xt.LOCATION],he={ID:"id",NAME:"name",CHANNEL:"channel",APPROVAL_STATUS:"approvalStatus",CREATED_AT:"createdAt",UPDATED_AT:"updatedAt",ACTION:"action",TYPE:"type",SUBMITTER:"userName",MOBILE:"mobileNumber"},vt={ID:"id",NAME:"Name",CHANNEL:"Channel",APPROVAL_STATUS:"Approval Status",CREATED_AT:"Creation at",UPDATED_AT:"Updated at",ACTION:"Action",TYPE:"Type",SUBMITTER:"Submitter Name",MOBILE:"Mobile Number"},nu=[he.ID,he.NAME,he.CHANNEL,he.CREATED_AT,he.UPDATED_AT],Zn=[{key:he.NAME,dataIndex:he.NAME,title:vt.NAME,sortable:!0,filterable:!0},{key:he.CHANNEL,dataIndex:he.CHANNEL,title:vt.CHANNEL,render:n=>e(Te,{bordered:!1,icon:oi[n==null?void 0:n[he.CHANNEL]],children:ai[n==null?void 0:n[he.CHANNEL]]}),sortable:!0,filterable:!0},{key:he.TYPE,dataIndex:he.TYPE,title:vt.TYPE,sortable:!0,filterable:!0,render:n=>n!=null&&n.type?oa(n==null?void 0:n.type):""},{key:he.APPROVAL_STATUS,dataIndex:he.APPROVAL_STATUS,title:vt.APPROVAL_STATUS,render:n=>(Ne==null?void 0:Ne[n==null?void 0:n[he.APPROVAL_STATUS]])&&e("div",{className:"event-status",children:e(Te,{bordered:!1,color:Ze==null?void 0:Ze[n==null?void 0:n[he.APPROVAL_STATUS]],children:dn==null?void 0:dn[n==null?void 0:n[he.APPROVAL_STATUS]]})}),sortable:!0,filterable:!0},{key:he.CREATED_AT,dataIndex:he.CREATED_AT,title:vt.CREATED_AT,render:n=>oe(n==null?void 0:n[he.CREATED_AT]).format(bt),sortable:!0,filterable:!0},{key:he.UPDATED_AT,dataIndex:he.UPDATED_AT,title:vt.UPDATED_AT,render:n=>oe(n==null?void 0:n[he.UPDATED_AT]).format(bt),sortable:!0,filterable:!0},{key:he.ACTION,dataIndex:he.ACTION,title:vt.ACTION}];const{Title:vh,Text:Mo}=ne,bi=n=>{var h;const{template:t,menuItems:a,onClick:s}=n,{approvalStatus:i}=t,l="ee__avatar-color",c=(h=t.name)==null?void 0:h.toString().split(" ").map(u=>u==null?void 0:u[0]).join(""),r=oi[t.channel],d=ai[t.channel];return e($,{gutter:[8,8],className:"template-card__container",children:e(v,{span:24,children:o($,{gutter:[8,8],children:[e(v,{span:6,className:"icon__container",onClick:()=>{s==null||s()},style:{cursor:"pointer"},children:e(qt,{shape:"square",size:50,className:l,children:c})}),e(v,{span:a?15:17,onClick:()=>{s==null||s()},style:{cursor:"pointer"},children:o(ae,{direction:"vertical",size:"small",style:{width:"100%"},children:[e(Mo,{strong:!0,className:"font-size-16",children:t.name}),o($,{gutter:[16,16],children:[e(v,{flex:8,children:o(Mo,{children:[r," ",d]})}),(Ze==null?void 0:Ze[i])&&e(v,{flex:16,children:e(Te,{bordered:!1,color:Ze==null?void 0:Ze[i],children:dn[i]})})]})]})}),a&&e(v,{span:3,className:"more-item__container",children:e(_a,{menu:{items:a},trigger:["click"],children:e(wa,{placement:"top",title:"More info",children:e(Da,{size:64,width:100,className:"more-item__icon"})})})})]})})})};const{Paragraph:au}=ne,Si=n=>{const{screen:t}=M.appStore(),{comments:a,loggedInUserId:s,isAdminScreen:i}=n;let l={};return t==="DESKTOP"&&i&&(l={textAlign:"left",margin:"2% 20%"}),e("div",{children:e("div",{className:"phone",children:e(_e,{style:l,className:"chat-container",children:a==null?void 0:a.map(c=>(console.log({userId:c.userId,loggedInUserId:s}),e(au,{id:c._id,children:o(_e,{style:{float:s===c.userId?"right":"left"},className:"message sent",bordered:!1,children:[e("div",{style:{float:"right"},children:c.comment}),e("br",{}),e("div",{style:{color:"grey"},children:oe(c.updatedAt).format(Pn)})]})})))})})})},ou=[{title:"User Information",content:"User-content"},{title:"Template contents",content:"Message-content"},{title:"Review conversation",content:"Review-Conversation"}],iu=n=>{const{selectedTemplate:t}=M.templateStore();console.log({selectedTemplate:t});const{setLoading:a}=M.appStore(),{user:s}=M.userStore(),[i,l]=E.useState({}),{token:c}=On.useToken(),[r,d]=E.useState(1);console.log({loggedInUser:s}),et.useEffect(()=>{y()},[t]);const h=p=>{console.log("onChange:",p),d(Number(p))},u=p=>{switch(p){case 1:return e(Ni,{userInfo:i});case 2:return e(Va,{...t,channel:t.channel});case 3:return e("div",{children:e(Si,{comments:t.comments,loggedInUserId:s.userId,isAdminScreen:!0})});default:return e(Y,{})}},y=()=>{a(!0),q.adminAPI.getUser(t==null?void 0:t.userId).then(p=>{l(p),a(!1)}).catch(p=>{a(!1),console.log({location:"getUserInfo",error:p})})},g=ou.map((p,m)=>({key:`${m+1}`,label:p.title})),C={color:c.colorTextTertiary,borderRadius:c.borderRadiusLG,marginTop:16};return o(Y,{children:[e(Mn,{onChange:h,type:"card",items:g}),e("div",{style:C,children:u(r)})]})},{TextArea:su}=pe,{Title:ru,Text:lu}=ne,zn=dn,cu=Object.entries(zn).map(n=>({label:e(Te,{color:Ze==null?void 0:Ze[n[0]],className:"event-status__tag",children:zn==null?void 0:zn[n[0]]}),value:n[0]})),du=()=>{const{styles:n}=Xt();Kt();const[t,a]=nt(),[s,i]=E.useState([]),{screen:l,setLoading:c}=M.appStore(),[r,d]=E.useState(""),[h,u]=E.useState(""),[y,g]=E.useState(!1),[C,p]=E.useState([ge.PENDING_APPROVAL]),[m,_]=E.useState(!1),{action:D,setTemplates:f,templates:A,selectedTemplate:I,setSelectedTemplate:F,isListView:G,setIsListView:P,setAction:x}=M.templateStore();E.useEffect(()=>{const X={approvalStatus:C.join(",")};Ln(t,x,ue,()=>{Z(X)})},[t,C]),E.useEffect(()=>{const X=Zn.slice(0,Zn.length-1);X.forEach(w=>{w.key===he.NAME&&(w.render=b=>e(lu,{style:{cursor:"pointer"},onClick:()=>{F(b),U(b)},children:b.name}))}),X.push({key:he.SUBMITTER,dataIndex:he.SUBMITTER,title:vt.SUBMITTER,sortable:!0,filterable:!0}),X.push({key:he.MOBILE,dataIndex:he.MOBILE,title:vt.MOBILE,sortable:!0,filterable:!0}),i(X)},[]),E.useEffect(()=>(P(localStorage.getItem(je.EVENT_REVIEW)==="List"),()=>{console.log("unmounting"),f([]),x(""),k()}),[]);const J={};l==="MOBILE"?J.flex=8:J.span=8;const k=X=>{X&&a({}),u(""),g(!1),d("")},L=X=>{d(X)},U=X=>{a({id:X.id,action:Ie.VIEW})},ee=()=>{const{id:X}=I;!!h?(g(!1),j({id:X,approvalStatus:r,comment:h}),k()):g(!0)},ce=()=>A.length?G?e(St,{columns:s,data:A,sortKeys:tu}):A==null?void 0:A.map(X=>e(v,{...J,children:e(bi,{template:X,onClick:()=>{F(X),U(X)}})})):e(mn,{image:Ei,description:"No templatess to show"}),j=X=>{c(!0),q.adminAPI.adminTemplateAction(X).then(w=>{c(!1),ue(I.id)}).catch(w=>{c(!1),console.log({location:"adminTemplateAction",error:w})})},Z=(X={})=>{c(!0),q.adminAPI.getTemplates(X).then(w=>{f(w),c(!1)}).catch(w=>{c(!1),console.log({location:"getTemplates",error:w})})},ue=X=>{c(!0),q.adminAPI.getTemplates({id:X}).then(w=>{if(c(!1),w!=null&&w.length){const b=w==null?void 0:w[0];F(b)}}).catch(w=>{c(!1),console.log({location:"getEvents",error:w})})},me=X=>l==="MOBILE"?{flex:X}:{span:X};return o("div",{className:"event-review__container",children:[e(Ye,{title:o(Y,{children:[r," - ",I.name," ?"]}),open:!!r,onOk:ee,onCancel:()=>k(),okText:"Yes",cancelText:"No",okType:r==="REJECTED"?"danger":"primary",classNames:It(n),styles:pt(),children:e(ae,{direction:"vertical",size:"small",style:{width:"100%"},children:e(su,{showCount:!0,maxLength:150,value:h,status:y&&!h?"error":"",onChange:X=>{u(X.target.value)},placeholder:"Comments",style:{marginBottom:"10px"}})})}),(!D||D==="DELETE")&&o(Y,{children:[o($,{wrap:!0,gutter:[8,8],children:[e(v,{span:12,children:e(ru,{level:3,children:" Review Templates"})}),o(v,{span:12,className:"upcoming-event__pagination",children:[e(R,{type:"text",icon:e(Dn,{count:C==null?void 0:C.length,children:e(xa,{fontSize:"inherit"})}),onClick:()=>{_(!m)},children:"Filter"}),e($t,{style:{margin:"10px"},value:G?"List":"Card",options:[{value:"List",icon:e(jt,{})},{value:"Card",icon:e(Jt,{})}],onChange:X=>{localStorage.setItem(je.EVENT_REVIEW,X.toString()),P(X==="List")}})]})]}),m&&e($,{className:"event-review__filters",gutter:[8,8],children:e(v,{flex:6,children:e(V,{layout:"vertical",children:e(V.Item,{label:"Status",children:e(He,{style:{width:"100%"},allowClear:!0,mode:"multiple",placeholder:"Select a status",optionFilterProp:"children",options:cu,value:C,tagRender:({label:X})=>e(Te,{color:xe[X],className:"event-status__tag",children:X}),onChange:X=>{p(X)}})})})})}),e($,{gutter:[16,16],className:"event-list",children:ce()})]}),D&&D!=="DELETE"&&e($,{gutter:[16,16],className:"header__row",children:e(v,{flex:12,children:o($,{className:"header__container",children:[e(v,{...me(4),className:"back-icon__container",children:e(R,{type:"text",onClick:()=>{k(!0)},icon:e(Xo,{icon:Hs,className:"back-icon"}),children:"back"})}),e(v,{...me(20),children:Ir.map(X=>e(R,{...X.props,onClick:()=>{L(X.key)},style:{float:"right",margin:".1rem"},children:X.label}))})]})})}),D==="VIEW"&&e(iu,{})]})};const uu=""+new URL("login-form-30bb3344.svg",import.meta.url).href,{Title:Po,Text:fa}=ne,_i=3e4,hu=_i/1e3,pu=()=>{const[n]=V.useForm(),t=we(),{setLoading:a,screen:s}=M.appStore(),{setIsAuthorized:i}=M.userStore(),[l,c]=E.useState(!1),[r,d]=E.useState(!0),[h,u]=E.useState(0),[y,g]=E.useState({email:"",otp:0}),C=A=>{a(!0),q.userManagement.loginEmailUser(A).then(I=>{c(!0),a(!1)}).catch(I=>{a(!1),console.log({location:"loginUser",error:I})})},p=()=>{const A=window.location.search;window.location.href=A?`${$e.loginGoogleUser}${A}`:$e.loginGoogleUser},m=A=>{a(!0),q.userManagement.verifyEmailOTP(A.toString()).then(I=>{a(!1),I&&(i(!0),t(`${T.EE}/${T.DASHBOARD}`))}).catch(I=>{a(!1),console.log({location:"verifyOTP",error:I})})};E.useEffect(()=>{const A=setInterval(()=>{u(h-1)},1e3);return h<0&&clearInterval(A),()=>clearInterval(A)},[h]);const _=A=>{console.log("Received values of form: ",A),A.email&&(g({...y,email:A.email}),C(A.email))},D=A=>{console.log("Received values of form: ",A,y),isNaN(A.otp)||m(A.otp)},f=()=>{C(y.email),d(!1),setTimeout(()=>d(!0),_i),u(hu)};return o("div",{className:"sign-in__container",children:[e($,{className:"login-form",style:s!=="MOBILE"?{width:"30rem"}:{},children:o(v,{span:24,children:[e(Po,{level:2,className:"login__text",children:"Log in to your account"}),l?o(Y,{children:[o(Po,{level:4,children:["Receive One-Time Password via Email"," ",e(qs,{size:64,color:"#25D366"})]}),o(fa,{type:"secondary",children:["We have sent 6-digit OTP to ",y.email,". Please enter the code below to continue"]}),o(V,{form:n,name:"otp",onFinish:D,style:{maxWidth:600},scrollToFirstError:!0,layout:"vertical",children:[e(V.Item,{name:"otp",label:"Enter OTP",rules:[{len:6,min:6,max:6,message:"Enter OTP"},{required:!0,message:"Please enter 6 digit OTP"}],children:e(pe,{placeholder:"6-digit OTP",type:"number",style:{width:"100%"}})}),e(fa,{italic:!0,children:"Did not receive the OTP?"}),e(R,{type:"link",disabled:!r,onClick:f,children:r?"Resend OTP":`Resent OTP after ${h} seconds`}),o(V.Item,{children:[e(R,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Verify"}),e(R,{style:{marginLeft:"10px"},type:"default",onClick:()=>{c(!1)},children:"Cancel"})]})]})]}):o(Y,{children:[o(V,{form:n,name:"register",onFinish:_,style:{maxWidth:600},scrollToFirstError:!0,layout:"vertical",initialValues:{countryCode:"91"},children:[e(V.Item,{name:"email",label:"Email Address",rules:[{required:!0,message:"Please input your email address!"},{validator:Dl}],children:e(pe,{type:"email",style:{width:"100%"}})}),e(V.Item,{children:e(R,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Next"})})]}),e("div",{className:"or-text",children:e(fa,{italic:!0,children:"or"})}),e("div",{className:"google-sign-in-button__container",children:e("button",{type:"button",className:"google-sign-in-button",onClick:p,children:"Sign in with Google"})})]})]})}),s!=="MOBILE"&&e($,{style:{position:"relative"},children:e("img",{loading:"lazy",src:uu,alt:"",className:"login-form-svg",style:{width:"100%",height:"auto",position:"absolute",zIndex:1}})})]})};const mu=""+new URL("no-template-9aee0efa.svg",import.meta.url).href,gu=n=>{const{onUpload:t}=n,[a,s]=E.useState(""),[i,l]=E.useState(new Blob),c=Ks(),r=y=>new Promise((g,C)=>{new(window.AudioContext||window.webkitAudioContext)().decodeAudioData(y,g,C)}),d=y=>{const g=new Int16Array(y.length);for(let C=0;C<y.length;C++){const p=Math.max(-1,Math.min(1,y[C]));g[C]=p<0?p*32768:p*32767}return g},h=y=>{console.log({audioBuffer:y});const g=y.getChannelData(0),C=d(g),p=new Xs.Mp3Encoder(1,y.sampleRate,256),m=[],_=1152;for(let f=0;f<C.length;f+=_){const A=C.subarray(f,f+_),I=p.encodeBuffer(A);I.length>0&&m.push(I)}const D=p.flush();return D.length>0&&m.push(D),m},u=async y=>{const g=await y.arrayBuffer(),C=await r(g),p=h(C),m=new Blob(p,{type:"audio/mp3"}),_=URL.createObjectURL(m);console.log({mp3Url:_}),s(_),l(m)};return o(ae,{direction:"vertical",style:{width:"100%"},children:[e("div",{children:e(js,{onRecordingComplete:y=>u(y),recorderControls:c,downloadFileExtension:"mp3",showVisualizer:!0,audioTrackConstraints:{noiseSuppression:!0,echoCancellation:!0},mediaRecorderOptions:{mimeType:"audio/mpeg"}})}),a&&e("audio",{className:"message sent",src:a,controls:!0,style:{width:"100%",float:"left"}}),e(R,{type:"primary",icon:e(Js,{fontSize:"inherit"}),onClick:()=>t==null?void 0:t(i),children:"Upload"})]})},{Panel:fu}=Sn,yu=new URL(""+new URL("trash-event-1711b525.svg",import.meta.url).href,self.location),{Title:ya,Text:Rt,Paragraph:Eu,Link:Ah}=ne,{Search:Tu}=pe,vu=()=>{var Ge,We,ze;const[n]=V.useForm(),{styles:t}=Xt();Kt();const[a,s]=nt(),{setLoading:i,screen:l,isLoading:c}=M.appStore(),{user:r,activePlan:d}=M.userStore(),{setTemplates:h,action:u,isListView:y,selectedTemplate:g,setAction:C,setIsListView:p,setSelectedTemplate:m,templates:_}=M.templateStore(),{eventTypes:D}=M.eventStore();let f=[];const[A,I]=E.useState(""),[F,G]=E.useState(""),[P,x]=E.useState({}),[J,k]=E.useState(At.USER),[L,U]=E.useState(!1),[ee,ce]=E.useState(!1),[j,Z]=E.useState(!1),[ue,me]=E.useState(!1),[X,w]=E.useState(""),[b,Q]=E.useState(),[le,ve]=E.useState({id:"",status:""}),{height:Ke}=qe(),Je=(S,W)=>{Ee();const ie=new SpeechSynthesisUtterance;ie.text=S;const Se=window.speechSynthesis.getVoices();ie.voice=Se[0],ie.onend=function(){console.log("Speech finished"),Q(void 0),ve({id:"",status:"ENDED"})},console.log({text:S}),window.speechSynthesis.speak(ie),Q(ie),le.status==="PLAYING"?ve({id:"",status:""}):ve({id:W,status:"PLAYING"})},Ee=()=>{var S;(S=window==null?void 0:window.speechSynthesis)==null||S.cancel(),console.log("Speech stopped"),ve({id:"",status:""})},H=()=>{b&&(window.speechSynthesis.resume(),ve({...le,status:"PLAYING"}))},De=()=>{b&&(window.speechSynthesis.pause(),ve({...le,status:"PAUSED"}))},Me=S=>l==="MOBILE"?{flex:S}:{span:S};E.useEffect(()=>{u||(m({message:{},name:"",id:""}),n.resetFields()),console.log({action:u,TEMPLATE_CHANNEL_OPTIONS:kn}),u==="ADD"&&kn.length===1&&n.setFieldValue("channel",kn[0].value)},[u,n]),E.useEffect(()=>{Ln(a,C,dt,mt)},[a]),E.useEffect(()=>{mt()},[J]),E.useEffect(()=>(p(localStorage.getItem(je.TEMPLATE)==="List"),()=>{C(""),w(""),U(!1),h([]),Ee()}),[]);const Ue=async(S,W)=>{const{file:ie}=W;console.log({file:ie}),ie.status==="removed"?de(S,""):ie!=null&&ie.size&&ie.size<5e6?(i(!0),q.commonAPI.uploadFile(ie,"audio").then(Se=>{i(!1),de(S,Se,"AUDIO")}).catch(Se=>{i(!1),console.log({location:"handleFileUpload",error:Se})})):console.error("Upload file error",ie)},st=async(S,W)=>{if(W!=null&&W.size&&W.size<5e6){console.log({blob:W});const ie=W;ie.name="Record.mp3",ie.filename="Record.mp3",i(!0),q.commonAPI.uploadFile(W,"record").then(Se=>{i(!1),de(S,Se,"AUDIO")}).catch(Se=>{i(!1),console.log({location:"handleRecordUpload",error:Se})})}else console.error("Upload file error",W)},Fe=(S=!1)=>{me(!1),w(""),U(!1),Ee(),x({}),s(S?{creation:"DONE"}:{}),Oe()},rt=S=>[{label:"View",key:"view",onClick:()=>Ve(S),icon:e(zo,{})},...J===At.STANDARD?[]:S.approvalStatus!==ge.APPROVED?[{label:"Edit",key:"edit",onClick:()=>lt(S),icon:e(Vo,{})}]:[],...J!==At.STANDARD?[{label:"Delete",key:"delete",onClick:()=>ct(S),icon:e(va,{})}]:[]],Ve=S=>{s({id:S.id,action:Ie.VIEW})},lt=S=>{s({id:S.id,action:Ie.EDIT})},ct=S=>{Z(!0),m(S)},dt=S=>{i(!0),q.templateManagement.getTemplateById(S).then(W=>{m(W),W.channel==="VOICE_CALL"?(x(W.message),n.setFieldsValue(W)):(W.channel==="SMS"||W.channel==="WHATSAPP")&&n.setFieldsValue({...W,message:W.message.text}),i(!1)}).catch(W=>{i(!1),console.log({location:"getTemplatesById",error:W})})},mt=()=>{i(!0),q.templateManagement.getTemplate(J).then(S=>{h(S),i(!1)}).catch(S=>{i(!1),console.log({location:"getTemplates",error:S})})},at=S=>{i(!0),q.templateManagement.createTemplate(S).then(()=>{Fe(!0),i(!1)}).catch(W=>{i(!1),console.log({location:"createTemplates",error:W})})},_t=S=>{i(!0),q.templateManagement.updateTemplate(S).then(()=>{Fe(),i(!1)}).catch(W=>{i(!1),console.log({location:"updateTemplate",error:W})})},wt=S=>{i(!0),q.templateManagement.deleteTemplate(S).then(()=>{Fe(),Oe(),i(!1)}).catch(W=>{i(!1),console.log({location:"deleteTemplate",error:W})})},Dt=()=>{const S=n.getFieldsValue();if(console.log(S),S.channel==="VOICE_CALL"&&!Object.values(P).length){w("Please add text message. record/upload audio!"),console.log({messages:P});return}if(Object.values(P).find(W=>!W.value)){U(!0),w("Please add text message. record/upload audio!"),console.log({messages:!0});return}w(""),U(!1),ce(!0)},gt=()=>{const S=n.getFieldsValue();let W=S.message;S.channel==="VOICE_CALL"?W=sl(P,S.channel):(S.channel==="SMS"||S.channel==="WHATSAPP")&&(W={text:W}),u==="ADD"?at({...S,message:W}):u==="EDIT"&&_t({...g,...S,message:W})},ft=S=>{i(!0),q.templateManagement.reAppealTemplate(S).then(W=>{i(!1),me(!1),G(""),dt(g.id)}).catch(W=>{i(!1),console.log({location:"adminTemplateAction",error:W})})},ot=()=>{const{id:S}=g;wt(S)},Ae=()=>{ft({comment:F,id:g.id})},O=(S,W)=>{m({...g,[S]:W})};Zn.forEach(S=>{S.key===he.ACTION?S.render=W=>o(ae,{children:[J===At.STANDARD?e(Y,{}):W.approvalStatus!==ge.APPROVED?e(Hn,{fontSize:"inherit",onClick:()=>{lt(W)},style:{color:"rgb(102, 112, 133)",cursor:"pointer"}}):null,e(Bo,{fontSize:"inherit",onClick:()=>{Ve(W)},style:{color:"rgb(102, 112, 133)",cursor:"pointer"}})]}):S.key===he.NAME&&(S.render=W=>e(Rt,{style:{cursor:"pointer"},onClick:()=>{Ve(W)},children:W.name}))});const z=S=>{if(S.type==="TEXT")return o(ae,{className:"text-message__container",children:[e(Nn,{style:{minHeight:"40vh",width:"100%"},disabled:u==="VIEW",autoSize:{minRows:2,maxRows:20},value:S.value,status:L&&!S.value?"error":"",onChange:W=>{de(S.id,W.target.value)}}),le.id!==S.id&&e(Kn,{onClick:()=>{Je(S.value,S.id)}}),le.id===S.id&&le.status==="PLAYING"&&e(Ko,{onClick:()=>{De()}}),le.id===S.id&&le.status==="PAUSED"&&e(Kn,{onClick:()=>{H()}}),le.id===S.id&&(le.status==="PLAYING"||le.status==="PAUSED")&&e(jo,{onClick:()=>{Ee()}})]});if(S.type==="UPLOAD_AUDIO")return e(Ua,{otherProps:{maxCount:1,fileList:rl(S.value)},disabled:u==="VIEW",buttonText:"Upload",accept:"audio/*",onAttach:W=>Ue(S.id,W)});if(S.type==="RECORD_AUDIO")return e(gu,{onUpload:W=>st(S.id,W)});if(S.type==="AUDIO")return e("audio",{src:S.value,controls:!0,style:{width:"100%"}})},se=S=>{const W=na();x({...P,[W]:{type:S,value:"",id:W}})},de=(S,W,ie="TEXT")=>{x({...P,[S]:{type:ie,value:W,id:S}})},Be=S=>{const W={...P};delete W[S],x(W)},Oe=()=>{Z(!1),ce(!1)},ye=S=>{console.log({searchValue:S}),I(S)};return A&&(console.log({searchValue:A}),f=$a(A,_),console.log({filteredGrid:f})),o("div",{className:"template-management__container",children:[e(Ye,{title:e(Y,{children:"Re - Appeal template ?"}),open:!!ue,onOk:Ae,onCancel:()=>me(!1),okText:"Yes",cancelText:"No",okType:"primary",classNames:It(t),styles:pt(),width:l==="MOBILE"?"100%":"50%",children:o(ae,{direction:"vertical",size:"small",style:{width:"100%"},children:[e(Sn,{children:e(fu,{header:e("b",{children:"Conversation History"}),children:e(Si,{comments:g.comments,loggedInUserId:r.userId})},"1")}),e(Nn,{showCount:!0,maxLength:150,value:F,status:F?"":"error",onChange:S=>{G(S.target.value)},rows:3,placeholder:"Comments",style:{marginBottom:"10px"}})]})}),o(Ye,{title:e(ya,{level:5,children:"Delete Confirmation"}),open:j,onOk:ot,onCancel:Oe,okText:"Yes",cancelText:"No",okType:"danger",classNames:It(t),styles:pt(),confirmLoading:c,children:[e("img",{loading:"lazy",src:yu,width:"100%",alt:""}),e(Rt,{italic:!0,style:{textAlign:"center"},children:"Once deleted it cannot be undo"})]}),e(Ye,{title:e(ya,{level:5,children:"Confirmation"}),open:ee,onOk:gt,onCancel:Oe,okText:"Yes",cancelText:"No",classNames:It(t),styles:pt(),confirmLoading:c,children:e(Rt,{italic:!0,style:{textAlign:"center"},children:"Upon confirmation, the message will be sent for review. Once approved, you can utilize this message for sending."})}),e($,{gutter:[16,16],className:"header__row sticky-header",children:e(v,{flex:12,children:o($,{className:"header__container",children:[u&&u!=="DELETE"?e(v,{...Me(3),className:"back-icon__container",children:e(R,{type:"text",onClick:()=>{Fe()},icon:e(ta,{className:"back-icon"}),children:"back"})}):o(v,{...Me(24),children:[e($,{wrap:!0,gutter:[8,8],children:e(v,{flex:12,children:e(ya,{level:3,children:" Template"})})}),o($,{wrap:!0,gutter:[8,8],children:[e(v,{flex:12,className:"template__pagination",children:e($t,{style:{float:"left"},options:Mr,onChange:S=>{k(S)}})}),o(v,{flex:12,className:"template__pagination",children:[l!=="MOBILE"&&(d==null?void 0:d.templateCount)>0&&e(R,{type:"primary",onClick:()=>{s({action:Ie.ADD})},children:"Create"}),e($t,{style:{margin:"10px"},value:y?"List":"Card",options:[{value:"List",icon:e(jt,{})},{value:"Card",icon:e(Jt,{})}],onChange:S=>{localStorage.setItem(je.TEMPLATE,S.toString()),p(S==="List")}})]})]}),e($,{})]}),u==="VIEW"&&e(v,{...Me(21),children:o("div",{style:{float:"right"},children:[g.approvalStatus!==ge.APPROVED&&o(Y,{children:[g.approvalStatus===ge.REJECTED&&e(R,{type:"dashed",onClick:()=>{me(!0)},children:"Re-Appeal"}),e(R,{type:"primary",style:{marginLeft:".5rem"},onClick:()=>{s({id:g.id,action:Ie.EDIT})},children:"Edit"})]}),J===At.USER&&e(R,{danger:!0,onClick:()=>{ct(g)},style:{marginLeft:".5rem"},children:"Delete"})]})}),(u==="ADD"||u==="EDIT")&&l!=="MOBILE"&&e(v,{...Me(21),children:o(ae,{style:{float:"right"},children:[e(R,{type:"primary",onClick:()=>{n.submit()},children:u==="ADD"?"Create":"Save Changes"}),e(R,{type:"default",style:{marginLeft:".5rem"},onClick:()=>Fe(),children:"Cancel"})]})})]})})}),!u&&o($,{gutter:[8,8],className:"margin-bottom-16",children:[e(v,{...Me(12),children:_!=null&&_.length?e(Tu,{placeholder:"Search here",value:A,onChange:S=>ye(S.target.value),style:{width:"100%"},allowClear:!0}):null}),e(v,{...Me(12),children:A?o(Rt,{italic:!0,className:"float-right",children:["Showing ",e(Rt,{strong:!0,children:f.length})," of"," ",e(Rt,{strong:!0,children:_==null?void 0:_.length})," template's"]}):o(Rt,{italic:!0,className:"float-right",children:["Showing total ",o(Rt,{strong:!0,children:[_==null?void 0:_.length," "]}),"template's"]})})]}),e("div",{className:"padding-bottom-8",children:e(Re,{message:d!=null&&d.isActive?(d==null?void 0:d.templateCount)<=0?`According to your plan, you have successfully created all ${(Ge=d==null?void 0:d.pricingPlan)==null?void 0:Ge.templateCount} templates allowed.`:`According to your plan, you have currently created ${((We=d==null?void 0:d.pricingPlan)==null?void 0:We.templateCount)-(d==null?void 0:d.templateCount)} out of ${(ze=d==null?void 0:d.pricingPlan)==null?void 0:ze.templateCount} templates.`:ka("template"),type:d!=null&&d.isActive?"info":"warning",icon:e(Oa,{}),showIcon:!0,closable:d==null?void 0:d.isActive})}),J===At.STANDARD&&e("div",{className:"padding-bottom-8",children:e(Re,{description:"This is a sample template, Some of the information is auto-filled based on the details entered when creating an event",type:"info",showIcon:!0})}),(!u||u==="DELETE")&&e($,{gutter:[16,16],children:(A?f:_).length?y?e(St,{columns:Zn,data:A?f:_,sortKeys:nu}):(A?f:_).map(S=>e(v,{span:l==="MOBILE"?24:8,children:e(bi,{template:S,menuItems:rt(S),onClick:()=>Ve(S)})},S.id)):e(mn,{onClickAction:()=>{s({action:Ie.ADD})},image:mu,description:"No template to show",buttonText:(d==null?void 0:d.templateCount)>0?"Create":void 0})}),(u==="ADD"||u==="EDIT")&&o(V,{layout:"vertical",onFinish:Dt,form:n,name:"template",scrollToFirstError:!0,style:{minHeight:Ke},children:[e(V.Item,{label:"Select the channel",name:"channel",rules:[{required:!0,message:"Please select event channel!"}],children:e(Gt.Group,{options:kn,optionType:"button",buttonStyle:"solid",onChange:S=>{O("channel",S.target.value)}})}),n.getFieldValue("channel")&&e(V.Item,{label:"Enter template name",name:"name",rules:[{required:!0,message:"Please input your template name"}],children:e(pe,{})}),e(V.Item,{label:"Select Event",name:"type",rules:[{required:!0,message:"Please select template event type"}],children:e(He,{style:{width:"100%"},allowClear:!0,placeholder:"Select a event",optionFilterProp:"children",options:D})}),n.getFieldValue("channel")==="VOICE_CALL"&&o(Y,{children:[e(Eu,{strong:!0,style:{},children:"Message"}),X&&e(Re,{message:X,type:"error",showIcon:!0}),Object.values(P).map(S=>e("div",{style:{padding:"8px 0px"},children:o($,{gutter:[8,8],children:[e(v,{span:22,children:z(S)}),e(v,{children:e(R,{onClick:()=>{Be(S.id)},danger:!0,icon:e(va,{})})})]})},S==null?void 0:S.id)),e(ae,{className:"site-button-ghost-wrapper",style:{padding:"30px 0px"},wrap:!0,children:_r.map(S=>e(R,{type:"default",onClick:()=>{se(S.key)},icon:S.icon,children:S.label}))})]}),n.getFieldValue("channel")==="SMS"||n.getFieldValue("channel")==="WHATSAPP"?e(V.Item,{label:"Enter message",name:"message",rules:[{required:!0,message:"Please input your message"}],children:e(Nn,{style:{minHeight:"40vh"}})}):null]}),u==="VIEW"&&e(Va,{...g,speechStatus:le,playSpeech:Je,pauseSpeech:De,resumeSpeech:H,stopSpeech:Ee}),!u&&l==="MOBILE"&&(d==null?void 0:d.templateCount)>0&&e(Pa,{shape:"square",style:{right:24},icon:e(R,{size:"large",type:"primary",onClick:()=>{s({action:Ie.ADD})},children:"Create Template"})}),(u==="ADD"||u==="EDIT")&&l==="MOBILE"&&o(ae,{direction:"vertical",style:{width:"100%"},className:"eazy-event__bottom-fixed-btn",children:[e(R,{type:"default",onClick:()=>Fe(),children:"Cancel"}),e(R,{type:"primary",onClick:()=>{n.submit()},children:u==="ADD"?"Create":"Save Changes"})]})]})},Au=[{title:"Introduction and Agreement",information:[{title:"Welcome and Agreement",information:"Thank you for choosing Eazy Event! By accessing or using Eazy Event ('the App'), you agree to comply with and be bound by these terms. If you do not agree with these terms, please do not use the App."},{title:"Acknowledgement and Representation",information:"By using the App, you acknowledge that you have read, understood, and agree to be bound by these terms. If you are using the App on behalf of an organization or entity, you represent and warrant that you have the authority to bind that organization or entity to these terms."},{title:"User Eligibility",information:"Users must be of legal age to sign up for Eazy Event and use our services."}]},{title:"Service Description and Responsibilities",information:[{title:"Service Description",information:"Eazy Event provides a service that allows users to send notifications or calls to their friends or relatives to remind them about events. This service may include the use of call services and message channels."},{title:"Automated Reminders",information:"Eazy Event may automatically send reminders to the friends or relatives of the current user based on the events and notifications set by the user. Users are solely responsible for the content, timing, and accuracy of these reminders."},{title:"Account Security and Content Responsibility",information:"Users are responsible for maintaining the confidentiality of their account information. Users of Eazy Event are solely responsible for the content of their recorded messages and ensuring that such content abides by the laws of their country and the recipient's country."}]},{title:"Usage Terms and Conditions",information:[{title:"Prohibited Activities",information:"Users agree not to use the App for any illegal, unauthorized purpose, to harass, threaten, or otherwise violate the legal rights of others."},{title:"Privacy Policy",information:"Your privacy is important to us. Please refer to our Privacy Policy for information on how we collect, use, and disclose your personal information."},{title:"Refund /Cancellation policy",information:"Please note that purchased plans are non-refundable."}]},{title:"App Management and Termination",information:[{title:"Modification or Discontinuation",information:"Eazy Event reserves the right to modify or discontinue, temporarily or permanently, the App or any part of it with or without notice. We shall not be liable to you or any third party for any modification, suspension, or discontinuation of the App."},{title:"Termination of Access",information:"Eazy Event reserves the right to terminate or suspend your access to the App at any time, with or without cause, and with or without notice."},{title:"Account Termination",information:"We, at Eazy Event, reserve the right to terminate any account that violates these terms and conditions without prior notice."}]},{title:"Liability and Indemnification",information:[{title:"Limitation of Liability",information:"To the extent permitted by applicable law, Eazy Event shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues. Eazy Event is not responsible for any damages, inconveniences, losses, or other consequences that may occur as a result of the use of our services."},{title:"Failure in Delivery",information:"Eazy Event is not liable for any failure in the delivery of the scheduled reminders or notifications due to technical issues beyond our control."},{title:"Indemnification",information:"Users agree to indemnify and hold harmless Eazy Event, its officers, employees, agents, subsidiaries, affiliates, and other partners from any direct, indirect, incidental, special, consequential, or exemplary damages resulting from your use of the service."}]},{title:"Legal Framework and Updates",information:[{title:"Governing Law",information:"These terms shall be governed by and construed in accordance with the laws of Tamil Nadu. If you have any questions or concerns about these terms, please contact us at admin@eazy-event.com."},{title:"Subscription and Payment",information:"Eazy Event operates on a subscription basis. Users are required to purchase predefined packs in order to use the service. The cost of these packs is non-refundable, and the services can only be accessed upon payment."},{title:"Terms Update",information:"By using the App, you agree to these terms of service. We reserve the right to update or modify these terms at any time without prior notice. It is your responsibility to review these terms periodically."}]}];const{Title:Cu,Paragraph:Nu,Text:Iu}=ne,bu=()=>{const{screen:n}=M.appStore();return o("div",{className:"terms-of-service",style:{padding:n==="MOBILE"?"0px 2rem":"0px 20rem"},children:[e(Cu,{level:2,children:"Terms of Service"}),Au.map((t,a)=>o(Nu,{children:[e("br",{}),o("strong",{className:"terms-title",children:[a+1,". ",t.title]}),e("br",{}),t.information.map((s,i)=>o("p",{className:"terms-paragraph",children:[a+1,".",i+1,". ",o("strong",{children:[s.title,":"]})," ",s.information,e("br",{})]},i))]},a)),e("br",{}),e("p",{className:"terms-paragraph",children:"By using the App, you agree to these Terms of Service. We reserve the right to update or modify these Terms at any time without prior notice. It is your responsibility to review these Terms periodically."}),o("p",{className:"terms-paragraph",children:["Last Updated: ",e(Iu,{italic:!0,children:"10th May, 2024"})]})]})},Su=["name","type","albumCount","eventCount","contactDirectoryCount","contactCount","templateCount","notificationCredit","price"],_u=["whatsAppPrice","smsPrice","voiceCallPrice"],wu={whatsAppPrice:"WhatsApp Price",smsPrice:"SMS Price",voiceCallPrice:"Voice Call Price"},Du={name:"Name",type:"Type",albumCount:"Album Count",eventCount:"Event Count",contactDirectoryCount:"Contact Directory Count",contactCount:"Contact Count",templateCount:"Template Count",notificationCredit:"Notification Credit",price:"Price"},{Title:Ea}=ne,Ou=()=>{const{activePlan:n}=M.userStore(),{screen:t,currentPage:a}=M.appStore(),s=n;return e(Y,{children:o("div",{style:{margin:t==="MOBILE"?0:"2rem"},children:[e(Ea,{level:4,children:a}),e(Ea,{level:5,children:"Current Active Plan"}),e("div",{children:e(Za,{component:eo,sx:{padding:t==="MOBILE"?0:"2rem"},children:e(to,{"aria-label":"plan comparison table",children:e(no,{children:Su.map(i=>{var l,c;return o(la,{children:[e(Zt,{component:"th",scope:"row",sx:{fontWeight:"bold",paddingBottom:"12px",paddingTop:"12px"},children:Du[i]}),e(Zt,{align:"center",sx:{paddingBottom:"12px",paddingTop:"12px",textAlign:"left"},children:s!=null&&s[i]||(s==null?void 0:s[i])===0?`${s==null?void 0:s[i]} out of ${(l=s==null?void 0:s.pricingPlan)==null?void 0:l[i]} available`:(c=s==null?void 0:s.pricingPlan)==null?void 0:c[i]})]},i)})})})})}),o("div",{children:[e(Ea,{level:5,children:"Current Plan Notification Credit"}),e(Za,{component:eo,sx:{border:"1px solid #dddddd",padding:t==="MOBILE"?0:"2rem"},children:o(to,{"aria-label":"plan comparison table",children:[e(Qs,{children:o(la,{children:[e(Zt,{sx:{fontWeight:"bold",paddingBottom:"12px",paddingTop:"12px"},children:"Plan Details"}),e(Zt,{sx:{fontWeight:"bold",paddingBottom:"12px",paddingTop:"12px"},children:"Credit Required"})]})}),e(no,{children:_u.map(i=>o(la,{children:[e(Zt,{component:"th",scope:"row",sx:{fontWeight:"bold",paddingBottom:"12px",paddingTop:"12px"},children:wu[i]}),e(Zt,{align:"center",sx:{paddingBottom:"12px",paddingTop:"12px",textAlign:"left"},children:s==null?void 0:s.pricingPlan[i]})]},i))})]})})]})]})})},{Title:Mu,Link:Pu}=ne,Lu=()=>{const[n,t]=E.useState([]),{screen:a,currentPage:s,setLoading:i}=M.appStore(),l=we();E.useEffect(()=>{c()},[]);const c=()=>{i(!0),q.userManagement.getServiceTransactionLogs().then(r=>{t(r),i(!1)}).catch(r=>{i(!1),console.log({location:"getServiceTransactionLogs",error:r})})};return e(Y,{children:o("div",{style:{margin:a==="MOBILE"?0:"2rem"},children:[e(Mu,{level:4,children:s}),e(Gn,{itemLayout:"horizontal",dataSource:n,renderItem:(r,d)=>e(Gn.Item,{children:e(Gn.Item.Meta,{avatar:e("span",{style:{position:"relative",top:"10px"},children:Dr[r.transactionType]}),title:e(Pu,{onClick:()=>{l(`${T.EE}/${Or[r.transactionType]}?id=${r.transactionId}&action=VIEW`)},children:wr[r.transactionType]}),description:`Created at ${oe(r.createdAt).format(Pn)}`})})})]})})},xu=""+new URL("successful-purchase-animate-9521e534.svg",import.meta.url).href,Ru=""+new URL("missed-chances-animate-bcf64140.svg",import.meta.url).href,ku=()=>{const[n,t]=nt(),a=we(),{screen:s}=M.appStore();qe();const i=n.get("status"),l=n.get("transactionId"),c=i==="success";return e($,{justify:"center",children:e(v,{xs:24,sm:22,md:20,lg:18,xl:22,children:e(wn,{status:c?"success":"error",icon:e("img",{loading:"lazy",src:c?xu:Ru,alt:"",width:s==="MOBILE"?"100%":"30%"}),title:c?"Successfully Purchased plan!":"Transaction failed!",subTitle:c?"Click the button below to access your dashboard and start using our services.":"If the amount has been deducted from your account, please wait a few moments for the plan to be activated in your account.",extra:[e(R,{type:"primary",onClick:()=>{a(c?`${T.EE}/${T.DASHBOARD}`:`${T.EE}/${T.MY_PLAN_INVOICE}/${l}`)},children:c?"Go to dashboard":"Check the transaction status"},"console")]})})})},it={TRANSACTION_ID:"_id",TYPE:"type",AMOUNT:"amount",CREATED_AT:"createdAt",UPDATED_AT:"updatedAt",STATUS:"state"},An={TRANSACTION_ID:"Transaction Id",TYPE:"Type",AMOUNT:"Amount",CREATED_AT:"Created At",UPDATED_AT:"Updated At",STATUS:"status"},{Text:Yn}=ne,wi=n=>{var a,s,i,l,c,r,d,h,u,y;const{logs:t}=n;if((s=(a=t==null?void 0:t.data)==null?void 0:a.paymentInstrument)!=null&&s.type){if(((l=(i=t==null?void 0:t.data)==null?void 0:i.paymentInstrument)==null?void 0:l.type)===ca.UPI)return o("div",{children:[e(Zs,{fontSize:"inherit"})," ",e(Yn,{children:"UPI"})]});if(((r=(c=t==null?void 0:t.data)==null?void 0:c.paymentInstrument)==null?void 0:r.type)===ca.CARD){const g=((h=(d=t==null?void 0:t.data)==null?void 0:d.paymentInstrument)==null?void 0:h.cardType)==="DEBIT_CARD"?"Debit card":"Credit card";return o("div",{children:[e(er,{fontSize:"inherit"})," ",e(Yn,{children:g})]})}else if(((y=(u=t==null?void 0:t.data)==null?void 0:u.paymentInstrument)==null?void 0:y.type)===ca.NETBANKING)return o("div",{children:[e(tr,{fontSize:"inherit"})," ",e(Yn,{children:"Net banking"})]})}else return e(Yn,{children:"-"})},{Link:Ch,Text:$u}=ne,Uu=[{key:it.TRANSACTION_ID,dataIndex:it.TRANSACTION_ID,title:An.TRANSACTION_ID,sortable:!0,filterable:!0},{key:it.TYPE,dataIndex:it.TYPE,title:An.TYPE,sortable:!0,filterable:!0,render:n=>wi(n)},{key:it.AMOUNT,dataIndex:it.AMOUNT,title:An.AMOUNT,sortable:!0,filterable:!0,render:n=>{var t,a;return e($u,{children:((a=(t=n.logs)==null?void 0:t.data)==null?void 0:a.amount)||"-"})}},{key:it.UPDATED_AT,dataIndex:it.UPDATED_AT,title:An.UPDATED_AT,sortable:!0,filterable:!0,render:n=>oe(n.updatedAt).format(Pn)},{key:it.STATUS,dataIndex:it.STATUS,title:An.STATUS,sortable:!0,filterable:!0,render:n=>{var t,a;return e(Te,{color:(Nt==null?void 0:Nt[(t=n.logs)==null?void 0:t.code])||"processing",children:(Ct==null?void 0:Ct[(a=n.logs)==null?void 0:a.code])||"Pending Payment"})}}],{Link:Vu,Title:Bu}=ne,zu=()=>{const{setLoading:n,currentPage:t}=M.appStore(),a=we(),[s,i]=E.useState([]);E.useEffect(()=>{c()},[]);const l=Uu.map(r=>(r.key===it.TRANSACTION_ID&&(r.render=d=>e(Vu,{href:"#",onClick:()=>{a(`${T.EE}/${T.MY_PLAN_INVOICE}/${d.transactionId}`)},children:d.transactionId})),r)),c=()=>{n(!0),q.userManagement.getPlanPaymentTransactions().then(r=>{n(!1),i(r)}).catch(r=>{n(!1),console.log({location:"getServiceTransactionLogs",error:r})})};return o("div",{children:[e(Bu,{level:4,children:t}),e(St,{columns:l,data:s})]})},Ba=""+new URL("logoEazyEvent-4fcd2a2c.png",import.meta.url).href;const{Title:Ft,Text:kt,Paragraph:Fn}=ne,Yu=[{title:"Item",dataIndex:"item",key:"item",render:(n,t)=>o("div",{children:[e(Ft,{level:5,ellipsis:{tooltip:n},children:n}),e(kt,{type:"secondary",children:t.description})]})},{title:"Price",dataIndex:"price",key:"price"},{title:"Validity",dataIndex:"validity",key:"validity"},{title:"Total",dataIndex:"total",key:"total"}],Fu=()=>{var g,C,p,m,_,D,f,A,I,F,G,P,x,J,k,L,U,ee,ce,j,Z,ue,me,X,w,b,Q,le,ve,Ke,Je,Ee,H,De,Me,Ue,st,Fe,rt,Ve,lt,ct,dt,mt,at,_t,wt,Dt,gt,ft,ot;const{setLoading:n,screen:t}=M.appStore(),{transactionId:a}=mr(),s=we(),[i,l]=E.useState({});E.useEffect(()=>{a&&c(a)},[]);const c=Ae=>{n(!0),q.userManagement.getPlanPaymentTransactionById(Ae).then(O=>{n(!1),l(O)}).catch(O=>{n(!1),console.log({location:"getPlanPaymentTransactionById",error:O})})};let r=[],d=[],h=[];if(i.transaction){r=[{key:"1",item:(g=i.plan)==null?void 0:g.name,description:(C=i.plan)==null?void 0:C.type,price:(p=i.plan)!=null&&p.discountPrice?o(ae,{direction:"vertical",children:[o(kt,{children:["₹",(m=i.plan)==null?void 0:m.discountPrice]}),o(kt,{delete:!0,children:["₹",(_=i.plan)==null?void 0:_.price]})," "]}):o(kt,{children:["₹",(D=i.plan)==null?void 0:D.price]}),validity:`${(f=i.plan)==null?void 0:f.validity} days`,total:`₹${((A=i.plan)==null?void 0:A.discountPrice)||((I=i.plan)==null?void 0:I.price)}`}],d=[{name:"Transaction Id",value:(P=(G=(F=i.transaction)==null?void 0:F.logs)==null?void 0:G.data)==null?void 0:P.transactionId},{name:"Payment Type",value:wi(i.transaction)},{name:"Payment Amount",value:(k=(J=(x=i.transaction)==null?void 0:x.logs)==null?void 0:J.data)!=null&&k.amount?`₹${((ee=(U=(L=i.transaction)==null?void 0:L.logs)==null?void 0:U.data)==null?void 0:ee.amount)/100}`:"-"},{name:"Payment Message",value:(j=(ce=i.transaction)==null?void 0:ce.logs)==null?void 0:j.message}];const Ae=Pr/2,O=(((Z=i.plan)==null?void 0:Z.discountPrice)||((ue=i.plan)==null?void 0:ue.price))*(Ae/100);h=[{name:"Sub total",value:`₹${((me=i.plan)==null?void 0:me.discountPrice)||((X=i.plan)==null?void 0:X.price)}`},{name:`CGST ${Ae}%`,value:`₹${O}`},{name:`CGST ${Ae}%`,value:`₹${O}`},{name:"Total",value:`₹${Math.round((((w=i.plan)==null?void 0:w.discountPrice)||((b=i.plan)==null?void 0:b.price))+2*O)}`}]}const u=Ae=>{n(!0);const O=document.getElementById("payment-invoice");sr(O,{useCORS:!0,allowTaint:!0,scrollY:0}).then(z=>{const se={type:"jpeg",quality:.98},de=[.5,.5],Be=`Invoice_${Ae}.pdf`,Oe=8.5;let ye=11;const Ge=Oe-de[0]*2,We=ye-de[1]*2,ze=z.height,S=Math.floor(z.width*(ye/Oe)),W=Math.ceil(ze/S);ye=We;const ie=document.createElement("canvas"),Se=ie.getContext("2d");ie.width=z.width,ie.height=S;const ke=new rr("p","in",[8.5,11],!0);for(let N=0;N<W;N++){N===W-1&&ze%S!==0&&(ie.height=ze%S,ye=ie.height*Ge/ie.width);const B=ie.width,Ce=ie.height;Se.fillStyle="white",Se.fillRect(0,0,B,Ce),Se.drawImage(z,0,N*S,B,Ce,0,0,B,Ce),N>0&&ke.addPage();const Ot=ie.toDataURL("image/"+se.type,se.quality);ke.addImage(Ot,se.type,de[1],de[0],Ge,ye)}ke.save(Be),n(!1)})},y=(Ae,O)=>{n(!0),q.paymentAPI.buyPlanPayment(Ae,O).then(z=>{n(!1);const{status:se,url:de}=z;se&&(window.location.href=de)}).catch(z=>{n(!1),console.log({location:"buyPlanPayment",error:z})})};return o("div",{className:"invoice-container",children:[e("div",{className:"margin-bottom-16",children:o(kt,{className:"cursor-pointer font-size-16",onClick:()=>{s(`${T.EE}/${T.MY_PLAN_TRANSACTION_HISTORY}`)},children:[e(nr,{fontSize:"inherit"})," "," back"]})}),e($,{justify:"center",children:e(v,{xs:24,sm:22,md:20,lg:18,xl:(Q=i.transaction)!=null&&Q.logs?22:18,children:e(_e,{style:{width:"100%"},children:o($,{gutter:64,children:[o(v,{span:(le=i.transaction)!=null&&le.logs?16:24,children:[o("span",{id:"payment-invoice",children:[e("div",{className:"invoice-title",children:o($,{children:[e(v,{span:12,children:o(kt,{className:"app__name",children:[e("img",{loading:"lazy",src:Ba,alt:"",width:30,style:{position:"relative",top:"7px"}}),"  ","Eazy Event"]})}),((ve=i.plan)==null?void 0:ve.invoiceNo)&&e(v,{span:12,children:o("div",{className:"float-right",children:[e(Ft,{level:5,children:"Invoice #"}),o(Fn,{children:[(Ke=i.plan)==null?void 0:Ke.invoiceNo," "]})]})})]})}),!((Je=i.transaction)!=null&&Je.logs)&&e(Re,{className:"margin-top-8",message:"Pending payment",description:`You've initiated the payment process for the ${(Ee=i.plan)==null?void 0:Ee.name} plan. Please complete your payment to start enjoying our services.`,type:"info",showIcon:!0}),o($,{gutter:[16,16],children:[e(v,{xs:24,sm:12,children:o("div",{className:"text-muted",children:[e(Ft,{level:5,children:"Billed To:"}),o(Ft,{level:5,children:[((H=i.userInfo)==null?void 0:H.firstName)||""," ",((De=i.userInfo)==null?void 0:De.lastName)||""," "]}),e("div",{className:"mb-1",children:(Me=i.userInfo)==null?void 0:Me.state}),e("div",{className:"mb-1",children:(Ue=i.userInfo)==null?void 0:Ue.email}),e("div",{children:(st=i.userInfo)==null?void 0:st.mobile})]})}),e(v,{xs:24,sm:12,children:o("div",{className:"float-right",children:[e(Ft,{level:5,children:"Eazy Event"}),e("div",{className:"mb-1",children:"Chennai"}),e("div",{className:"mb-1",children:"Tamil Nadu"}),e("div",{children:"GSTIN: 33AAKFE8470G1ZB"}),e("div",{children:"Contact: 9363967378"})]})})]}),e($,{className:"margin-top-16",children:o(Fn,{children:[e(kt,{strong:!0,children:"Paid Date: "})," ",oe((Fe=i.transaction)==null?void 0:Fe.updatedAt).format(Pn)]})}),o("div",{className:"py-2",children:[e(Ft,{level:5,className:"font-size-15",children:"Order Summary"}),e("div",{className:"table-responsive",children:e(ar,{dataSource:r,columns:Yu,pagination:!1,className:"mb-0"})}),e(ae,{direction:"vertical",style:{width:"100%"},children:o("table",{className:"float-right margin-top-16",children:[h.map(Ae=>o("tr",{children:[e("td",{className:"padding-right-16",children:e(kt,{strong:!0,children:Ae.name})}),e("td",{className:"padding-left-16",children:Ae.value})]})),e("tr",{children:e("td",{colSpan:2,children:(Ve=(rt=i.transaction)==null?void 0:rt.logs)!=null&&Ve.code?e(Te,{color:(Nt==null?void 0:Nt[(ct=(lt=i.transaction)==null?void 0:lt.logs)==null?void 0:ct.code])||"default",icon:e(or,{fontSize:"inherit"}),style:{width:"100%",textAlign:"center"},children:(Ct==null?void 0:Ct[(mt=(dt=i.transaction)==null?void 0:dt.logs)==null?void 0:mt.code])||e(Y,{})}):e(R,{type:"primary",style:{width:"100%"},onClick:()=>{var Ae,O;y((Ae=i.transaction)==null?void 0:Ae.planId,(O=i.transaction)==null?void 0:O.transactionId)},children:"Complete payment"})})})]})})]})]}),((_t=(at=i.transaction)==null?void 0:at.logs)==null?void 0:_t.code)==="PAYMENT_SUCCESS"&&o(ae,{direction:t==="MOBILE"?"horizontal":"vertical",style:{width:t==="MOBILE"?"100%":"auto"},className:"float-right margin-bottom-8",children:[e(R,{type:"primary",icon:e(Jo,{fontSize:"inherit"}),onClick:()=>{u(a)},children:"Download"}),e(R,{type:"primary",icon:e(ir,{fontSize:"inherit"}),onClick:()=>window.print(),className:"margin-left-8",children:"Print"})]})]}),((wt=i.transaction)==null?void 0:wt.logs)&&e(v,{flex:8,className:"payment-details",children:o(ae,{direction:"vertical",style:{padding:"8px"},children:[e(Te,{color:(Nt==null?void 0:Nt[(gt=(Dt=i.transaction)==null?void 0:Dt.logs)==null?void 0:gt.code])||"processing",children:(Ct==null?void 0:Ct[(ot=(ft=i.transaction)==null?void 0:ft.logs)==null?void 0:ot.code])||"Pending Payment"}),e(Ft,{level:5,children:"Payment Details:"}),d.map(Ae=>o("div",{children:[e(Fn,{strong:!0,children:Ae.name}),e(Fn,{children:Ae.value})]}))]})})]})})})})]})},Gu=new URL(""+new URL("Error-429-pana-c30aa974.svg",import.meta.url).href,self.location),Di=()=>{const{screen:n}=M.appStore();return e(wn,{icon:e("img",{loading:"lazy",src:Gu,alt:"",width:n==="MOBILE"?"100%":"30%"}),subTitle:"You've made too many requests in a short period. Please wait a few moments and try again later. We apologize for the inconvenience.",title:"Too many request",extra:e(R,{type:"default",onClick:()=>{window.location.replace("/")},children:"Back Home"})})};const{Title:Wu}=ne,Hu=()=>{const{height:n}=qe();return E.useEffect(()=>{localStorage.setItem("contactToken",Date.now().toString()),setTimeout(()=>{window.close(),console.log("clear timeout")},3e3)},[]),e("div",{className:"contact-auth-complete__container",style:{height:n},children:e(Wu,{level:4,children:"Please wait... Authentication in progress. Do not close your browser; it will close automatically."})})},qu=[{path:"/",element:e(Ai,{})},{path:`${T.EE}/*`,element:e(fl,{})},{path:T.AUTHORIZER,element:e(Gr,{})},{path:T.LOGIN,element:e(pu,{})},{path:T.PRIVACY_POLICY,element:e(jd,{})},{path:T.TERMS_OF_SERVICE,element:e(bu,{})},{path:T.CONTACT_MANAGEMENT_GOOGLE_DOC,element:e(Qr,{})},{path:T.PRICING,element:e(Ii,{isPricingPage:!0})},{path:T.CONTACT_US,element:e(Bl,{})},{path:T.BUY_PLAN,element:e(ku,{})},{path:T.FORBIDDEN,element:e(ii,{})},{path:T.TOO_MANY_REQUEST,element:e(Di,{})},{path:T.CONTACT_AUTH_COMPLETED,element:e(Hu,{})},{path:"*",element:e(si,{})}],Ku=[{path:"/",element:e(Ai,{})},{path:T.DASHBOARD,element:e(Ql,{})},{path:T.CONTACT_MANAGEMENT,element:e(Rl,{})},{path:T.TEMPLATE_MANAGEMENT,element:e(vu,{})},{path:T.EVENT_MANAGEMENT,element:e(pd,{})},{path:T.MY_INVITATION,element:e(zd,{})},{path:T.REVIEW_TEMPLATES,element:e(du,{})},{path:T.MY_PROFILE,element:e(Fd,{})},{path:T.FEEDBACK,element:e(yd,{})},{path:T.REPORT_BUG,element:e(eu,{})},{path:T.MY_PLAN,element:e(Ii,{})},{path:T.MY_PLAN_DETAILS,element:e(Ou,{})},{path:T.SERVICE_TRANSACTION_LOGS,element:e(Lu,{})},{path:T.MY_PLAN_TRANSACTION_HISTORY,element:e(zu,{})},{path:`${T.MY_PLAN_INVOICE}/:transactionId`,element:e(Fu,{})},{path:T.FORBIDDEN,element:e(ii,{})},{path:T.TOO_MANY_REQUEST,element:e(Di,{})},{path:"*",element:e(si,{})}],ju=()=>e(ei,{children:Ku.map(n=>e(ti,{element:n.element,path:n.path},n.path))}),Ju=()=>e(ei,{children:qu.map(n=>e(ti,{element:n.element,path:n.path},n.path))});const{Text:Xu}=ne,Qu=n=>{const{screen:t}=M.appStore(),a=we(),[s,i]=E.useState(!1),l=()=>{i(!0)},c=()=>{i(!1)},r=()=>{a(T.AUTHORIZER)};return o("div",{className:"header-home__container",children:[o(Xu,{className:"app__name",onClick:()=>{a("/")},children:[e("img",{loading:"lazy",src:Ba,alt:"",width:30,style:{position:"relative",top:"7px"}}),"  ","Eazy Event"]}),t==="MOBILE"?e("span",{children:e(lr,{onClick:l,className:"menu-icon",size:64})}):e("span",{children:o("div",{className:"get-started__button",children:[e(R,{type:"text",onClick:()=>a(T.PRICING),children:te.PRICING}),e(R,{type:"text",onClick:()=>a(T.CONTACT_US),children:te.CONTACT_US}),!ni.includes(window.location.pathname)&&e(R,{type:"primary",onClick:r,children:"Get Started"})]})}),e(cr,{placement:"top",width:500,onClose:c,open:s,closeIcon:e(dr,{}),children:o(ae,{direction:"vertical",style:{width:"100%"},children:[Id.map(d=>o($,{onClick:()=>{a(d.link),c()},children:[e(v,{span:20,children:e(R,{type:"text",children:d.label})}),e(v,{span:4,children:e(Jn,{style:{float:"right",color:"#667085"}})})]},d.label)),e(tt,{style:{margin:"0px"}}),o($,{onClick:()=>{r(),c()},children:[e(v,{span:20,children:e(R,{type:"text",children:"Get Started"})}),e(v,{span:4,children:e(Jn,{style:{float:"right",color:"#667085"}})})]}),e(tt,{style:{margin:"0px"}})]})})]})},{Header:Zu,Content:eh,Footer:th}=In,{Text:Nh,Link:Lo,Paragraph:nh}=ne,ah=n=>{const{height:t}=qe(),{currentPage:a,screen:s,collapsed:i}=M.appStore(),{isAuthorized:l}=M.userStore(),{children:c}=n,[r,d]=E.useState(!1);E.useEffect(()=>{const y=()=>{const g=window.scrollY>0;d(g)};return window.addEventListener("scroll",y),()=>{window.removeEventListener("scroll",y)}},[]);const h=y=>s==="MOBILE"?{flex:y}:{span:y},u=s==="DESKTOP"?!0:!(s==="MOBILE"&&!i);return o(In,{className:`home-page__container ${window.location.pathname.replaceAll("/","__")}`,children:[!io.includes(a)&&e(Zu,{style:{position:"sticky",top:0,zIndex:10,width:"100%",display:"grid",alignItems:"center",background:"#fff",boxShadow:r?"rgb(234, 236, 240) 0px 0px 1px, rgba(29, 41, 57, 0.08) 0px 6px 12px":"none"},children:e("div",{children:e(Qu,{isAuthorized:l})})}),e(eh,{className:"site-layout",style:{minHeight:t-130,background:"rgb(255, 255, 255)"},children:c}),u&&e(th,{style:{textAlign:"center",background:"#fff"},children:o($,{children:[e(v,{...h(12),style:{textAlign:"center"},children:o(nh,{style:{float:!io.includes(a)&&s==="DESKTOP"?"left":"none",color:"rgb(102, 112, 133)"},children:[e("img",{loading:"lazy",src:Ba,alt:"",width:20,style:{position:"relative",top:"5px"}}),"  ","©2023 Eazy Event"]})}),e(v,{...h(12),children:o("div",{style:s!=="MOBILE"?{float:"right"}:{},children:[e(Lo,{href:T.TERMS_OF_SERVICE,target:"_blank",style:{cursor:"pointer",color:"rgb(102, 112, 133)"},children:"Terms of Service"}),e(Lo,{href:T.PRIVACY_POLICY,target:"_blank",style:{marginLeft:"1rem",cursor:"pointer",color:"rgb(102, 112, 133)"},children:"Privacy Policy"})]})})]})})]})};function oh(){const{width:n}=qe(),{setScreen:t,setCollapsed:a,currentPage:s,setSnackbar:i}=M.appStore(),[l,c]=Qo.useMessage(),r=we();return E.useEffect(()=>{n<650?(t("MOBILE"),a(!0)):(t("DESKTOP"),a(!1))},[n]),E.useEffect(()=>{Lr(r,l),i(l)},[]),o("div",{style:{width:n},children:[c,o(ur,{children:[e("meta",{charSet:"utf-8"}),o("title",{children:["Eazy Event ",s&&`| ${s}`," "]}),e("link",{rel:"canonical",href:window.location.href}),e("meta",{name:"author",content:"Eazy Event"}),e("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.5, maximum-scale=2.0"})]}),e(hr,{children:e(ah,{children:e(Ju,{})})})]})}pr.createRoot(document.getElementById("root")).render(e(E.StrictMode,{children:e(gr,{children:e(oh,{})})}));
